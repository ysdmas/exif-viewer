(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))s($);new MutationObserver($=>{for(const d of $)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&s(g)}).observe(document,{childList:!0,subtree:!0});function r($){const d={};return $.integrity&&(d.integrity=$.integrity),$.referrerPolicy&&(d.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?d.credentials="include":$.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s($){if($.ep)return;$.ep=!0;const d=r($);fetch($.href,d)}})();var Vs={exports:{}},La={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Ug(){if(gd)return La;gd=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function r(s,$,d){var g=null;if(d!==void 0&&(g=""+d),$.key!==void 0&&(g=""+$.key),"key"in $){d={};for(var x in $)x!=="key"&&(d[x]=$[x])}else d=$;return $=d.ref,{$$typeof:o,type:s,key:g,ref:$!==void 0?$:null,props:d}}return La.Fragment=l,La.jsx=r,La.jsxs=r,La}var hd;function Lg(){return hd||(hd=1,Vs.exports=Ug()),Vs.exports}var _e=Lg(),ks={exports:{}},Y={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function zg(){if(yd)return Y;yd=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),w=Symbol.iterator;function U(h){return h===null||typeof h!="object"?null:(h=w&&h[w]||h["@@iterator"],typeof h=="function"?h:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function fe(h,F,z){this.props=h,this.context=F,this.refs=G,this.updater=z||B}fe.prototype.isReactComponent={},fe.prototype.setState=function(h,F){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,F,"setState")},fe.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function me(){}me.prototype=fe.prototype;function se(h,F,z){this.props=h,this.context=F,this.refs=G,this.updater=z||B}var ee=se.prototype=new me;ee.constructor=se,X(ee,fe.prototype),ee.isPureReactComponent=!0;var te=Array.isArray;function K(){}var k={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function Je(h,F,z){var q=z.ref;return{$$typeof:o,type:h,key:F,ref:q!==void 0?q:null,props:z}}function Lt(h,F){return Je(h.type,F,h.props)}function vt(h){return typeof h=="object"&&h!==null&&h.$$typeof===o}function et(h){var F={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(z){return F[z]})}var wi=/\/+/g;function Bt(h,F){return typeof h=="object"&&h!==null&&h.key!=null?et(""+h.key):F.toString(36)}function Nt(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(K,K):(h.status="pending",h.then(function(F){h.status==="pending"&&(h.status="fulfilled",h.value=F)},function(F){h.status==="pending"&&(h.status="rejected",h.reason=F)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function _(h,F,z,q,Q){var ie=typeof h;(ie==="undefined"||ie==="boolean")&&(h=null);var de=!1;if(h===null)de=!0;else switch(ie){case"bigint":case"string":case"number":de=!0;break;case"object":switch(h.$$typeof){case o:case l:de=!0;break;case D:return de=h._init,_(de(h._payload),F,z,q,Q)}}if(de)return Q=Q(h),de=q===""?"."+Bt(h,0):q,te(Q)?(z="",de!=null&&(z=de.replace(wi,"$&/")+"/"),_(Q,F,z,"",function(Vn){return Vn})):Q!=null&&(vt(Q)&&(Q=Lt(Q,z+(Q.key==null||h&&h.key===Q.key?"":(""+Q.key).replace(wi,"$&/")+"/")+de)),F.push(Q)),1;de=0;var Ze=q===""?".":q+":";if(te(h))for(var Ne=0;Ne<h.length;Ne++)q=h[Ne],ie=Ze+Bt(q,Ne),de+=_(q,F,z,ie,Q);else if(Ne=U(h),typeof Ne=="function")for(h=Ne.call(h),Ne=0;!(q=h.next()).done;)q=q.value,ie=Ze+Bt(q,Ne++),de+=_(q,F,z,ie,Q);else if(ie==="object"){if(typeof h.then=="function")return _(Nt(h),F,z,q,Q);throw F=String(h),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return de}function L(h,F,z){if(h==null)return h;var q=[],Q=0;return _(h,q,"","",function(ie){return F.call(z,ie,Q++)}),q}function W(h){if(h._status===-1){var F=h._result;F=F(),F.then(function(z){(h._status===0||h._status===-1)&&(h._status=1,h._result=z)},function(z){(h._status===0||h._status===-1)&&(h._status=2,h._result=z)}),h._status===-1&&(h._status=0,h._result=F)}if(h._status===1)return h._result.default;throw h._result}var ye=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},Te={map:L,forEach:function(h,F,z){L(h,function(){F.apply(this,arguments)},z)},count:function(h){var F=0;return L(h,function(){F++}),F},toArray:function(h){return L(h,function(F){return F})||[]},only:function(h){if(!vt(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};return Y.Activity=C,Y.Children=Te,Y.Component=fe,Y.Fragment=r,Y.Profiler=$,Y.PureComponent=se,Y.StrictMode=s,Y.Suspense=E,Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Y.__COMPILER_RUNTIME={__proto__:null,c:function(h){return k.H.useMemoCache(h)}},Y.cache=function(h){return function(){return h.apply(null,arguments)}},Y.cacheSignal=function(){return null},Y.cloneElement=function(h,F,z){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var q=X({},h.props),Q=h.key;if(F!=null)for(ie in F.key!==void 0&&(Q=""+F.key),F)!he.call(F,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&F.ref===void 0||(q[ie]=F[ie]);var ie=arguments.length-2;if(ie===1)q.children=z;else if(1<ie){for(var de=Array(ie),Ze=0;Ze<ie;Ze++)de[Ze]=arguments[Ze+2];q.children=de}return Je(h.type,Q,q)},Y.createContext=function(h){return h={$$typeof:g,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:d,_context:h},h},Y.createElement=function(h,F,z){var q,Q={},ie=null;if(F!=null)for(q in F.key!==void 0&&(ie=""+F.key),F)he.call(F,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(Q[q]=F[q]);var de=arguments.length-2;if(de===1)Q.children=z;else if(1<de){for(var Ze=Array(de),Ne=0;Ne<de;Ne++)Ze[Ne]=arguments[Ne+2];Q.children=Ze}if(h&&h.defaultProps)for(q in de=h.defaultProps,de)Q[q]===void 0&&(Q[q]=de[q]);return Je(h,ie,Q)},Y.createRef=function(){return{current:null}},Y.forwardRef=function(h){return{$$typeof:x,render:h}},Y.isValidElement=vt,Y.lazy=function(h){return{$$typeof:D,_payload:{_status:-1,_result:h},_init:W}},Y.memo=function(h,F){return{$$typeof:b,type:h,compare:F===void 0?null:F}},Y.startTransition=function(h){var F=k.T,z={};k.T=z;try{var q=h(),Q=k.S;Q!==null&&Q(z,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(K,ye)}catch(ie){ye(ie)}finally{F!==null&&z.types!==null&&(F.types=z.types),k.T=F}},Y.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Y.use=function(h){return k.H.use(h)},Y.useActionState=function(h,F,z){return k.H.useActionState(h,F,z)},Y.useCallback=function(h,F){return k.H.useCallback(h,F)},Y.useContext=function(h){return k.H.useContext(h)},Y.useDebugValue=function(){},Y.useDeferredValue=function(h,F){return k.H.useDeferredValue(h,F)},Y.useEffect=function(h,F){return k.H.useEffect(h,F)},Y.useEffectEvent=function(h){return k.H.useEffectEvent(h)},Y.useId=function(){return k.H.useId()},Y.useImperativeHandle=function(h,F,z){return k.H.useImperativeHandle(h,F,z)},Y.useInsertionEffect=function(h,F){return k.H.useInsertionEffect(h,F)},Y.useLayoutEffect=function(h,F){return k.H.useLayoutEffect(h,F)},Y.useMemo=function(h,F){return k.H.useMemo(h,F)},Y.useOptimistic=function(h,F){return k.H.useOptimistic(h,F)},Y.useReducer=function(h,F,z){return k.H.useReducer(h,F,z)},Y.useRef=function(h){return k.H.useRef(h)},Y.useState=function(h){return k.H.useState(h)},Y.useSyncExternalStore=function(h,F,z){return k.H.useSyncExternalStore(h,F,z)},Y.useTransition=function(){return k.H.useTransition()},Y.version="19.2.0",Y}var vd;function sf(){return vd||(vd=1,ks.exports=zg()),ks.exports}var Fi=sf(),js={exports:{}},za={},Ws={exports:{}},Xs={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Gg(){return Sd||(Sd=1,(function(o){function l(_,L){var W=_.length;_.push(L);e:for(;0<W;){var ye=W-1>>>1,Te=_[ye];if(0<$(Te,L))_[ye]=L,_[W]=Te,W=ye;else break e}}function r(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var L=_[0],W=_.pop();if(W!==L){_[0]=W;e:for(var ye=0,Te=_.length,h=Te>>>1;ye<h;){var F=2*(ye+1)-1,z=_[F],q=F+1,Q=_[q];if(0>$(z,W))q<Te&&0>$(Q,z)?(_[ye]=Q,_[q]=W,ye=q):(_[ye]=z,_[F]=W,ye=F);else if(q<Te&&0>$(Q,W))_[ye]=Q,_[q]=W,ye=q;else break e}}return L}function $(_,L){var W=_.sortIndex-L.sortIndex;return W!==0?W:_.id-L.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var g=Date,x=g.now();o.unstable_now=function(){return g.now()-x}}var E=[],b=[],D=1,C=null,w=3,U=!1,B=!1,X=!1,G=!1,fe=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ee(_){for(var L=r(b);L!==null;){if(L.callback===null)s(b);else if(L.startTime<=_)s(b),L.sortIndex=L.expirationTime,l(E,L);else break;L=r(b)}}function te(_){if(X=!1,ee(_),!B)if(r(E)!==null)B=!0,K||(K=!0,et());else{var L=r(b);L!==null&&Nt(te,L.startTime-_)}}var K=!1,k=-1,he=5,Je=-1;function Lt(){return G?!0:!(o.unstable_now()-Je<he)}function vt(){if(G=!1,K){var _=o.unstable_now();Je=_;var L=!0;try{e:{B=!1,X&&(X=!1,me(k),k=-1),U=!0;var W=w;try{t:{for(ee(_),C=r(E);C!==null&&!(C.expirationTime>_&&Lt());){var ye=C.callback;if(typeof ye=="function"){C.callback=null,w=C.priorityLevel;var Te=ye(C.expirationTime<=_);if(_=o.unstable_now(),typeof Te=="function"){C.callback=Te,ee(_),L=!0;break t}C===r(E)&&s(E),ee(_)}else s(E);C=r(E)}if(C!==null)L=!0;else{var h=r(b);h!==null&&Nt(te,h.startTime-_),L=!1}}break e}finally{C=null,w=W,U=!1}L=void 0}}finally{L?et():K=!1}}}var et;if(typeof se=="function")et=function(){se(vt)};else if(typeof MessageChannel<"u"){var wi=new MessageChannel,Bt=wi.port2;wi.port1.onmessage=vt,et=function(){Bt.postMessage(null)}}else et=function(){fe(vt,0)};function Nt(_,L){k=fe(function(){_(o.unstable_now())},L)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(_){_.callback=null},o.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<_?Math.floor(1e3/_):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_next=function(_){switch(w){case 1:case 2:case 3:var L=3;break;default:L=w}var W=w;w=L;try{return _()}finally{w=W}},o.unstable_requestPaint=function(){G=!0},o.unstable_runWithPriority=function(_,L){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var W=w;w=_;try{return L()}finally{w=W}},o.unstable_scheduleCallback=function(_,L,W){var ye=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ye+W:ye):W=ye,_){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=W+Te,_={id:D++,callback:L,priorityLevel:_,startTime:W,expirationTime:Te,sortIndex:-1},W>ye?(_.sortIndex=W,l(b,_),r(E)===null&&_===r(b)&&(X?(me(k),k=-1):X=!0,Nt(te,W-ye))):(_.sortIndex=Te,l(E,_),B||U||(B=!0,K||(K=!0,et()))),_},o.unstable_shouldYield=Lt,o.unstable_wrapCallback=function(_){var L=w;return function(){var W=w;w=L;try{return _.apply(this,arguments)}finally{w=W}}}})(Xs)),Xs}var bd;function Ig(){return bd||(bd=1,Ws.exports=Gg()),Ws.exports}var Ys={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function qg(){if(Td)return Xe;Td=1;var o=sf();function l(E){var b="https://react.dev/errors/"+E;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)b+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+E+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(l(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},$=Symbol.for("react.portal");function d(E,b,D){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:C==null?null:""+C,children:E,containerInfo:b,implementation:D}}var g=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(E,b){if(E==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(E,b){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(l(299));return d(E,b,null,D)},Xe.flushSync=function(E){var b=g.T,D=s.p;try{if(g.T=null,s.p=2,E)return E()}finally{g.T=b,s.p=D,s.d.f()}},Xe.preconnect=function(E,b){typeof E=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,s.d.C(E,b))},Xe.prefetchDNS=function(E){typeof E=="string"&&s.d.D(E)},Xe.preinit=function(E,b){if(typeof E=="string"&&b&&typeof b.as=="string"){var D=b.as,C=x(D,b.crossOrigin),w=typeof b.integrity=="string"?b.integrity:void 0,U=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;D==="style"?s.d.S(E,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:w,fetchPriority:U}):D==="script"&&s.d.X(E,{crossOrigin:C,integrity:w,fetchPriority:U,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Xe.preinitModule=function(E,b){if(typeof E=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var D=x(b.as,b.crossOrigin);s.d.M(E,{crossOrigin:D,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&s.d.M(E)},Xe.preload=function(E,b){if(typeof E=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var D=b.as,C=x(D,b.crossOrigin);s.d.L(E,D,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Xe.preloadModule=function(E,b){if(typeof E=="string")if(b){var D=x(b.as,b.crossOrigin);s.d.m(E,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:D,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else s.d.m(E)},Xe.requestFormReset=function(E){s.d.r(E)},Xe.unstable_batchedUpdates=function(E,b){return E(b)},Xe.useFormState=function(E,b,D){return g.H.useFormState(E,b,D)},Xe.useFormStatus=function(){return g.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var Ed;function Bg(){if(Ed)return Ys.exports;Ed=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Ys.exports=qg(),Ys.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd;function Hg(){if(xd)return za;xd=1;var o=Ig(),l=sf(),r=Bg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(d(e)!==e)throw Error(s(188))}function b(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,n=t;;){var a=i.return;if(a===null)break;var u=a.alternate;if(u===null){if(n=a.return,n!==null){i=n;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===i)return E(a),e;if(u===n)return E(a),t;u=u.sibling}throw Error(s(188))}if(i.return!==n.return)i=a,n=u;else{for(var f=!1,c=a.child;c;){if(c===i){f=!0,i=a,n=u;break}if(c===n){f=!0,n=a,i=u;break}c=c.sibling}if(!f){for(c=u.child;c;){if(c===i){f=!0,i=u,n=a;break}if(c===n){f=!0,n=u,i=a;break}c=c.sibling}if(!f)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function D(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D(e),t!==null)return t;e=e.sibling}return null}var C=Object.assign,w=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),Lt=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function et(e){return e===null||typeof e!="object"?null:(e=vt&&e[vt]||e["@@iterator"],typeof e=="function"?e:null)}var wi=Symbol.for("react.client.reference");function Bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===wi?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case fe:return"Profiler";case G:return"StrictMode";case te:return"Suspense";case K:return"SuspenseList";case Je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case se:return e.displayName||"Context";case me:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:Bt(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return Bt(e(t))}catch{}}return null}var Nt=Array.isArray,_=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ye=[],Te=-1;function h(e){return{current:e}}function F(e){0>Te||(e.current=ye[Te],ye[Te]=null,Te--)}function z(e,t){Te++,ye[Te]=e.current,e.current=t}var q=h(null),Q=h(null),ie=h(null),de=h(null);function Ze(e,t){switch(z(ie,t),z(Q,e),z(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ic(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ic(t),e=qc(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(q),z(q,e)}function Ne(){F(q),F(Q),F(ie)}function Vn(e){e.memoizedState!==null&&z(de,e);var t=q.current,i=qc(t,e.type);t!==i&&(z(Q,e),z(q,i))}function Ha(e){Q.current===e&&(F(q),F(Q)),de.current===e&&(F(de),Fa._currentValue=W)}var Ou,mf;function Mi(e){if(Ou===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ou=t&&t[1]||"",mf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ou+e+mf}var Cu=!1;function Au(e,t){if(!e||Cu)return"";Cu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var R=function(){throw Error()};if(Object.defineProperty(R.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(R,[])}catch(O){var T=O}Reflect.construct(e,[],R)}else{try{R.call()}catch(O){T=O}e.call(R.prototype)}}else{try{throw Error()}catch(O){T=O}(R=e())&&typeof R.catch=="function"&&R.catch(function(){})}}catch(O){if(O&&T&&typeof O.stack=="string")return[O.stack,T.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),f=u[0],c=u[1];if(f&&c){var m=f.split(`
`),S=c.split(`
`);for(a=n=0;n<m.length&&!m[n].includes("DetermineComponentFrameRoot");)n++;for(;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;if(n===m.length||a===S.length)for(n=m.length-1,a=S.length-1;1<=n&&0<=a&&m[n]!==S[a];)a--;for(;1<=n&&0<=a;n--,a--)if(m[n]!==S[a]){if(n!==1||a!==1)do if(n--,a--,0>a||m[n]!==S[a]){var A=`
`+m[n].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=n&&0<=a);break}}}finally{Cu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Mi(i):""}function cm(e,t){switch(e.tag){case 26:case 27:case 5:return Mi(e.type);case 16:return Mi("Lazy");case 13:return e.child!==t&&t!==null?Mi("Suspense Fallback"):Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Au(e.type,!1);case 11:return Au(e.type.render,!1);case 1:return Au(e.type,!0);case 31:return Mi("Activity");default:return""}}function pf(e){try{var t="",i=null;do t+=cm(e,i),i=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Du=Object.prototype.hasOwnProperty,_u=o.unstable_scheduleCallback,Nu=o.unstable_cancelCallback,dm=o.unstable_shouldYield,mm=o.unstable_requestPaint,ft=o.unstable_now,pm=o.unstable_getCurrentPriorityLevel,gf=o.unstable_ImmediatePriority,hf=o.unstable_UserBlockingPriority,Va=o.unstable_NormalPriority,gm=o.unstable_LowPriority,yf=o.unstable_IdlePriority,hm=o.log,ym=o.unstable_setDisableYieldValue,kn=null,ot=null;function ri(e){if(typeof hm=="function"&&ym(e),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(kn,e)}catch{}}var $t=Math.clz32?Math.clz32:bm,vm=Math.log,Sm=Math.LN2;function bm(e){return e>>>=0,e===0?32:31-(vm(e)/Sm|0)|0}var ka=256,ja=262144,Wa=4194304;function Ui(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xa(e,t,i){var n=e.pendingLanes;if(n===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var c=n&134217727;return c!==0?(n=c&~u,n!==0?a=Ui(n):(f&=c,f!==0?a=Ui(f):i||(i=c&~e,i!==0&&(a=Ui(i))))):(c=n&~u,c!==0?a=Ui(c):f!==0?a=Ui(f):i||(i=n&~e,i!==0&&(a=Ui(i)))),a===0?0:t!==0&&t!==a&&(t&u)===0&&(u=a&-a,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:a}function jn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Tm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(){var e=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),e}function Ru(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Wn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Em(e,t,i,n,a,u){var f=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var c=e.entanglements,m=e.expirationTimes,S=e.hiddenUpdates;for(i=f&~i;0<i;){var A=31-$t(i),R=1<<A;c[A]=0,m[A]=-1;var T=S[A];if(T!==null)for(S[A]=null,A=0;A<T.length;A++){var O=T[A];O!==null&&(O.lane&=-536870913)}i&=~R}n!==0&&Sf(e,n,0),u!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function Sf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-$t(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|i&261930}function bf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-$t(i),a=1<<n;a&t|e[n]&t&&(e[n]|=t),i&=~a}}function Tf(e,t){var i=t&-t;return i=(i&42)!==0?1:Fu(i),(i&(e.suspendedLanes|t))!==0?0:i}function Fu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ef(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:fd(e.type))}function xf(e,t){var i=L.p;try{return L.p=e,t()}finally{L.p=i}}var si=Math.random().toString(36).slice(2),Be="__reactFiber$"+si,tt="__reactProps$"+si,tn="__reactContainer$"+si,Mu="__reactEvents$"+si,xm="__reactListeners$"+si,Om="__reactHandles$"+si,Of="__reactResources$"+si,Xn="__reactMarker$"+si;function Uu(e){delete e[Be],delete e[tt],delete e[Mu],delete e[xm],delete e[Om]}function nn(e){var t=e[Be];if(t)return t;for(var i=e.parentNode;i;){if(t=i[tn]||i[Be]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Xc(e);e!==null;){if(i=e[Be])return i;e=Xc(e)}return t}e=i,i=e.parentNode}return null}function an(e){if(e=e[Be]||e[tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ln(e){var t=e[Of];return t||(t=e[Of]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Xn]=!0}var Cf=new Set,Af={};function Li(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Af[e]=t,e=0;e<t.length;e++)Cf.add(t[e])}var Cm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Df={},_f={};function Am(e){return Du.call(_f,e)?!0:Du.call(Df,e)?!1:Cm.test(e)?_f[e]=!0:(Df[e]=!0,!1)}function Ya(e,t,i){if(Am(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Za(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Ht(e,t,i,n){if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+n)}}function St(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dm(e,t,i){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(f){i=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Lu(e){if(!e._valueTracker){var t=Nf(e)?"checked":"value";e._valueTracker=Dm(e,t,""+e[t])}}function Rf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Nf(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _m=/[\n"\\]/g;function bt(e){return e.replace(_m,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zu(e,t,i,n,a,u,f,c){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+St(t)):e.value!==""+St(t)&&(e.value=""+St(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Gu(e,f,St(t)):i!=null?Gu(e,f,St(i)):n!=null&&e.removeAttribute("value"),a==null&&u!=null&&(e.defaultChecked=!!u),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+St(c):e.removeAttribute("name")}function Ff(e,t,i,n,a,u,f,c){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Lu(e);return}i=i!=null?""+St(i):"",t=t!=null?""+St(t):i,c||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=c?e.checked:!!n,e.defaultChecked=!!n,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Lu(e)}function Gu(e,t,i){t==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function rn(e,t,i,n){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&n&&(e[i].defaultSelected=!0)}else{for(i=""+St(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function wf(e,t,i){if(t!=null&&(t=""+St(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+St(i):""}function Mf(e,t,i,n){if(t==null){if(n!=null){if(i!=null)throw Error(s(92));if(Nt(n)){if(1<n.length)throw Error(s(93));n=n[0]}i=n}i==null&&(i=""),t=i}i=St(t),e.defaultValue=i,n=e.textContent,n===i&&n!==""&&n!==null&&(e.value=n),Lu(e)}function sn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Nm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uf(e,t,i){var n=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,i):typeof i!="number"||i===0||Nm.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Lf(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var n in i)!i.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&i[a]!==n&&Uf(e,a,n)}else for(var u in t)t.hasOwnProperty(u)&&Uf(e,u,t[u])}function Iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(e){return Fm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vt(){}var qu=null;function Bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fn=null,on=null;function zf(e){var t=an(e);if(t&&(e=t.stateNode)){var i=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(zu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var a=n[tt]||null;if(!a)throw Error(s(90));zu(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<i.length;t++)n=i[t],n.form===e.form&&Rf(n)}break e;case"textarea":wf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&rn(e,!!i.multiple,t,!1)}}}var Hu=!1;function Gf(e,t,i){if(Hu)return e(t,i);Hu=!0;try{var n=e(t);return n}finally{if(Hu=!1,(fn!==null||on!==null)&&(Gl(),fn&&(t=fn,e=on,on=fn=null,zf(t),e)))for(t=0;t<e.length;t++)zf(e[t])}}function Zn(e,t){var i=e.stateNode;if(i===null)return null;var n=i[tt]||null;if(n===null)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vu=!1;if(kt)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Vu=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Vu=!1}var fi=null,ku=null,Ka=null;function If(){if(Ka)return Ka;var e,t=ku,i=t.length,n,a="value"in fi?fi.value:fi.textContent,u=a.length;for(e=0;e<i&&t[e]===a[e];e++);var f=i-e;for(n=1;n<=f&&t[i-n]===a[u-n];n++);return Ka=a.slice(e,1<n?1-n:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function qf(){return!1}function it(e){function t(i,n,a,u,f){this._reactName=i,this._targetInst=a,this.type=n,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(i=e[c],this[c]=i?i(u):u[c]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?el:qf,this.isPropagationStopped=qf,this}return C(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=it(zi),Pn=C({},zi,{view:0,detail:0}),wm=it(Pn),ju,Wu,Kn,il=C({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(ju=e.screenX-Kn.screenX,Wu=e.screenY-Kn.screenY):Wu=ju=0,Kn=e),ju)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),Bf=it(il),Mm=C({},il,{dataTransfer:0}),Um=it(Mm),Lm=C({},Pn,{relatedTarget:0}),Xu=it(Lm),zm=C({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=it(zm),Im=C({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qm=it(Im),Bm=C({},zi,{data:0}),Hf=it(Bm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=km[e])?!!t[e]:!1}function Yu(){return jm}var Wm=C({},Pn,{key:function(e){if(e.key){var t=Hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xm=it(Wm),Ym=C({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=it(Ym),Zm=C({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),Qm=it(Zm),Pm=C({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Km=it(Pm),Jm=C({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ep=it(Jm),tp=C({},zi,{newState:0,oldState:0}),ip=it(tp),np=[9,13,27,32],Zu=kt&&"CompositionEvent"in window,Jn=null;kt&&"documentMode"in document&&(Jn=document.documentMode);var ap=kt&&"TextEvent"in window&&!Jn,kf=kt&&(!Zu||Jn&&8<Jn&&11>=Jn),jf=" ",Wf=!1;function Xf(e,t){switch(e){case"keyup":return np.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function lp(e,t){switch(e){case"compositionend":return Yf(t);case"keypress":return t.which!==32?null:(Wf=!0,jf);case"textInput":return e=t.data,e===jf&&Wf?null:e;default:return null}}function up(e,t){if($n)return e==="compositionend"||!Zu&&Xf(e,t)?(e=If(),Ka=ku=fi=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var rp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rp[e.type]:t==="textarea"}function Qf(e,t,i,n){fn?on?on.push(n):on=[n]:fn=n,t=jl(t,"onChange"),0<t.length&&(i=new tl("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var ea=null,ta=null;function sp(e){wc(e,0)}function nl(e){var t=Yn(e);if(Rf(t))return e}function Pf(e,t){if(e==="change")return t}var Kf=!1;if(kt){var Qu;if(kt){var Pu="oninput"in document;if(!Pu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Pu=typeof Jf.oninput=="function"}Qu=Pu}else Qu=!1;Kf=Qu&&(!document.documentMode||9<document.documentMode)}function eo(){ea&&(ea.detachEvent("onpropertychange",to),ta=ea=null)}function to(e){if(e.propertyName==="value"&&nl(ta)){var t=[];Qf(t,ta,e,Bu(e)),Gf(sp,t)}}function fp(e,t,i){e==="focusin"?(eo(),ea=t,ta=i,ea.attachEvent("onpropertychange",to)):e==="focusout"&&eo()}function op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(ta)}function $p(e,t){if(e==="click")return nl(t)}function cp(e,t){if(e==="input"||e==="change")return nl(t)}function dp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:dp;function ia(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var a=i[n];if(!Du.call(t,a)||!ct(e[a],t[a]))return!1}return!0}function io(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function no(e,t){var i=io(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=io(i)}}function ao(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ao(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qa(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Qa(e.document)}return t}function Ku(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var mp=kt&&"documentMode"in document&&11>=document.documentMode,cn=null,Ju=null,na=null,er=!1;function uo(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;er||cn==null||cn!==Qa(n)||(n=cn,"selectionStart"in n&&Ku(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),na&&ia(na,n)||(na=n,n=jl(Ju,"onSelect"),0<n.length&&(t=new tl("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=cn)))}function Gi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var dn={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},tr={},ro={};kt&&(ro=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Ii(e){if(tr[e])return tr[e];if(!dn[e])return e;var t=dn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ro)return tr[e]=t[i];return e}var so=Ii("animationend"),fo=Ii("animationiteration"),oo=Ii("animationstart"),pp=Ii("transitionrun"),gp=Ii("transitionstart"),hp=Ii("transitioncancel"),$o=Ii("transitionend"),co=new Map,ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ir.push("scrollEnd");function Rt(e,t){co.set(e,t),Li(t,[e])}var al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tt=[],mn=0,nr=0;function ll(){for(var e=mn,t=nr=mn=0;t<e;){var i=Tt[t];Tt[t++]=null;var n=Tt[t];Tt[t++]=null;var a=Tt[t];Tt[t++]=null;var u=Tt[t];if(Tt[t++]=null,n!==null&&a!==null){var f=n.pending;f===null?a.next=a:(a.next=f.next,f.next=a),n.pending=a}u!==0&&mo(i,a,u)}}function ul(e,t,i,n){Tt[mn++]=e,Tt[mn++]=t,Tt[mn++]=i,Tt[mn++]=n,nr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ar(e,t,i,n){return ul(e,t,i,n),rl(e)}function qi(e,t){return ul(e,null,null,t),rl(e)}function mo(e,t,i){e.lanes|=i;var n=e.alternate;n!==null&&(n.lanes|=i);for(var a=!1,u=e.return;u!==null;)u.childLanes|=i,n=u.alternate,n!==null&&(n.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(a=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,a&&t!==null&&(a=31-$t(i),e=u.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=i|536870912),u):null}function rl(e){if(50<Oa)throw Oa=0,ds=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pn={};function yp(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,i,n){return new yp(e,t,i,n)}function lr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,t){var i=e.alternate;return i===null?(i=dt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function po(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sl(e,t,i,n,a,u){var f=0;if(n=e,typeof e=="function")lr(e)&&(f=1);else if(typeof e=="string")f=Eg(e,i,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Je:return e=dt(31,i,t,a),e.elementType=Je,e.lanes=u,e;case X:return Bi(i.children,a,u,t);case G:f=8,a|=24;break;case fe:return e=dt(12,i,t,a|2),e.elementType=fe,e.lanes=u,e;case te:return e=dt(13,i,t,a),e.elementType=te,e.lanes=u,e;case K:return e=dt(19,i,t,a),e.elementType=K,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:f=10;break e;case me:f=9;break e;case ee:f=11;break e;case k:f=14;break e;case he:f=16,n=null;break e}f=29,i=Error(s(130,e===null?"null":typeof e,"")),n=null}return t=dt(f,i,t,a),t.elementType=e,t.type=n,t.lanes=u,t}function Bi(e,t,i,n){return e=dt(7,e,n,t),e.lanes=i,e}function ur(e,t,i){return e=dt(6,e,null,t),e.lanes=i,e}function go(e){var t=dt(18,null,null,0);return t.stateNode=e,t}function rr(e,t,i){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ho=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var i=ho.get(e);return i!==void 0?i:(t={value:e,source:t,stack:pf(t)},ho.set(e,t),t)}return{value:e,source:t,stack:pf(t)}}var gn=[],hn=0,fl=null,aa=0,xt=[],Ot=0,oi=null,zt=1,Gt="";function Wt(e,t){gn[hn++]=aa,gn[hn++]=fl,fl=e,aa=t}function yo(e,t,i){xt[Ot++]=zt,xt[Ot++]=Gt,xt[Ot++]=oi,oi=e;var n=zt;e=Gt;var a=32-$t(n)-1;n&=~(1<<a),i+=1;var u=32-$t(t)+a;if(30<u){var f=a-a%5;u=(n&(1<<f)-1).toString(32),n>>=f,a-=f,zt=1<<32-$t(t)+a|i<<a|n,Gt=u+e}else zt=1<<u|i<<a|n,Gt=e}function sr(e){e.return!==null&&(Wt(e,1),yo(e,1,0))}function fr(e){for(;e===fl;)fl=gn[--hn],gn[hn]=null,aa=gn[--hn],gn[hn]=null;for(;e===oi;)oi=xt[--Ot],xt[Ot]=null,Gt=xt[--Ot],xt[Ot]=null,zt=xt[--Ot],xt[Ot]=null}function vo(e,t){xt[Ot++]=zt,xt[Ot++]=Gt,xt[Ot++]=oi,zt=t.id,Gt=t.overflow,oi=e}var He=null,xe=null,re=!1,$i=null,Ct=!1,or=Error(s(519));function ci(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw la(Et(t,e)),or}function So(e){var t=e.stateNode,i=e.type,n=e.memoizedProps;switch(t[Be]=e,t[tt]=n,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<Aa.length;i++)ae(Aa[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),Ff(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),Mf(t,n.value,n.defaultValue,n.children)}i=n.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||n.suppressHydrationWarning===!0||zc(t.textContent,i)?(n.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),n.onScroll!=null&&ae("scroll",t),n.onScrollEnd!=null&&ae("scrollend",t),n.onClick!=null&&(t.onclick=Vt),t=!0):t=!1,t||ci(e,!0)}function bo(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:He=He.return}}function yn(e){if(e!==He)return!1;if(!re)return bo(e),re=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ds(e.type,e.memoizedProps)),i=!i),i&&xe&&ci(e),bo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xe=Wc(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xe=Wc(e)}else t===27?(t=xe,Ci(e.type)?(e=ws,ws=null,xe=e):xe=t):xe=He?Dt(e.stateNode.nextSibling):null;return!0}function Hi(){xe=He=null,re=!1}function $r(){var e=$i;return e!==null&&(ut===null?ut=e:ut.push.apply(ut,e),$i=null),e}function la(e){$i===null?$i=[e]:$i.push(e)}var cr=h(null),Vi=null,Xt=null;function di(e,t,i){z(cr,t._currentValue),t._currentValue=i}function Yt(e){e._currentValue=cr.current,F(cr)}function dr(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function mr(e,t,i,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){var f=a.child;u=u.firstContext;e:for(;u!==null;){var c=u;u=a;for(var m=0;m<t.length;m++)if(c.context===t[m]){u.lanes|=i,c=u.alternate,c!==null&&(c.lanes|=i),dr(u.return,i,e),n||(f=null);break e}u=c.next}}else if(a.tag===18){if(f=a.return,f===null)throw Error(s(341));f.lanes|=i,u=f.alternate,u!==null&&(u.lanes|=i),dr(f,i,e),f=null}else f=a.child;if(f!==null)f.return=a;else for(f=a;f!==null;){if(f===e){f=null;break}if(a=f.sibling,a!==null){a.return=f.return,f=a;break}f=f.return}a=f}}function vn(e,t,i,n){e=null;for(var a=t,u=!1;a!==null;){if(!u){if((a.flags&524288)!==0)u=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var f=a.alternate;if(f===null)throw Error(s(387));if(f=f.memoizedProps,f!==null){var c=a.type;ct(a.pendingProps.value,f.value)||(e!==null?e.push(c):e=[c])}}else if(a===de.current){if(f=a.alternate,f===null)throw Error(s(387));f.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Fa):e=[Fa])}a=a.return}e!==null&&mr(t,e,i,n),t.flags|=262144}function ol(e){for(e=e.firstContext;e!==null;){if(!ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Vi=e,Xt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return To(Vi,e)}function $l(e,t){return Vi===null&&ki(e),To(e,t)}function To(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Xt===null){if(e===null)throw Error(s(308));Xt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xt=Xt.next=t;return i}var vp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Sp=o.unstable_scheduleCallback,bp=o.unstable_NormalPriority,we={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pr(){return{controller:new vp,data:new Map,refCount:0}}function ua(e){e.refCount--,e.refCount===0&&Sp(bp,function(){e.controller.abort()})}var ra=null,gr=0,Sn=0,bn=null;function Tp(e,t){if(ra===null){var i=ra=[];gr=0,Sn=vs(),bn={status:"pending",value:void 0,then:function(n){i.push(n)}}}return gr++,t.then(Eo,Eo),t}function Eo(){if(--gr===0&&ra!==null){bn!==null&&(bn.status="fulfilled");var e=ra;ra=null,Sn=0,bn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ep(e,t){var i=[],n={status:"pending",value:null,reason:null,then:function(a){i.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<i.length;a++)(0,i[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<i.length;a++)(0,i[a])(void 0)}),n}var xo=_.S;_.S=function(e,t){rc=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tp(e,t),xo!==null&&xo(e,t)};var ji=h(null);function hr(){var e=ji.current;return e!==null?e:Ee.pooledCache}function cl(e,t){t===null?z(ji,ji.current):z(ji,t.pool)}function Oo(){var e=hr();return e===null?null:{parent:we._currentValue,pool:e}}var Tn=Error(s(460)),yr=Error(s(474)),dl=Error(s(542)),ml={then:function(){}};function Co(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ao(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Vt,Vt),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_o(e),e;default:if(typeof t.status=="string")t.then(Vt,Vt);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_o(e),e}throw Xi=t,Tn}}function Wi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Xi=i,Tn):i}}var Xi=null;function Do(){if(Xi===null)throw Error(s(459));var e=Xi;return Xi=null,e}function _o(e){if(e===Tn||e===dl)throw Error(s(483))}var En=null,sa=0;function pl(e){var t=sa;return sa+=1,En===null&&(En=[]),Ao(En,e,t)}function fa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gl(e,t){throw t.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function No(e){function t(y,p){if(e){var v=y.deletions;v===null?(y.deletions=[p],y.flags|=16):v.push(p)}}function i(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(y,p){return y=jt(y,p),y.index=0,y.sibling=null,y}function u(y,p,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<p?(y.flags|=67108866,p):v):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function f(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function c(y,p,v,N){return p===null||p.tag!==6?(p=ur(v,y.mode,N),p.return=y,p):(p=a(p,v),p.return=y,p)}function m(y,p,v,N){var V=v.type;return V===X?A(y,p,v.props.children,N,v.key):p!==null&&(p.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===he&&Wi(V)===p.type)?(p=a(p,v.props),fa(p,v),p.return=y,p):(p=sl(v.type,v.key,v.props,null,y.mode,N),fa(p,v),p.return=y,p)}function S(y,p,v,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=rr(v,y.mode,N),p.return=y,p):(p=a(p,v.children||[]),p.return=y,p)}function A(y,p,v,N,V){return p===null||p.tag!==7?(p=Bi(v,y.mode,N,V),p.return=y,p):(p=a(p,v),p.return=y,p)}function R(y,p,v){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=ur(""+p,y.mode,v),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case U:return v=sl(p.type,p.key,p.props,null,y.mode,v),fa(v,p),v.return=y,v;case B:return p=rr(p,y.mode,v),p.return=y,p;case he:return p=Wi(p),R(y,p,v)}if(Nt(p)||et(p))return p=Bi(p,y.mode,v,null),p.return=y,p;if(typeof p.then=="function")return R(y,pl(p),v);if(p.$$typeof===se)return R(y,$l(y,p),v);gl(y,p)}return null}function T(y,p,v,N){var V=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return V!==null?null:c(y,p,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case U:return v.key===V?m(y,p,v,N):null;case B:return v.key===V?S(y,p,v,N):null;case he:return v=Wi(v),T(y,p,v,N)}if(Nt(v)||et(v))return V!==null?null:A(y,p,v,N,null);if(typeof v.then=="function")return T(y,p,pl(v),N);if(v.$$typeof===se)return T(y,p,$l(y,v),N);gl(y,v)}return null}function O(y,p,v,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return y=y.get(v)||null,c(p,y,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return y=y.get(N.key===null?v:N.key)||null,m(p,y,N,V);case B:return y=y.get(N.key===null?v:N.key)||null,S(p,y,N,V);case he:return N=Wi(N),O(y,p,v,N,V)}if(Nt(N)||et(N))return y=y.get(v)||null,A(p,y,N,V,null);if(typeof N.then=="function")return O(y,p,v,pl(N),V);if(N.$$typeof===se)return O(y,p,v,$l(p,N),V);gl(p,N)}return null}function I(y,p,v,N){for(var V=null,oe=null,H=p,J=p=0,ue=null;H!==null&&J<v.length;J++){H.index>J?(ue=H,H=null):ue=H.sibling;var $e=T(y,H,v[J],N);if($e===null){H===null&&(H=ue);break}e&&H&&$e.alternate===null&&t(y,H),p=u($e,p,J),oe===null?V=$e:oe.sibling=$e,oe=$e,H=ue}if(J===v.length)return i(y,H),re&&Wt(y,J),V;if(H===null){for(;J<v.length;J++)H=R(y,v[J],N),H!==null&&(p=u(H,p,J),oe===null?V=H:oe.sibling=H,oe=H);return re&&Wt(y,J),V}for(H=n(H);J<v.length;J++)ue=O(H,y,J,v[J],N),ue!==null&&(e&&ue.alternate!==null&&H.delete(ue.key===null?J:ue.key),p=u(ue,p,J),oe===null?V=ue:oe.sibling=ue,oe=ue);return e&&H.forEach(function(Ri){return t(y,Ri)}),re&&Wt(y,J),V}function j(y,p,v,N){if(v==null)throw Error(s(151));for(var V=null,oe=null,H=p,J=p=0,ue=null,$e=v.next();H!==null&&!$e.done;J++,$e=v.next()){H.index>J?(ue=H,H=null):ue=H.sibling;var Ri=T(y,H,$e.value,N);if(Ri===null){H===null&&(H=ue);break}e&&H&&Ri.alternate===null&&t(y,H),p=u(Ri,p,J),oe===null?V=Ri:oe.sibling=Ri,oe=Ri,H=ue}if($e.done)return i(y,H),re&&Wt(y,J),V;if(H===null){for(;!$e.done;J++,$e=v.next())$e=R(y,$e.value,N),$e!==null&&(p=u($e,p,J),oe===null?V=$e:oe.sibling=$e,oe=$e);return re&&Wt(y,J),V}for(H=n(H);!$e.done;J++,$e=v.next())$e=O(H,y,J,$e.value,N),$e!==null&&(e&&$e.alternate!==null&&H.delete($e.key===null?J:$e.key),p=u($e,p,J),oe===null?V=$e:oe.sibling=$e,oe=$e);return e&&H.forEach(function(Mg){return t(y,Mg)}),re&&Wt(y,J),V}function be(y,p,v,N){if(typeof v=="object"&&v!==null&&v.type===X&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case U:e:{for(var V=v.key;p!==null;){if(p.key===V){if(V=v.type,V===X){if(p.tag===7){i(y,p.sibling),N=a(p,v.props.children),N.return=y,y=N;break e}}else if(p.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===he&&Wi(V)===p.type){i(y,p.sibling),N=a(p,v.props),fa(N,v),N.return=y,y=N;break e}i(y,p);break}else t(y,p);p=p.sibling}v.type===X?(N=Bi(v.props.children,y.mode,N,v.key),N.return=y,y=N):(N=sl(v.type,v.key,v.props,null,y.mode,N),fa(N,v),N.return=y,y=N)}return f(y);case B:e:{for(V=v.key;p!==null;){if(p.key===V)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){i(y,p.sibling),N=a(p,v.children||[]),N.return=y,y=N;break e}else{i(y,p);break}else t(y,p);p=p.sibling}N=rr(v,y.mode,N),N.return=y,y=N}return f(y);case he:return v=Wi(v),be(y,p,v,N)}if(Nt(v))return I(y,p,v,N);if(et(v)){if(V=et(v),typeof V!="function")throw Error(s(150));return v=V.call(v),j(y,p,v,N)}if(typeof v.then=="function")return be(y,p,pl(v),N);if(v.$$typeof===se)return be(y,p,$l(y,v),N);gl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,p!==null&&p.tag===6?(i(y,p.sibling),N=a(p,v),N.return=y,y=N):(i(y,p),N=ur(v,y.mode,N),N.return=y,y=N),f(y)):i(y,p)}return function(y,p,v,N){try{sa=0;var V=be(y,p,v,N);return En=null,V}catch(H){if(H===Tn||H===dl)throw H;var oe=dt(29,H,null,y.mode);return oe.lanes=N,oe.return=y,oe}finally{}}}var Yi=No(!0),Ro=No(!1),mi=!1;function vr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gi(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ce&2)!==0){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=rl(e),mo(e,null,i),t}return ul(e,n,t,i),rl(e)}function oa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,bf(e,i)}}function br(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var a=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var f={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?a=u=f:u=u.next=f,i=i.next}while(i!==null);u===null?a=u=t:u=u.next=t}else a=u=t;i={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Tr=!1;function $a(){if(Tr){var e=bn;if(e!==null)throw e}}function ca(e,t,i,n){Tr=!1;var a=e.updateQueue;mi=!1;var u=a.firstBaseUpdate,f=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var m=c,S=m.next;m.next=null,f===null?u=S:f.next=S,f=m;var A=e.alternate;A!==null&&(A=A.updateQueue,c=A.lastBaseUpdate,c!==f&&(c===null?A.firstBaseUpdate=S:c.next=S,A.lastBaseUpdate=m))}if(u!==null){var R=a.baseState;f=0,A=S=m=null,c=u;do{var T=c.lane&-536870913,O=T!==c.lane;if(O?(le&T)===T:(n&T)===T){T!==0&&T===Sn&&(Tr=!0),A!==null&&(A=A.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var I=e,j=c;T=t;var be=i;switch(j.tag){case 1:if(I=j.payload,typeof I=="function"){R=I.call(be,R,T);break e}R=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=j.payload,T=typeof I=="function"?I.call(be,R,T):I,T==null)break e;R=C({},R,T);break e;case 2:mi=!0}}T=c.callback,T!==null&&(e.flags|=64,O&&(e.flags|=8192),O=a.callbacks,O===null?a.callbacks=[T]:O.push(T))}else O={lane:T,tag:c.tag,payload:c.payload,callback:c.callback,next:null},A===null?(S=A=O,m=R):A=A.next=O,f|=T;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;O=c,c=O.next,O.next=null,a.lastBaseUpdate=O,a.shared.pending=null}}while(!0);A===null&&(m=R),a.baseState=m,a.firstBaseUpdate=S,a.lastBaseUpdate=A,u===null&&(a.shared.lanes=0),bi|=f,e.lanes=f,e.memoizedState=R}}function Fo(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function wo(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Fo(i[e],t)}var xn=h(null),hl=h(0);function Mo(e,t){e=ni,z(hl,e),z(xn,t),ni=e|t.baseLanes}function Er(){z(hl,ni),z(xn,xn.current)}function xr(){ni=hl.current,F(xn),F(hl)}var mt=h(null),At=null;function hi(e){var t=e.alternate;z(Re,Re.current&1),z(mt,e),At===null&&(t===null||xn.current!==null||t.memoizedState!==null)&&(At=e)}function Or(e){z(Re,Re.current),z(mt,e),At===null&&(At=e)}function Uo(e){e.tag===22?(z(Re,Re.current),z(mt,e),At===null&&(At=e)):yi()}function yi(){z(Re,Re.current),z(mt,mt.current)}function pt(e){F(mt),At===e&&(At=null),F(Re)}var Re=h(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Rs(i)||Fs(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zt=0,P=null,ve=null,Me=null,vl=!1,On=!1,Zi=!1,Sl=0,da=0,Cn=null,xp=0;function Ae(){throw Error(s(321))}function Cr(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ct(e[i],t[i]))return!1;return!0}function Ar(e,t,i,n,a,u){return Zt=u,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?y$:Hr,Zi=!1,u=i(n,a),Zi=!1,On&&(u=zo(t,i,n,a)),Lo(e),u}function Lo(e){_.H=ga;var t=ve!==null&&ve.next!==null;if(Zt=0,Me=ve=P=null,vl=!1,da=0,Cn=null,t)throw Error(s(300));e===null||Ue||(e=e.dependencies,e!==null&&ol(e)&&(Ue=!0))}function zo(e,t,i,n){P=e;var a=0;do{if(On&&(Cn=null),da=0,On=!1,25<=a)throw Error(s(301));if(a+=1,Me=ve=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}_.H=v$,u=t(i,n)}while(On);return u}function Op(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?ma(t):t,e=e.useState()[0],(ve!==null?ve.memoizedState:null)!==e&&(P.flags|=1024),t}function Dr(){var e=Sl!==0;return Sl=0,e}function _r(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Nr(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}Zt=0,Me=ve=P=null,On=!1,da=Sl=0,Cn=null}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?P.memoizedState=Me=e:Me=Me.next=e,Me}function Fe(){if(ve===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Me===null?P.memoizedState:Me.next;if(t!==null)Me=t,ve=e;else{if(e===null)throw P.alternate===null?Error(s(467)):Error(s(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Me===null?P.memoizedState=Me=e:Me=Me.next=e}return Me}function bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ma(e){var t=da;return da+=1,Cn===null&&(Cn=[]),e=Ao(Cn,e,t),t=P,(Me===null?t.memoizedState:Me.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?y$:Hr),e}function Tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ma(e);if(e.$$typeof===se)return Ve(e)}throw Error(s(438,String(e)))}function Rr(e){var t=null,i=P.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var n=P.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=bl(),P.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),n=0;n<e;n++)i[n]=Lt;return t.index++,i}function Qt(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Fe();return Fr(t,ve,e)}function Fr(e,t,i){var n=e.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=i;var a=e.baseQueue,u=n.pending;if(u!==null){if(a!==null){var f=a.next;a.next=u.next,u.next=f}t.baseQueue=a=u,n.pending=null}if(u=e.baseState,a===null)e.memoizedState=u;else{t=a.next;var c=f=null,m=null,S=t,A=!1;do{var R=S.lane&-536870913;if(R!==S.lane?(le&R)===R:(Zt&R)===R){var T=S.revertLane;if(T===0)m!==null&&(m=m.next={lane:0,revertLane:0,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),R===Sn&&(A=!0);else if((Zt&T)===T){S=S.next,T===Sn&&(A=!0);continue}else R={lane:0,revertLane:S.revertLane,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},m===null?(c=m=R,f=u):m=m.next=R,P.lanes|=T,bi|=T;R=S.action,Zi&&i(u,R),u=S.hasEagerState?S.eagerState:i(u,R)}else T={lane:R,revertLane:S.revertLane,gesture:S.gesture,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},m===null?(c=m=T,f=u):m=m.next=T,P.lanes|=R,bi|=R;S=S.next}while(S!==null&&S!==t);if(m===null?f=u:m.next=c,!ct(u,e.memoizedState)&&(Ue=!0,A&&(i=bn,i!==null)))throw i;e.memoizedState=u,e.baseState=f,e.baseQueue=m,n.lastRenderedState=u}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function wr(e){var t=Fe(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var n=i.dispatch,a=i.pending,u=t.memoizedState;if(a!==null){i.pending=null;var f=a=a.next;do u=e(u,f.action),f=f.next;while(f!==a);ct(u,t.memoizedState)||(Ue=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,n]}function Go(e,t,i){var n=P,a=Fe(),u=re;if(u){if(i===void 0)throw Error(s(407));i=i()}else i=t();var f=!ct((ve||a).memoizedState,i);if(f&&(a.memoizedState=i,Ue=!0),a=a.queue,Lr(Bo.bind(null,n,a,e),[e]),a.getSnapshot!==t||f||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,An(9,{destroy:void 0},qo.bind(null,n,a,i,t),null),Ee===null)throw Error(s(349));u||(Zt&127)!==0||Io(n,t,i)}return i}function Io(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=P.updateQueue,t===null?(t=bl(),P.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function qo(e,t,i,n){t.value=i,t.getSnapshot=n,Ho(t)&&Vo(e)}function Bo(e,t,i){return i(function(){Ho(t)&&Vo(e)})}function Ho(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!ct(e,i)}catch{return!0}}function Vo(e){var t=qi(e,2);t!==null&&rt(t,e,2)}function Mr(e){var t=Qe();if(typeof e=="function"){var i=e;if(e=i(),Zi){ri(!0);try{i()}finally{ri(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:e},t}function ko(e,t,i,n){return e.baseState=i,Fr(e,ve,typeof n=="function"?n:Qt)}function Cp(e,t,i,n,a){if(Cl(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};_.T!==null?i(!0):u.isTransition=!1,n(u),i=t.pending,i===null?(u.next=t.pending=u,jo(t,u)):(u.next=i.next,t.pending=i.next=u)}}function jo(e,t){var i=t.action,n=t.payload,a=e.state;if(t.isTransition){var u=_.T,f={};_.T=f;try{var c=i(a,n),m=_.S;m!==null&&m(f,c),Wo(e,t,c)}catch(S){Ur(e,t,S)}finally{u!==null&&f.types!==null&&(u.types=f.types),_.T=u}}else try{u=i(a,n),Wo(e,t,u)}catch(S){Ur(e,t,S)}}function Wo(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(n){Xo(e,t,n)},function(n){return Ur(e,t,n)}):Xo(e,t,i)}function Xo(e,t,i){t.status="fulfilled",t.value=i,Yo(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,jo(e,i)))}function Ur(e,t,i){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=i,Yo(t),t=t.next;while(t!==n)}e.action=null}function Yo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zo(e,t){return t}function Qo(e,t){if(re){var i=Ee.formState;if(i!==null){e:{var n=P;if(re){if(xe){t:{for(var a=xe,u=Ct;a.nodeType!==8;){if(!u){a=null;break t}if(a=Dt(a.nextSibling),a===null){a=null;break t}}u=a.data,a=u==="F!"||u==="F"?a:null}if(a){xe=Dt(a.nextSibling),n=a.data==="F!";break e}}ci(n)}n=!1}n&&(t=i[0])}}return i=Qe(),i.memoizedState=i.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},i.queue=n,i=p$.bind(null,P,n),n.dispatch=i,n=Mr(!1),u=Br.bind(null,P,!1,n.queue),n=Qe(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,i=Cp.bind(null,P,a,u,i),a.dispatch=i,n.memoizedState=e,[t,i,!1]}function Po(e){var t=Fe();return Ko(t,ve,e)}function Ko(e,t,i){if(t=Fr(e,t,Zo)[0],e=El(Qt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ma(t)}catch(f){throw f===Tn?dl:f}else n=t;t=Fe();var a=t.queue,u=a.dispatch;return i!==t.memoizedState&&(P.flags|=2048,An(9,{destroy:void 0},Ap.bind(null,a,i),null)),[n,u,e]}function Ap(e,t){e.action=t}function Jo(e){var t=Fe(),i=ve;if(i!==null)return Ko(t,i,e);Fe(),t=t.memoizedState,i=Fe();var n=i.queue.dispatch;return i.memoizedState=e,[t,n,!1]}function An(e,t,i,n){return e={tag:e,create:i,deps:n,inst:t,next:null},t=P.updateQueue,t===null&&(t=bl(),P.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function e$(){return Fe().memoizedState}function xl(e,t,i,n){var a=Qe();P.flags|=e,a.memoizedState=An(1|t,{destroy:void 0},i,n===void 0?null:n)}function Ol(e,t,i,n){var a=Fe();n=n===void 0?null:n;var u=a.memoizedState.inst;ve!==null&&n!==null&&Cr(n,ve.memoizedState.deps)?a.memoizedState=An(t,u,i,n):(P.flags|=e,a.memoizedState=An(1|t,u,i,n))}function t$(e,t){xl(8390656,8,e,t)}function Lr(e,t){Ol(2048,8,e,t)}function Dp(e){P.flags|=4;var t=P.updateQueue;if(t===null)t=bl(),P.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function i$(e){var t=Fe().memoizedState;return Dp({ref:t,nextImpl:e}),function(){if((ce&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function n$(e,t){return Ol(4,2,e,t)}function a$(e,t){return Ol(4,4,e,t)}function l$(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u$(e,t,i){i=i!=null?i.concat([e]):null,Ol(4,4,l$.bind(null,t,e),i)}function zr(){}function r$(e,t){var i=Fe();t=t===void 0?null:t;var n=i.memoizedState;return t!==null&&Cr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function s$(e,t){var i=Fe();t=t===void 0?null:t;var n=i.memoizedState;if(t!==null&&Cr(t,n[1]))return n[0];if(n=e(),Zi){ri(!0);try{e()}finally{ri(!1)}}return i.memoizedState=[n,t],n}function Gr(e,t,i){return i===void 0||(Zt&1073741824)!==0&&(le&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=fc(),P.lanes|=e,bi|=e,i)}function f$(e,t,i,n){return ct(i,t)?i:xn.current!==null?(e=Gr(e,i,n),ct(e,t)||(Ue=!0),e):(Zt&42)===0||(Zt&1073741824)!==0&&(le&261930)===0?(Ue=!0,e.memoizedState=i):(e=fc(),P.lanes|=e,bi|=e,t)}function o$(e,t,i,n,a){var u=L.p;L.p=u!==0&&8>u?u:8;var f=_.T,c={};_.T=c,Br(e,!1,t,i);try{var m=a(),S=_.S;if(S!==null&&S(c,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var A=Ep(m,n);pa(e,t,A,yt(e))}else pa(e,t,n,yt(e))}catch(R){pa(e,t,{then:function(){},status:"rejected",reason:R},yt())}finally{L.p=u,f!==null&&c.types!==null&&(f.types=c.types),_.T=f}}function _p(){}function Ir(e,t,i,n){if(e.tag!==5)throw Error(s(476));var a=$$(e).queue;o$(e,a,t,W,i===null?_p:function(){return c$(e),i(n)})}function $$(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function c$(e){var t=$$(e);t.next===null&&(t=e.alternate.memoizedState),pa(e,t.next.queue,{},yt())}function qr(){return Ve(Fa)}function d$(){return Fe().memoizedState}function m$(){return Fe().memoizedState}function Np(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=yt();e=pi(i);var n=gi(t,e,i);n!==null&&(rt(n,t,i),oa(n,t,i)),t={cache:pr()},e.payload=t;return}t=t.return}}function Rp(e,t,i){var n=yt();i={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Cl(e)?g$(t,i):(i=ar(e,t,i,n),i!==null&&(rt(i,e,n),h$(i,t,n)))}function p$(e,t,i){var n=yt();pa(e,t,i,n)}function pa(e,t,i,n){var a={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cl(e))g$(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,c=u(f,i);if(a.hasEagerState=!0,a.eagerState=c,ct(c,f))return ul(e,t,a,0),Ee===null&&ll(),!1}catch{}finally{}if(i=ar(e,t,a,n),i!==null)return rt(i,e,n),h$(i,t,n),!0}return!1}function Br(e,t,i,n){if(n={lane:2,revertLane:vs(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cl(e)){if(t)throw Error(s(479))}else t=ar(e,i,n,2),t!==null&&rt(t,e,2)}function Cl(e){var t=e.alternate;return e===P||t!==null&&t===P}function g$(e,t){On=vl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function h$(e,t,i){if((i&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,bf(e,i)}}var ga={readContext:Ve,use:Tl,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae};ga.useEffectEvent=Ae;var y$={readContext:Ve,use:Tl,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:t$,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,xl(4194308,4,l$.bind(null,t,e),i)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){xl(4,2,e,t)},useMemo:function(e,t){var i=Qe();t=t===void 0?null:t;var n=e();if(Zi){ri(!0);try{e()}finally{ri(!1)}}return i.memoizedState=[n,t],n},useReducer:function(e,t,i){var n=Qe();if(i!==void 0){var a=i(t);if(Zi){ri(!0);try{i(t)}finally{ri(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=Rp.bind(null,P,e),[n.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:function(e){e=Mr(e);var t=e.queue,i=p$.bind(null,P,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:zr,useDeferredValue:function(e,t){var i=Qe();return Gr(i,e,t)},useTransition:function(){var e=Mr(!1);return e=o$.bind(null,P,e.queue,!0,!1),Qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var n=P,a=Qe();if(re){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Ee===null)throw Error(s(349));(le&127)!==0||Io(n,t,i)}a.memoizedState=i;var u={value:i,getSnapshot:t};return a.queue=u,t$(Bo.bind(null,n,u,e),[e]),n.flags|=2048,An(9,{destroy:void 0},qo.bind(null,n,u,i,t),null),i},useId:function(){var e=Qe(),t=Ee.identifierPrefix;if(re){var i=Gt,n=zt;i=(n&~(1<<32-$t(n)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Sl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=xp++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qr,useFormState:Qo,useActionState:Qo,useOptimistic:function(e){var t=Qe();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Br.bind(null,P,!0,i),i.dispatch=t,[e,t]},useMemoCache:Rr,useCacheRefresh:function(){return Qe().memoizedState=Np.bind(null,P)},useEffectEvent:function(e){var t=Qe(),i={impl:e};return t.memoizedState=i,function(){if((ce&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Hr={readContext:Ve,use:Tl,useCallback:r$,useContext:Ve,useEffect:Lr,useImperativeHandle:u$,useInsertionEffect:n$,useLayoutEffect:a$,useMemo:s$,useReducer:El,useRef:e$,useState:function(){return El(Qt)},useDebugValue:zr,useDeferredValue:function(e,t){var i=Fe();return f$(i,ve.memoizedState,e,t)},useTransition:function(){var e=El(Qt)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ma(e),t]},useSyncExternalStore:Go,useId:d$,useHostTransitionStatus:qr,useFormState:Po,useActionState:Po,useOptimistic:function(e,t){var i=Fe();return ko(i,ve,e,t)},useMemoCache:Rr,useCacheRefresh:m$};Hr.useEffectEvent=i$;var v$={readContext:Ve,use:Tl,useCallback:r$,useContext:Ve,useEffect:Lr,useImperativeHandle:u$,useInsertionEffect:n$,useLayoutEffect:a$,useMemo:s$,useReducer:wr,useRef:e$,useState:function(){return wr(Qt)},useDebugValue:zr,useDeferredValue:function(e,t){var i=Fe();return ve===null?Gr(i,e,t):f$(i,ve.memoizedState,e,t)},useTransition:function(){var e=wr(Qt)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ma(e),t]},useSyncExternalStore:Go,useId:d$,useHostTransitionStatus:qr,useFormState:Jo,useActionState:Jo,useOptimistic:function(e,t){var i=Fe();return ve!==null?ko(i,ve,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Rr,useCacheRefresh:m$};v$.useEffectEvent=i$;function Vr(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:C({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var kr={enqueueSetState:function(e,t,i){e=e._reactInternals;var n=yt(),a=pi(n);a.payload=t,i!=null&&(a.callback=i),t=gi(e,a,n),t!==null&&(rt(t,e,n),oa(t,e,n))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=yt(),a=pi(n);a.tag=1,a.payload=t,i!=null&&(a.callback=i),t=gi(e,a,n),t!==null&&(rt(t,e,n),oa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=yt(),n=pi(i);n.tag=2,t!=null&&(n.callback=t),t=gi(e,n,i),t!==null&&(rt(t,e,i),oa(t,e,i))}};function S$(e,t,i,n,a,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,f):t.prototype&&t.prototype.isPureReactComponent?!ia(i,n)||!ia(a,u):!0}function b$(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&kr.enqueueReplaceState(t,t.state,null)}function Qi(e,t){var i=t;if("ref"in t){i={};for(var n in t)n!=="ref"&&(i[n]=t[n])}if(e=e.defaultProps){i===t&&(i=C({},i));for(var a in e)i[a]===void 0&&(i[a]=e[a])}return i}function T$(e){al(e)}function E$(e){console.error(e)}function x$(e){al(e)}function Al(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function O$(e,t,i){try{var n=e.onCaughtError;n(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function jr(e,t,i){return i=pi(i),i.tag=3,i.payload={element:null},i.callback=function(){Al(e,t)},i}function C$(e){return e=pi(e),e.tag=3,e}function A$(e,t,i,n){var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;e.payload=function(){return a(u)},e.callback=function(){O$(t,i,n)}}var f=i.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){O$(t,i,n),typeof a!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var c=n.stack;this.componentDidCatch(n.value,{componentStack:c!==null?c:""})})}function Fp(e,t,i,n,a){if(i.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=i.alternate,t!==null&&vn(t,i,a,!0),i=mt.current,i!==null){switch(i.tag){case 31:case 13:return At===null?Il():i.alternate===null&&De===0&&(De=3),i.flags&=-257,i.flags|=65536,i.lanes=a,n===ml?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([n]):t.add(n),gs(e,n,a)),!1;case 22:return i.flags|=65536,n===ml?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([n]):i.add(n)),gs(e,n,a)),!1}throw Error(s(435,i.tag))}return gs(e,n,a),Il(),!1}if(re)return t=mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==or&&(e=Error(s(422),{cause:n}),la(Et(e,i)))):(n!==or&&(t=Error(s(423),{cause:n}),la(Et(t,i))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Et(n,i),a=jr(e.stateNode,n,a),br(e,a),De!==4&&(De=2)),!1;var u=Error(s(520),{cause:n});if(u=Et(u,i),xa===null?xa=[u]:xa.push(u),De!==4&&(De=2),t===null)return!0;n=Et(n,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=a&-a,i.lanes|=e,e=jr(i.stateNode,n,e),br(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ti===null||!Ti.has(u))))return i.flags|=65536,a&=-a,i.lanes|=a,a=C$(a),A$(a,e,i,n),br(i,a),!1}i=i.return}while(i!==null);return!1}var Wr=Error(s(461)),Ue=!1;function ke(e,t,i,n){t.child=e===null?Ro(t,null,i,n):Yi(t,e.child,i,n)}function D$(e,t,i,n,a){i=i.render;var u=t.ref;if("ref"in n){var f={};for(var c in n)c!=="ref"&&(f[c]=n[c])}else f=n;return ki(t),n=Ar(e,t,i,f,u,a),c=Dr(),e!==null&&!Ue?(_r(e,t,a),Pt(e,t,a)):(re&&c&&sr(t),t.flags|=1,ke(e,t,n,a),t.child)}function _$(e,t,i,n,a){if(e===null){var u=i.type;return typeof u=="function"&&!lr(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,N$(e,t,u,n,a)):(e=sl(i.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!es(e,a)){var f=u.memoizedProps;if(i=i.compare,i=i!==null?i:ia,i(f,n)&&e.ref===t.ref)return Pt(e,t,a)}return t.flags|=1,e=jt(u,n),e.ref=t.ref,e.return=t,t.child=e}function N$(e,t,i,n,a){if(e!==null){var u=e.memoizedProps;if(ia(u,n)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=n=u,es(e,a))(e.flags&131072)!==0&&(Ue=!0);else return t.lanes=e.lanes,Pt(e,t,a)}return Xr(e,t,i,n,a)}function R$(e,t,i,n){var a=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~u}else n=0,t.child=null;return F$(e,t,u,i,n)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(t,u!==null?u.cachePool:null),u!==null?Mo(t,u):Er(),Uo(t);else return n=t.lanes=536870912,F$(e,t,u!==null?u.baseLanes|i:i,i,n)}else u!==null?(cl(t,u.cachePool),Mo(t,u),yi(),t.memoizedState=null):(e!==null&&cl(t,null),Er(),yi());return ke(e,t,a,i),t.child}function ha(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function F$(e,t,i,n,a){var u=hr();return u=u===null?null:{parent:we._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&cl(t,null),Er(),Uo(t),e!==null&&vn(e,t,n,!0),t.childLanes=a,null}function Dl(e,t){return t=Nl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function w$(e,t,i){return Yi(t,e.child,null,i),e=Dl(t,t.pendingProps),e.flags|=2,pt(t),t.memoizedState=null,e}function wp(e,t,i){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(n.mode==="hidden")return e=Dl(t,n),t.lanes=536870912,ha(null,e);if(Or(t),(e=xe)?(e=jc(e,Ct),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oi!==null?{id:zt,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},i=go(e),i.return=t,t.child=i,He=t,xe=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return Dl(t,n)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(Or(t),a)if(t.flags&256)t.flags&=-257,t=w$(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ue||vn(e,t,i,!1),a=(i&e.childLanes)!==0,Ue||a){if(n=Ee,n!==null&&(f=Tf(n,i),f!==0&&f!==u.retryLane))throw u.retryLane=f,qi(e,f),rt(n,e,f),Wr;Il(),t=w$(e,t,i)}else e=u.treeContext,xe=Dt(f.nextSibling),He=t,re=!0,$i=null,Ct=!1,e!==null&&vo(t,e),t=Dl(t,n),t.flags|=4096;return t}return e=jt(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _l(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Xr(e,t,i,n,a){return ki(t),i=Ar(e,t,i,n,void 0,a),n=Dr(),e!==null&&!Ue?(_r(e,t,a),Pt(e,t,a)):(re&&n&&sr(t),t.flags|=1,ke(e,t,i,a),t.child)}function M$(e,t,i,n,a,u){return ki(t),t.updateQueue=null,i=zo(t,n,i,a),Lo(e),n=Dr(),e!==null&&!Ue?(_r(e,t,u),Pt(e,t,u)):(re&&n&&sr(t),t.flags|=1,ke(e,t,i,u),t.child)}function U$(e,t,i,n,a){if(ki(t),t.stateNode===null){var u=pn,f=i.contextType;typeof f=="object"&&f!==null&&(u=Ve(f)),u=new i(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=kr,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},vr(t),f=i.contextType,u.context=typeof f=="object"&&f!==null?Ve(f):pn,u.state=t.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(Vr(t,i,f,n),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&kr.enqueueReplaceState(u,u.state,null),ca(t,n,u,a),$a(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var c=t.memoizedProps,m=Qi(i,c);u.props=m;var S=u.context,A=i.contextType;f=pn,typeof A=="object"&&A!==null&&(f=Ve(A));var R=i.getDerivedStateFromProps;A=typeof R=="function"||typeof u.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,A||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c||S!==f)&&b$(t,u,n,f),mi=!1;var T=t.memoizedState;u.state=T,ca(t,n,u,a),$a(),S=t.memoizedState,c||T!==S||mi?(typeof R=="function"&&(Vr(t,i,R,n),S=t.memoizedState),(m=mi||S$(t,i,m,n,T,S,f))?(A||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=S),u.props=n,u.state=S,u.context=f,n=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Sr(e,t),f=t.memoizedProps,A=Qi(i,f),u.props=A,R=t.pendingProps,T=u.context,S=i.contextType,m=pn,typeof S=="object"&&S!==null&&(m=Ve(S)),c=i.getDerivedStateFromProps,(S=typeof c=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==R||T!==m)&&b$(t,u,n,m),mi=!1,T=t.memoizedState,u.state=T,ca(t,n,u,a),$a();var O=t.memoizedState;f!==R||T!==O||mi||e!==null&&e.dependencies!==null&&ol(e.dependencies)?(typeof c=="function"&&(Vr(t,i,c,n),O=t.memoizedState),(A=mi||S$(t,i,A,n,T,O,m)||e!==null&&e.dependencies!==null&&ol(e.dependencies))?(S||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,O,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,O,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=O),u.props=n,u.state=O,u.context=m,n=A):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,_l(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,i=n&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=Yi(t,e.child,null,a),t.child=Yi(t,null,i,a)):ke(e,t,i,a),t.memoizedState=u.state,e=t.child):e=Pt(e,t,a),e}function L$(e,t,i,n){return Hi(),t.flags|=256,ke(e,t,i,n),t.child}var Yr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(e){return{baseLanes:e,cachePool:Oo()}}function Qr(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=ht),e}function z$(e,t,i){var n=t.pendingProps,a=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),f&&(a=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(a?hi(t):yi(),(e=xe)?(e=jc(e,Ct),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:oi!==null?{id:zt,overflow:Gt}:null,retryLane:536870912,hydrationErrors:null},i=go(e),i.return=t,t.child=i,He=t,xe=null)):e=null,e===null)throw ci(t);return Fs(e)?t.lanes=32:t.lanes=536870912,null}var c=n.children;return n=n.fallback,a?(yi(),a=t.mode,c=Nl({mode:"hidden",children:c},a),n=Bi(n,a,i,null),c.return=t,n.return=t,c.sibling=n,t.child=c,n=t.child,n.memoizedState=Zr(i),n.childLanes=Qr(e,f,i),t.memoizedState=Yr,ha(null,n)):(hi(t),Pr(t,c))}var m=e.memoizedState;if(m!==null&&(c=m.dehydrated,c!==null)){if(u)t.flags&256?(hi(t),t.flags&=-257,t=Kr(e,t,i)):t.memoizedState!==null?(yi(),t.child=e.child,t.flags|=128,t=null):(yi(),c=n.fallback,a=t.mode,n=Nl({mode:"visible",children:n.children},a),c=Bi(c,a,i,null),c.flags|=2,n.return=t,c.return=t,n.sibling=c,t.child=n,Yi(t,e.child,null,i),n=t.child,n.memoizedState=Zr(i),n.childLanes=Qr(e,f,i),t.memoizedState=Yr,t=ha(null,n));else if(hi(t),Fs(c)){if(f=c.nextSibling&&c.nextSibling.dataset,f)var S=f.dgst;f=S,n=Error(s(419)),n.stack="",n.digest=f,la({value:n,source:null,stack:null}),t=Kr(e,t,i)}else if(Ue||vn(e,t,i,!1),f=(i&e.childLanes)!==0,Ue||f){if(f=Ee,f!==null&&(n=Tf(f,i),n!==0&&n!==m.retryLane))throw m.retryLane=n,qi(e,n),rt(f,e,n),Wr;Rs(c)||Il(),t=Kr(e,t,i)}else Rs(c)?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,xe=Dt(c.nextSibling),He=t,re=!0,$i=null,Ct=!1,e!==null&&vo(t,e),t=Pr(t,n.children),t.flags|=4096);return t}return a?(yi(),c=n.fallback,a=t.mode,m=e.child,S=m.sibling,n=jt(m,{mode:"hidden",children:n.children}),n.subtreeFlags=m.subtreeFlags&65011712,S!==null?c=jt(S,c):(c=Bi(c,a,i,null),c.flags|=2),c.return=t,n.return=t,n.sibling=c,t.child=n,ha(null,n),n=t.child,c=e.child.memoizedState,c===null?c=Zr(i):(a=c.cachePool,a!==null?(m=we._currentValue,a=a.parent!==m?{parent:m,pool:m}:a):a=Oo(),c={baseLanes:c.baseLanes|i,cachePool:a}),n.memoizedState=c,n.childLanes=Qr(e,f,i),t.memoizedState=Yr,ha(e.child,n)):(hi(t),i=e.child,e=i.sibling,i=jt(i,{mode:"visible",children:n.children}),i.return=t,i.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=i,t.memoizedState=null,i)}function Pr(e,t){return t=Nl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nl(e,t){return e=dt(22,e,null,t),e.lanes=0,e}function Kr(e,t,i){return Yi(t,e.child,null,i),e=Pr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G$(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),dr(e.return,t,i)}function Jr(e,t,i,n,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:a,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=n,f.tail=i,f.tailMode=a,f.treeForkCount=u)}function I$(e,t,i){var n=t.pendingProps,a=n.revealOrder,u=n.tail;n=n.children;var f=Re.current,c=(f&2)!==0;if(c?(f=f&1|2,t.flags|=128):f&=1,z(Re,f),ke(e,t,n,i),n=re?aa:0,!c&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G$(e,i,t);else if(e.tag===19)G$(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&yl(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),Jr(t,!1,a,i,u,n);break;case"backwards":case"unstable_legacy-backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yl(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}Jr(t,!0,i,null,u,n);break;case"together":Jr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Pt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(vn(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=jt(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=jt(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function es(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ol(e)))}function Mp(e,t,i){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),di(t,we,e.memoizedState.cache),Hi();break;case 27:case 5:Vn(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:di(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Or(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(hi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?z$(e,t,i):(hi(t),e=Pt(e,t,i),e!==null?e.sibling:null);hi(t);break;case 19:var a=(e.flags&128)!==0;if(n=(i&t.childLanes)!==0,n||(vn(e,t,i,!1),n=(i&t.childLanes)!==0),a){if(n)return I$(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),z(Re,Re.current),n)break;return null;case 22:return t.lanes=0,R$(e,t,i,t.pendingProps);case 24:di(t,we,e.memoizedState.cache)}return Pt(e,t,i)}function q$(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ue=!0;else{if(!es(e,i)&&(t.flags&128)===0)return Ue=!1,Mp(e,t,i);Ue=(e.flags&131072)!==0}else Ue=!1,re&&(t.flags&1048576)!==0&&yo(t,aa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Wi(t.elementType),t.type=e,typeof e=="function")lr(e)?(n=Qi(e,n),t.tag=1,t=U$(null,t,e,n,i)):(t.tag=0,t=Xr(null,t,e,n,i));else{if(e!=null){var a=e.$$typeof;if(a===ee){t.tag=11,t=D$(null,t,e,n,i);break e}else if(a===k){t.tag=14,t=_$(null,t,e,n,i);break e}}throw t=Bt(e)||e,Error(s(306,t,""))}}return t;case 0:return Xr(e,t,t.type,t.pendingProps,i);case 1:return n=t.type,a=Qi(n,t.pendingProps),U$(e,t,n,a,i);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(s(387));n=t.pendingProps;var u=t.memoizedState;a=u.element,Sr(e,t),ca(t,n,null,i);var f=t.memoizedState;if(n=f.cache,di(t,we,n),n!==u.cache&&mr(t,[we],i,!0),$a(),n=f.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=L$(e,t,n,i);break e}else if(n!==a){a=Et(Error(s(424)),t),la(a),t=L$(e,t,n,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=Dt(e.firstChild),He=t,re=!0,$i=null,Ct=!0,i=Ro(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Hi(),n===a){t=Pt(e,t,i);break e}ke(e,t,n,i)}t=t.child}return t;case 26:return _l(e,t),e===null?(i=Pc(t.type,null,t.pendingProps,null))?t.memoizedState=i:re||(i=t.type,e=t.pendingProps,n=Wl(ie.current).createElement(i),n[Be]=t,n[tt]=e,je(n,i,e),Ge(n),t.stateNode=n):t.memoizedState=Pc(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vn(t),e===null&&re&&(n=t.stateNode=Yc(t.type,t.pendingProps,ie.current),He=t,Ct=!0,a=xe,Ci(t.type)?(ws=a,xe=Dt(n.firstChild)):xe=a),ke(e,t,t.pendingProps.children,i),_l(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((a=n=xe)&&(n=og(n,t.type,t.pendingProps,Ct),n!==null?(t.stateNode=n,He=t,xe=Dt(n.firstChild),Ct=!1,a=!0):a=!1),a||ci(t)),Vn(t),a=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,n=u.children,Ds(a,u)?n=null:f!==null&&Ds(a,f)&&(t.flags|=32),t.memoizedState!==null&&(a=Ar(e,t,Op,null,null,i),Fa._currentValue=a),_l(e,t),ke(e,t,n,i),t.child;case 6:return e===null&&re&&((e=i=xe)&&(i=$g(i,t.pendingProps,Ct),i!==null?(t.stateNode=i,He=t,xe=null,e=!0):e=!1),e||ci(t)),null;case 13:return z$(e,t,i);case 4:return Ze(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yi(t,null,n,i):ke(e,t,n,i),t.child;case 11:return D$(e,t,t.type,t.pendingProps,i);case 7:return ke(e,t,t.pendingProps,i),t.child;case 8:return ke(e,t,t.pendingProps.children,i),t.child;case 12:return ke(e,t,t.pendingProps.children,i),t.child;case 10:return n=t.pendingProps,di(t,t.type,n.value),ke(e,t,n.children,i),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,ki(t),a=Ve(a),n=n(a),t.flags|=1,ke(e,t,n,i),t.child;case 14:return _$(e,t,t.type,t.pendingProps,i);case 15:return N$(e,t,t.type,t.pendingProps,i);case 19:return I$(e,t,i);case 31:return wp(e,t,i);case 22:return R$(e,t,i,t.pendingProps);case 24:return ki(t),n=Ve(we),e===null?(a=hr(),a===null&&(a=Ee,u=pr(),a.pooledCache=u,u.refCount++,u!==null&&(a.pooledCacheLanes|=i),a=u),t.memoizedState={parent:n,cache:a},vr(t),di(t,we,a)):((e.lanes&i)!==0&&(Sr(e,t),ca(t,null,null,i),$a()),a=e.memoizedState,u=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),di(t,we,n)):(n=u.cache,di(t,we,n),n!==a.cache&&mr(t,[we],i,!0))),ke(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Kt(e){e.flags|=4}function ts(e,t,i,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(dc())e.flags|=8192;else throw Xi=ml,yr}else e.flags&=-16777217}function B$(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!id(t))if(dc())e.flags|=8192;else throw Xi=ml,yr}function Rl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vf():536870912,e.lanes|=t,Rn|=t)}function ya(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Up(e,t,i){var n=t.pendingProps;switch(fr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Yt(we),Ne(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(yn(t)?Kt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$r())),Oe(t),null;case 26:var a=t.type,u=t.memoizedState;return e===null?(Kt(t),u!==null?(Oe(t),B$(t,u)):(Oe(t),ts(t,a,null,n,i))):u?u!==e.memoizedState?(Kt(t),Oe(t),B$(t,u)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Kt(t),Oe(t),ts(t,a,e,n,i)),null;case 27:if(Ha(t),i=ie.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Kt(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Oe(t),null}e=q.current,yn(t)?So(t):(e=Yc(a,n,i),t.stateNode=e,Kt(t))}return Oe(t),null;case 5:if(Ha(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Kt(t);else{if(!n){if(t.stateNode===null)throw Error(s(166));return Oe(t),null}if(u=q.current,yn(t))So(t);else{var f=Wl(ie.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?f.createElement("select",{is:n.is}):f.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?f.createElement(a,{is:n.is}):f.createElement(a)}}u[Be]=t,u[tt]=n;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(je(u,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Kt(t)}}return Oe(t),ts(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Kt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(s(166));if(e=ie.current,yn(t)){if(e=t.stateNode,i=t.memoizedProps,n=null,a=He,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Be]=t,e=!!(e.nodeValue===i||n!==null&&n.suppressHydrationWarning===!0||zc(e.nodeValue,i)),e||ci(t,!0)}else e=Wl(e).createTextNode(n),e[Be]=t,t.stateNode=e}return Oe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(n=yn(t),i!==null){if(e===null){if(!n)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Be]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else i=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(pt(t),t):(pt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Oe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=yn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(s(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(s(317));a[Be]=t}else Hi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),a=!1}else a=$r(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(pt(t),t):(pt(t),null)}return pt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=n!==null,e=e!==null&&e.memoizedState!==null,i&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==a&&(n.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Rl(t,t.updateQueue),Oe(t),null);case 4:return Ne(),e===null&&Es(t.stateNode.containerInfo),Oe(t),null;case 10:return Yt(t.type),Oe(t),null;case 19:if(F(Re),n=t.memoizedState,n===null)return Oe(t),null;if(a=(t.flags&128)!==0,u=n.rendering,u===null)if(a)ya(n,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yl(e),u!==null){for(t.flags|=128,ya(n,!1),e=u.updateQueue,t.updateQueue=e,Rl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)po(i,e),i=i.sibling;return z(Re,Re.current&1|2),re&&Wt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ft()>Ll&&(t.flags|=128,a=!0,ya(n,!1),t.lanes=4194304)}else{if(!a)if(e=yl(u),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Rl(t,e),ya(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!re)return Oe(t),null}else 2*ft()-n.renderingStartTime>Ll&&i!==536870912&&(t.flags|=128,a=!0,ya(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ft(),e.sibling=null,i=Re.current,z(Re,a?i&1|2:i&1),re&&Wt(t,n.treeForkCount),e):(Oe(t),null);case 22:case 23:return pt(t),xr(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(i&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&Rl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==i&&(t.flags|=2048),e!==null&&F(ji),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Yt(we),Oe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Lp(e,t){switch(fr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yt(we),Ne(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ha(t),null;case 31:if(t.memoizedState!==null){if(pt(t),t.alternate===null)throw Error(s(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(Re),null;case 4:return Ne(),null;case 10:return Yt(t.type),null;case 22:case 23:return pt(t),xr(),e!==null&&F(ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Yt(we),null;case 25:return null;default:return null}}function H$(e,t){switch(fr(t),t.tag){case 3:Yt(we),Ne();break;case 26:case 27:case 5:Ha(t);break;case 4:Ne();break;case 31:t.memoizedState!==null&&pt(t);break;case 13:pt(t);break;case 19:F(Re);break;case 10:Yt(t.type);break;case 22:case 23:pt(t),xr(),e!==null&&F(ji);break;case 24:Yt(we)}}function va(e,t){try{var i=t.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var a=n.next;i=a;do{if((i.tag&e)===e){n=void 0;var u=i.create,f=i.inst;n=u(),f.destroy=n}i=i.next}while(i!==a)}}catch(c){ge(t,t.return,c)}}function vi(e,t,i){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var u=a.next;n=u;do{if((n.tag&e)===e){var f=n.inst,c=f.destroy;if(c!==void 0){f.destroy=void 0,a=t;var m=i,S=c;try{S()}catch(A){ge(a,m,A)}}}n=n.next}while(n!==u)}}catch(A){ge(t,t.return,A)}}function V$(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{wo(t,i)}catch(n){ge(e,e.return,n)}}}function k$(e,t,i){i.props=Qi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(n){ge(e,t,n)}}function Sa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof i=="function"?e.refCleanup=i(n):i.current=n}}catch(a){ge(e,t,a)}}function It(e,t){var i=e.ref,n=e.refCleanup;if(i!==null)if(typeof n=="function")try{n()}catch(a){ge(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(a){ge(e,t,a)}else i.current=null}function j$(e){var t=e.type,i=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break e;case"img":i.src?n.src=i.src:i.srcSet&&(n.srcset=i.srcSet)}}catch(a){ge(e,e.return,a)}}function is(e,t,i){try{var n=e.stateNode;ag(n,e.type,i,t),n[tt]=t}catch(a){ge(e,e.return,a)}}function W$(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ci(e.type)||e.tag===4}function ns(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function as(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Vt));else if(n!==4&&(n===27&&Ci(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(as(e,t,i),e=e.sibling;e!==null;)as(e,t,i),e=e.sibling}function Fl(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(n===27&&Ci(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Fl(e,t,i),e=e.sibling;e!==null;)Fl(e,t,i),e=e.sibling}function X$(e){var t=e.stateNode,i=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);je(t,n,i),t[Be]=e,t[tt]=i}catch(u){ge(e,e.return,u)}}var Jt=!1,Le=!1,ls=!1,Y$=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function zp(e,t){if(e=e.containerInfo,Cs=Jl,e=lo(e),Ku(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var a=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var f=0,c=-1,m=-1,S=0,A=0,R=e,T=null;t:for(;;){for(var O;R!==i||a!==0&&R.nodeType!==3||(c=f+a),R!==u||n!==0&&R.nodeType!==3||(m=f+n),R.nodeType===3&&(f+=R.nodeValue.length),(O=R.firstChild)!==null;)T=R,R=O;for(;;){if(R===e)break t;if(T===i&&++S===a&&(c=f),T===u&&++A===n&&(m=f),(O=R.nextSibling)!==null)break;R=T,T=R.parentNode}R=O}i=c===-1||m===-1?null:{start:c,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(As={focusedElem:e,selectionRange:i},Jl=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){switch(t=Ie,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)a=e[i],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,a=u.memoizedProps,u=u.memoizedState,n=i.stateNode;try{var I=Qi(i.type,a);e=n.getSnapshotBeforeUpdate(I,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(j){ge(i,i.return,j)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Ns(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ns(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}}function Z$(e,t,i){var n=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i),n&4&&va(5,i);break;case 1:if(ti(e,i),n&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(f){ge(i,i.return,f)}else{var a=Qi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){ge(i,i.return,f)}}n&64&&V$(i),n&512&&Sa(i,i.return);break;case 3:if(ti(e,i),n&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{wo(e,t)}catch(f){ge(i,i.return,f)}}break;case 27:t===null&&n&4&&X$(i);case 26:case 5:ti(e,i),t===null&&n&4&&j$(i),n&512&&Sa(i,i.return);break;case 12:ti(e,i);break;case 31:ti(e,i),n&4&&K$(e,i);break;case 13:ti(e,i),n&4&&J$(e,i),n&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Wp.bind(null,i),cg(e,i))));break;case 22:if(n=i.memoizedState!==null||Jt,!n){t=t!==null&&t.memoizedState!==null||Le,a=Jt;var u=Le;Jt=n,(Le=t)&&!u?ii(e,i,(i.subtreeFlags&8772)!==0):ti(e,i),Jt=a,Le=u}break;case 30:break;default:ti(e,i)}}function Q$(e){var t=e.alternate;t!==null&&(e.alternate=null,Q$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Uu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,nt=!1;function ei(e,t,i){for(i=i.child;i!==null;)P$(e,t,i),i=i.sibling}function P$(e,t,i){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(kn,i)}catch{}switch(i.tag){case 26:Le||It(i,t),ei(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Le||It(i,t);var n=Ce,a=nt;Ci(i.type)&&(Ce=i.stateNode,nt=!1),ei(e,t,i),_a(i.stateNode),Ce=n,nt=a;break;case 5:Le||It(i,t);case 6:if(n=Ce,a=nt,Ce=null,ei(e,t,i),Ce=n,nt=a,Ce!==null)if(nt)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(i.stateNode)}catch(u){ge(i,t,u)}else try{Ce.removeChild(i.stateNode)}catch(u){ge(i,t,u)}break;case 18:Ce!==null&&(nt?(e=Ce,Vc(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),In(e)):Vc(Ce,i.stateNode));break;case 4:n=Ce,a=nt,Ce=i.stateNode.containerInfo,nt=!0,ei(e,t,i),Ce=n,nt=a;break;case 0:case 11:case 14:case 15:vi(2,i,t),Le||vi(4,i,t),ei(e,t,i);break;case 1:Le||(It(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"&&k$(i,t,n)),ei(e,t,i);break;case 21:ei(e,t,i);break;case 22:Le=(n=Le)||i.memoizedState!==null,ei(e,t,i),Le=n;break;default:ei(e,t,i)}}function K$(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{In(e)}catch(i){ge(t,t.return,i)}}}function J$(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{In(e)}catch(i){ge(t,t.return,i)}}function Gp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Y$),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Y$),t;default:throw Error(s(435,e.tag))}}function wl(e,t){var i=Gp(e);t.forEach(function(n){if(!i.has(n)){i.add(n);var a=Xp.bind(null,e,n);n.then(a,a)}})}function at(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var a=i[n],u=e,f=t,c=f;e:for(;c!==null;){switch(c.tag){case 27:if(Ci(c.type)){Ce=c.stateNode,nt=!1;break e}break;case 5:Ce=c.stateNode,nt=!1;break e;case 3:case 4:Ce=c.stateNode.containerInfo,nt=!0;break e}c=c.return}if(Ce===null)throw Error(s(160));P$(u,f,a),Ce=null,nt=!1,u=a.alternate,u!==null&&(u.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ec(t,e),t=t.sibling}var Ft=null;function ec(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:at(t,e),lt(e),n&4&&(vi(3,e,e.return),va(3,e),vi(5,e,e.return));break;case 1:at(t,e),lt(e),n&512&&(Le||i===null||It(i,i.return)),n&64&&Jt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?n:i.concat(n))));break;case 26:var a=Ft;if(at(t,e),lt(e),n&512&&(Le||i===null||It(i,i.return)),n&4){var u=i!==null?i.memoizedState:null;if(n=e.memoizedState,i===null)if(n===null)if(e.stateNode===null){e:{n=e.type,i=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":u=a.getElementsByTagName("title")[0],(!u||u[Xn]||u[Be]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=a.createElement(n),a.head.insertBefore(u,a.querySelector("head > title"))),je(u,n,i),u[Be]=e,Ge(u),n=u;break e;case"link":var f=ed("link","href",a).get(n+(i.href||""));if(f){for(var c=0;c<f.length;c++)if(u=f[c],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){f.splice(c,1);break t}}u=a.createElement(n),je(u,n,i),a.head.appendChild(u);break;case"meta":if(f=ed("meta","content",a).get(n+(i.content||""))){for(c=0;c<f.length;c++)if(u=f[c],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){f.splice(c,1);break t}}u=a.createElement(n),je(u,n,i),a.head.appendChild(u);break;default:throw Error(s(468,n))}u[Be]=e,Ge(u),n=u}e.stateNode=n}else td(a,e.type,e.stateNode);else e.stateNode=Jc(a,n,e.memoizedProps);else u!==n?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,n===null?td(a,e.type,e.stateNode):Jc(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&is(e,e.memoizedProps,i.memoizedProps)}break;case 27:at(t,e),lt(e),n&512&&(Le||i===null||It(i,i.return)),i!==null&&n&4&&is(e,e.memoizedProps,i.memoizedProps);break;case 5:if(at(t,e),lt(e),n&512&&(Le||i===null||It(i,i.return)),e.flags&32){a=e.stateNode;try{sn(a,"")}catch(I){ge(e,e.return,I)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,is(e,a,i!==null?i.memoizedProps:a)),n&1024&&(ls=!0);break;case 6:if(at(t,e),lt(e),n&4){if(e.stateNode===null)throw Error(s(162));n=e.memoizedProps,i=e.stateNode;try{i.nodeValue=n}catch(I){ge(e,e.return,I)}}break;case 3:if(Zl=null,a=Ft,Ft=Xl(t.containerInfo),at(t,e),Ft=a,lt(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(I){ge(e,e.return,I)}ls&&(ls=!1,tc(e));break;case 4:n=Ft,Ft=Xl(e.stateNode.containerInfo),at(t,e),lt(e),Ft=n;break;case 12:at(t,e),lt(e);break;case 31:at(t,e),lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,wl(e,n)));break;case 13:at(t,e),lt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ul=ft()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,wl(e,n)));break;case 22:a=e.memoizedState!==null;var m=i!==null&&i.memoizedState!==null,S=Jt,A=Le;if(Jt=S||a,Le=A||m,at(t,e),Le=A,Jt=S,lt(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(i===null||m||Jt||Le||Pi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){m=i=t;try{if(u=m.stateNode,a)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{c=m.stateNode;var R=m.memoizedProps.style,T=R!=null&&R.hasOwnProperty("display")?R.display:null;c.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(I){ge(m,m.return,I)}}}else if(t.tag===6){if(i===null){m=t;try{m.stateNode.nodeValue=a?"":m.memoizedProps}catch(I){ge(m,m.return,I)}}}else if(t.tag===18){if(i===null){m=t;try{var O=m.stateNode;a?kc(O,!0):kc(m.stateNode,!1)}catch(I){ge(m,m.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(i=n.retryQueue,i!==null&&(n.retryQueue=null,wl(e,i))));break;case 19:at(t,e),lt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,wl(e,n)));break;case 30:break;case 21:break;default:at(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{for(var i,n=e.return;n!==null;){if(W$(n)){i=n;break}n=n.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var a=i.stateNode,u=ns(e);Fl(e,u,a);break;case 5:var f=i.stateNode;i.flags&32&&(sn(f,""),i.flags&=-33);var c=ns(e);Fl(e,c,f);break;case 3:case 4:var m=i.stateNode.containerInfo,S=ns(e);as(e,S,m);break;default:throw Error(s(161))}}catch(A){ge(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tc(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;tc(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ti(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Z$(e,t.alternate,t),t=t.sibling}function Pi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vi(4,t,t.return),Pi(t);break;case 1:It(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&k$(t,t.return,i),Pi(t);break;case 27:_a(t.stateNode);case 26:case 5:It(t,t.return),Pi(t);break;case 22:t.memoizedState===null&&Pi(t);break;case 30:Pi(t);break;default:Pi(t)}e=e.sibling}}function ii(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:ii(a,u,i),va(4,u);break;case 1:if(ii(a,u,i),n=u,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(S){ge(n,n.return,S)}if(n=u,a=n.updateQueue,a!==null){var c=n.stateNode;try{var m=a.shared.hiddenCallbacks;if(m!==null)for(a.shared.hiddenCallbacks=null,a=0;a<m.length;a++)Fo(m[a],c)}catch(S){ge(n,n.return,S)}}i&&f&64&&V$(u),Sa(u,u.return);break;case 27:X$(u);case 26:case 5:ii(a,u,i),i&&n===null&&f&4&&j$(u),Sa(u,u.return);break;case 12:ii(a,u,i);break;case 31:ii(a,u,i),i&&f&4&&K$(a,u);break;case 13:ii(a,u,i),i&&f&4&&J$(a,u);break;case 22:u.memoizedState===null&&ii(a,u,i),Sa(u,u.return);break;case 30:break;default:ii(a,u,i)}t=t.sibling}}function us(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ua(i))}function rs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ua(e))}function wt(e,t,i,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ic(e,t,i,n),t=t.sibling}function ic(e,t,i,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:wt(e,t,i,n),a&2048&&va(9,t);break;case 1:wt(e,t,i,n);break;case 3:wt(e,t,i,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ua(e)));break;case 12:if(a&2048){wt(e,t,i,n),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,c=u.onPostCommit;typeof c=="function"&&c(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){ge(t,t.return,m)}}else wt(e,t,i,n);break;case 31:wt(e,t,i,n);break;case 13:wt(e,t,i,n);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?wt(e,t,i,n):ba(e,t):u._visibility&2?wt(e,t,i,n):(u._visibility|=2,Dn(e,t,i,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&us(f,t);break;case 24:wt(e,t,i,n),a&2048&&rs(t.alternate,t);break;default:wt(e,t,i,n)}}function Dn(e,t,i,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,c=i,m=n,S=f.flags;switch(f.tag){case 0:case 11:case 15:Dn(u,f,c,m,a),va(8,f);break;case 23:break;case 22:var A=f.stateNode;f.memoizedState!==null?A._visibility&2?Dn(u,f,c,m,a):ba(u,f):(A._visibility|=2,Dn(u,f,c,m,a)),a&&S&2048&&us(f.alternate,f);break;case 24:Dn(u,f,c,m,a),a&&S&2048&&rs(f.alternate,f);break;default:Dn(u,f,c,m,a)}t=t.sibling}}function ba(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,n=t,a=n.flags;switch(n.tag){case 22:ba(i,n),a&2048&&us(n.alternate,n);break;case 24:ba(i,n),a&2048&&rs(n.alternate,n);break;default:ba(i,n)}t=t.sibling}}var Ta=8192;function _n(e,t,i){if(e.subtreeFlags&Ta)for(e=e.child;e!==null;)nc(e,t,i),e=e.sibling}function nc(e,t,i){switch(e.tag){case 26:_n(e,t,i),e.flags&Ta&&e.memoizedState!==null&&xg(i,Ft,e.memoizedState,e.memoizedProps);break;case 5:_n(e,t,i);break;case 3:case 4:var n=Ft;Ft=Xl(e.stateNode.containerInfo),_n(e,t,i),Ft=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ta,Ta=16777216,_n(e,t,i),Ta=n):_n(e,t,i));break;default:_n(e,t,i)}}function ac(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ea(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Ie=n,uc(n,e)}ac(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:Ea(e),e.flags&2048&&vi(9,e,e.return);break;case 3:Ea(e);break;case 12:Ea(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ml(e)):Ea(e);break;default:Ea(e)}}function Ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var n=t[i];Ie=n,uc(n,e)}ac(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vi(8,t,t.return),Ml(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Ml(t));break;default:Ml(t)}e=e.sibling}}function uc(e,t){for(;Ie!==null;){var i=Ie;switch(i.tag){case 0:case 11:case 15:vi(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var n=i.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ua(i.memoizedState.cache)}if(n=i.child,n!==null)n.return=i,Ie=n;else e:for(i=e;Ie!==null;){n=Ie;var a=n.sibling,u=n.return;if(Q$(n),n===i){Ie=null;break e}if(a!==null){a.return=u,Ie=a;break e}Ie=u}}}var Ip={getCacheForType:function(e){var t=Ve(we),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ve(we).controller.signal}},qp=typeof WeakMap=="function"?WeakMap:Map,ce=0,Ee=null,ne=null,le=0,pe=0,gt=null,Si=!1,Nn=!1,ss=!1,ni=0,De=0,bi=0,Ki=0,fs=0,ht=0,Rn=0,xa=null,ut=null,os=!1,Ul=0,rc=0,Ll=1/0,zl=null,Ti=null,ze=0,Ei=null,Fn=null,ai=0,$s=0,cs=null,sc=null,Oa=0,ds=null;function yt(){return(ce&2)!==0&&le!==0?le&-le:_.T!==null?vs():Ef()}function fc(){if(ht===0)if((le&536870912)===0||re){var e=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),ht=e}else ht=536870912;return e=mt.current,e!==null&&(e.flags|=32),ht}function rt(e,t,i){(e===Ee&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&(wn(e,0),xi(e,le,ht,!1)),Wn(e,i),((ce&2)===0||e!==Ee)&&(e===Ee&&((ce&2)===0&&(Ki|=i),De===4&&xi(e,le,ht,!1)),qt(e))}function oc(e,t,i){if((ce&6)!==0)throw Error(s(327));var n=!i&&(t&127)===0&&(t&e.expiredLanes)===0||jn(e,t),a=n?Vp(e,t):ps(e,t,!0),u=n;do{if(a===0){Nn&&!n&&xi(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Bp(i)){a=ps(e,t,!1),u=!1;continue}if(a===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var c=e;a=xa;var m=c.current.memoizedState.isDehydrated;if(m&&(wn(c,f).flags|=256),f=ps(c,f,!1),f!==2){if(ss&&!m){c.errorRecoveryDisabledLanes|=u,Ki|=u,a=4;break e}u=ut,ut=a,u!==null&&(ut===null?ut=u:ut.push.apply(ut,u))}a=f}if(u=!1,a!==2)continue}}if(a===1){wn(e,0),xi(e,t,0,!0);break}e:{switch(n=e,u=a,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:xi(n,t,ht,!Si);break e;case 2:ut=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(a=Ul+300-ft(),10<a)){if(xi(n,t,ht,!Si),Xa(n,0,!0)!==0)break e;ai=t,n.timeoutHandle=Bc($c.bind(null,n,i,ut,zl,os,t,ht,Ki,Rn,Si,u,"Throttled",-0,0),a);break e}$c(n,i,ut,zl,os,t,ht,Ki,Rn,Si,u,null,-0,0)}}break}while(!0);qt(e)}function $c(e,t,i,n,a,u,f,c,m,S,A,R,T,O){if(e.timeoutHandle=-1,R=t.subtreeFlags,R&8192||(R&16785408)===16785408){R={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vt},nc(t,u,R);var I=(u&62914560)===u?Ul-ft():(u&4194048)===u?rc-ft():0;if(I=Og(R,I),I!==null){ai=u,e.cancelPendingCommit=I(vc.bind(null,e,t,u,i,n,a,f,c,m,A,R,null,T,O)),xi(e,u,f,!S);return}}vc(e,t,u,i,n,a,f,c,m)}function Bp(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var n=0;n<i.length;n++){var a=i[n],u=a.getSnapshot;a=a.value;try{if(!ct(u(),a))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t,i,n){t&=~fs,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var u=31-$t(a),f=1<<u;n[u]=-1,a&=~f}i!==0&&Sf(e,i,t)}function Gl(){return(ce&6)===0?(Ca(0),!1):!0}function ms(){if(ne!==null){if(pe===0)var e=ne.return;else e=ne,Xt=Vi=null,Nr(e),En=null,sa=0,e=ne;for(;e!==null;)H$(e.alternate,e),e=e.return;ne=null}}function wn(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,rg(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ai=0,ms(),Ee=e,ne=i=jt(e.current,null),le=t,pe=0,gt=null,Si=!1,Nn=jn(e,t),ss=!1,Rn=ht=fs=Ki=bi=De=0,ut=xa=null,os=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-$t(n),u=1<<a;t|=e[a],n&=~u}return ni=t,ll(),i}function cc(e,t){P=null,_.H=ga,t===Tn||t===dl?(t=Do(),pe=3):t===yr?(t=Do(),pe=4):pe=t===Wr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,ne===null&&(De=1,Al(e,Et(t,e.current)))}function dc(){var e=mt.current;return e===null?!0:(le&4194048)===le?At===null:(le&62914560)===le||(le&536870912)!==0?e===At:!1}function mc(){var e=_.H;return _.H=ga,e===null?ga:e}function pc(){var e=_.A;return _.A=Ip,e}function Il(){De=4,Si||(le&4194048)!==le&&mt.current!==null||(Nn=!0),(bi&134217727)===0&&(Ki&134217727)===0||Ee===null||xi(Ee,le,ht,!1)}function ps(e,t,i){var n=ce;ce|=2;var a=mc(),u=pc();(Ee!==e||le!==t)&&(zl=null,wn(e,t)),t=!1;var f=De;e:do try{if(pe!==0&&ne!==null){var c=ne,m=gt;switch(pe){case 8:ms(),f=6;break e;case 3:case 2:case 9:case 6:mt.current===null&&(t=!0);var S=pe;if(pe=0,gt=null,Mn(e,c,m,S),i&&Nn){f=0;break e}break;default:S=pe,pe=0,gt=null,Mn(e,c,m,S)}}Hp(),f=De;break}catch(A){cc(e,A)}while(!0);return t&&e.shellSuspendCounter++,Xt=Vi=null,ce=n,_.H=a,_.A=u,ne===null&&(Ee=null,le=0,ll()),f}function Hp(){for(;ne!==null;)gc(ne)}function Vp(e,t){var i=ce;ce|=2;var n=mc(),a=pc();Ee!==e||le!==t?(zl=null,Ll=ft()+500,wn(e,t)):Nn=jn(e,t);e:do try{if(pe!==0&&ne!==null){t=ne;var u=gt;t:switch(pe){case 1:pe=0,gt=null,Mn(e,t,u,1);break;case 2:case 9:if(Co(u)){pe=0,gt=null,hc(t);break}t=function(){pe!==2&&pe!==9||Ee!==e||(pe=7),qt(e)},u.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:Co(u)?(pe=0,gt=null,hc(t)):(pe=0,gt=null,Mn(e,t,u,7));break;case 5:var f=null;switch(ne.tag){case 26:f=ne.memoizedState;case 5:case 27:var c=ne;if(f?id(f):c.stateNode.complete){pe=0,gt=null;var m=c.sibling;if(m!==null)ne=m;else{var S=c.return;S!==null?(ne=S,ql(S)):ne=null}break t}}pe=0,gt=null,Mn(e,t,u,5);break;case 6:pe=0,gt=null,Mn(e,t,u,6);break;case 8:ms(),De=6;break e;default:throw Error(s(462))}}kp();break}catch(A){cc(e,A)}while(!0);return Xt=Vi=null,_.H=n,_.A=a,ce=i,ne!==null?0:(Ee=null,le=0,ll(),De)}function kp(){for(;ne!==null&&!dm();)gc(ne)}function gc(e){var t=q$(e.alternate,e,ni);e.memoizedProps=e.pendingProps,t===null?ql(e):ne=t}function hc(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=M$(i,t,t.pendingProps,t.type,void 0,le);break;case 11:t=M$(i,t,t.pendingProps,t.type.render,t.ref,le);break;case 5:Nr(t);default:H$(i,t),t=ne=po(t,ni),t=q$(i,t,ni)}e.memoizedProps=e.pendingProps,t===null?ql(e):ne=t}function Mn(e,t,i,n){Xt=Vi=null,Nr(t),En=null,sa=0;var a=t.return;try{if(Fp(e,a,t,i,le)){De=1,Al(e,Et(i,e.current)),ne=null;return}}catch(u){if(a!==null)throw ne=a,u;De=1,Al(e,Et(i,e.current)),ne=null;return}t.flags&32768?(re||n===1?e=!0:Nn||(le&536870912)!==0?e=!1:(Si=e=!0,(n===2||n===9||n===3||n===6)&&(n=mt.current,n!==null&&n.tag===13&&(n.flags|=16384))),yc(t,e)):ql(t)}function ql(e){var t=e;do{if((t.flags&32768)!==0){yc(t,Si);return}e=t.return;var i=Up(t.alternate,t,ni);if(i!==null){ne=i;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);De===0&&(De=5)}function yc(e,t){do{var i=Lp(e.alternate,e);if(i!==null){i.flags&=32767,ne=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=i}while(e!==null);De=6,ne=null}function vc(e,t,i,n,a,u,f,c,m){e.cancelPendingCommit=null;do Bl();while(ze!==0);if((ce&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=nr,Em(e,i,u,f,c,m),e===Ee&&(ne=Ee=null,le=0),Fn=t,Ei=e,ai=i,$s=u,cs=a,sc=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yp(Va,function(){return xc(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=_.T,_.T=null,a=L.p,L.p=2,f=ce,ce|=4;try{zp(e,t,i)}finally{ce=f,L.p=a,_.T=n}}ze=1,Sc(),bc(),Tc()}}function Sc(){if(ze===1){ze=0;var e=Ei,t=Fn,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=_.T,_.T=null;var n=L.p;L.p=2;var a=ce;ce|=4;try{ec(t,e);var u=As,f=lo(e.containerInfo),c=u.focusedElem,m=u.selectionRange;if(f!==c&&c&&c.ownerDocument&&ao(c.ownerDocument.documentElement,c)){if(m!==null&&Ku(c)){var S=m.start,A=m.end;if(A===void 0&&(A=S),"selectionStart"in c)c.selectionStart=S,c.selectionEnd=Math.min(A,c.value.length);else{var R=c.ownerDocument||document,T=R&&R.defaultView||window;if(T.getSelection){var O=T.getSelection(),I=c.textContent.length,j=Math.min(m.start,I),be=m.end===void 0?j:Math.min(m.end,I);!O.extend&&j>be&&(f=be,be=j,j=f);var y=no(c,j),p=no(c,be);if(y&&p&&(O.rangeCount!==1||O.anchorNode!==y.node||O.anchorOffset!==y.offset||O.focusNode!==p.node||O.focusOffset!==p.offset)){var v=R.createRange();v.setStart(y.node,y.offset),O.removeAllRanges(),j>be?(O.addRange(v),O.extend(p.node,p.offset)):(v.setEnd(p.node,p.offset),O.addRange(v))}}}}for(R=[],O=c;O=O.parentNode;)O.nodeType===1&&R.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<R.length;c++){var N=R[c];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Jl=!!Cs,As=Cs=null}finally{ce=a,L.p=n,_.T=i}}e.current=t,ze=2}}function bc(){if(ze===2){ze=0;var e=Ei,t=Fn,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=_.T,_.T=null;var n=L.p;L.p=2;var a=ce;ce|=4;try{Z$(e,t.alternate,t)}finally{ce=a,L.p=n,_.T=i}}ze=3}}function Tc(){if(ze===4||ze===3){ze=0,mm();var e=Ei,t=Fn,i=ai,n=sc;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ze=5:(ze=0,Fn=Ei=null,Ec(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ti=null),wu(i),t=t.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(kn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=_.T,a=L.p,L.p=2,_.T=null;try{for(var u=e.onRecoverableError,f=0;f<n.length;f++){var c=n[f];u(c.value,{componentStack:c.stack})}}finally{_.T=t,L.p=a}}(ai&3)!==0&&Bl(),qt(e),a=e.pendingLanes,(i&261930)!==0&&(a&42)!==0?e===ds?Oa++:(Oa=0,ds=e):Oa=0,Ca(0)}}function Ec(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ua(t)))}function Bl(){return Sc(),bc(),Tc(),xc()}function xc(){if(ze!==5)return!1;var e=Ei,t=$s;$s=0;var i=wu(ai),n=_.T,a=L.p;try{L.p=32>i?32:i,_.T=null,i=cs,cs=null;var u=Ei,f=ai;if(ze=0,Fn=Ei=null,ai=0,(ce&6)!==0)throw Error(s(331));var c=ce;if(ce|=4,lc(u.current),ic(u,u.current,f,i),ce=c,Ca(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(kn,u)}catch{}return!0}finally{L.p=a,_.T=n,Ec(e,t)}}function Oc(e,t,i){t=Et(i,t),t=jr(e.stateNode,t,2),e=gi(e,t,2),e!==null&&(Wn(e,2),qt(e))}function ge(e,t,i){if(e.tag===3)Oc(e,e,i);else for(;t!==null;){if(t.tag===3){Oc(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ti===null||!Ti.has(n))){e=Et(i,e),i=C$(2),n=gi(t,i,2),n!==null&&(A$(i,n,t,e),Wn(n,2),qt(n));break}}t=t.return}}function gs(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new qp;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(i)||(ss=!0,a.add(i),e=jp.bind(null,e,t,i),t.then(e,e))}function jp(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ee===e&&(le&i)===i&&(De===4||De===3&&(le&62914560)===le&&300>ft()-Ul?(ce&2)===0&&wn(e,0):fs|=i,Rn===le&&(Rn=0)),qt(e)}function Cc(e,t){t===0&&(t=vf()),e=qi(e,t),e!==null&&(Wn(e,t),qt(e))}function Wp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Cc(e,i)}function Xp(e,t){var i=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}n!==null&&n.delete(t),Cc(e,i)}function Yp(e,t){return _u(e,t)}var Hl=null,Un=null,hs=!1,Vl=!1,ys=!1,Oi=0;function qt(e){e!==Un&&e.next===null&&(Un===null?Hl=Un=e:Un=Un.next=e),Vl=!0,hs||(hs=!0,Qp())}function Ca(e,t){if(!ys&&Vl){ys=!0;do for(var i=!1,n=Hl;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var u=0;else{var f=n.suspendedLanes,c=n.pingedLanes;u=(1<<31-$t(42|e)+1)-1,u&=a&~(f&~c),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Nc(n,u))}else u=le,u=Xa(n,n===Ee?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||jn(n,u)||(i=!0,Nc(n,u));n=n.next}while(i);ys=!1}}function Zp(){Ac()}function Ac(){Vl=hs=!1;var e=0;Oi!==0&&ug()&&(e=Oi);for(var t=ft(),i=null,n=Hl;n!==null;){var a=n.next,u=Dc(n,t);u===0?(n.next=null,i===null?Hl=a:i.next=a,a===null&&(Un=i)):(i=n,(e!==0||(u&3)!==0)&&(Vl=!0)),n=a}ze!==0&&ze!==5||Ca(e),Oi!==0&&(Oi=0)}function Dc(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-$t(u),c=1<<f,m=a[f];m===-1?((c&i)===0||(c&n)!==0)&&(a[f]=Tm(c,t)):m<=t&&(e.expiredLanes|=c),u&=~c}if(t=Ee,i=le,i=Xa(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,i===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Nu(n),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||jn(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(n!==null&&Nu(n),wu(i)){case 2:case 8:i=hf;break;case 32:i=Va;break;case 268435456:i=yf;break;default:i=Va}return n=_c.bind(null,e),i=_u(i,n),e.callbackPriority=t,e.callbackNode=i,t}return n!==null&&n!==null&&Nu(n),e.callbackPriority=2,e.callbackNode=null,2}function _c(e,t){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Bl()&&e.callbackNode!==i)return null;var n=le;return n=Xa(e,e===Ee?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(oc(e,n,t),Dc(e,ft()),e.callbackNode!=null&&e.callbackNode===i?_c.bind(null,e):null)}function Nc(e,t){if(Bl())return null;oc(e,t,!0)}function Qp(){sg(function(){(ce&6)!==0?_u(gf,Zp):Ac()})}function vs(){if(Oi===0){var e=Sn;e===0&&(e=ka,ka<<=1,(ka&261888)===0&&(ka=256)),Oi=e}return Oi}function Rc(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pa(""+e)}function Fc(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Pp(e,t,i,n,a){if(t==="submit"&&i&&i.stateNode===a){var u=Rc((a[tt]||null).action),f=n.submitter;f&&(t=(t=f[tt]||null)?Rc(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var c=new tl("action","action",null,n,a);e.push({event:c,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Oi!==0){var m=f?Fc(a,f):new FormData(a);Ir(i,{pending:!0,data:m,method:a.method,action:u},null,m)}}else typeof u=="function"&&(c.preventDefault(),m=f?Fc(a,f):new FormData(a),Ir(i,{pending:!0,data:m,method:a.method,action:u},u,m))},currentTarget:a}]})}}for(var Ss=0;Ss<ir.length;Ss++){var bs=ir[Ss],Kp=bs.toLowerCase(),Jp=bs[0].toUpperCase()+bs.slice(1);Rt(Kp,"on"+Jp)}Rt(so,"onAnimationEnd"),Rt(fo,"onAnimationIteration"),Rt(oo,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(pp,"onTransitionRun"),Rt(gp,"onTransitionStart"),Rt(hp,"onTransitionCancel"),Rt($o,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Aa));function wc(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],a=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var f=n.length-1;0<=f;f--){var c=n[f],m=c.instance,S=c.currentTarget;if(c=c.listener,m!==u&&a.isPropagationStopped())break e;u=c,a.currentTarget=S;try{u(a)}catch(A){al(A)}a.currentTarget=null,u=m}else for(f=0;f<n.length;f++){if(c=n[f],m=c.instance,S=c.currentTarget,c=c.listener,m!==u&&a.isPropagationStopped())break e;u=c,a.currentTarget=S;try{u(a)}catch(A){al(A)}a.currentTarget=null,u=m}}}}function ae(e,t){var i=t[Mu];i===void 0&&(i=t[Mu]=new Set);var n=e+"__bubble";i.has(n)||(Mc(t,e,2,!1),i.add(n))}function Ts(e,t,i){var n=0;t&&(n|=4),Mc(i,e,n,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[kl]){e[kl]=!0,Cf.forEach(function(i){i!=="selectionchange"&&(eg.has(i)||Ts(i,!1,e),Ts(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,Ts("selectionchange",!1,t))}}function Mc(e,t,i,n){switch(fd(t)){case 2:var a=Dg;break;case 8:a=_g;break;default:a=Gs}i=a.bind(null,t,i,e),a=void 0,!Vu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function xs(e,t,i,n,a){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var f=n.tag;if(f===3||f===4){var c=n.stateNode.containerInfo;if(c===a)break;if(f===4)for(f=n.return;f!==null;){var m=f.tag;if((m===3||m===4)&&f.stateNode.containerInfo===a)return;f=f.return}for(;c!==null;){if(f=nn(c),f===null)return;if(m=f.tag,m===5||m===6||m===26||m===27){n=u=f;continue e}c=c.parentNode}}n=n.return}Gf(function(){var S=u,A=Bu(i),R=[];e:{var T=co.get(e);if(T!==void 0){var O=tl,I=e;switch(e){case"keypress":if(Ja(i)===0)break e;case"keydown":case"keyup":O=Xm;break;case"focusin":I="focus",O=Xu;break;case"focusout":I="blur",O=Xu;break;case"beforeblur":case"afterblur":O=Xu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Qm;break;case so:case fo:case oo:O=Gm;break;case $o:O=Km;break;case"scroll":case"scrollend":O=wm;break;case"wheel":O=ep;break;case"copy":case"cut":case"paste":O=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Vf;break;case"toggle":case"beforetoggle":O=ip}var j=(t&4)!==0,be=!j&&(e==="scroll"||e==="scrollend"),y=j?T!==null?T+"Capture":null:T;j=[];for(var p=S,v;p!==null;){var N=p;if(v=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||v===null||y===null||(N=Zn(p,y),N!=null&&j.push(Da(p,N,v))),be)break;p=p.return}0<j.length&&(T=new O(T,I,null,i,A),R.push({event:T,listeners:j}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",T&&i!==qu&&(I=i.relatedTarget||i.fromElement)&&(nn(I)||I[tn]))break e;if((O||T)&&(T=A.window===A?A:(T=A.ownerDocument)?T.defaultView||T.parentWindow:window,O?(I=i.relatedTarget||i.toElement,O=S,I=I?nn(I):null,I!==null&&(be=d(I),j=I.tag,I!==be||j!==5&&j!==27&&j!==6)&&(I=null)):(O=null,I=S),O!==I)){if(j=Bf,N="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(j=Vf,N="onPointerLeave",y="onPointerEnter",p="pointer"),be=O==null?T:Yn(O),v=I==null?T:Yn(I),T=new j(N,p+"leave",O,i,A),T.target=be,T.relatedTarget=v,N=null,nn(A)===S&&(j=new j(y,p+"enter",I,i,A),j.target=v,j.relatedTarget=be,N=j),be=N,O&&I)t:{for(j=tg,y=O,p=I,v=0,N=y;N;N=j(N))v++;N=0;for(var V=p;V;V=j(V))N++;for(;0<v-N;)y=j(y),v--;for(;0<N-v;)p=j(p),N--;for(;v--;){if(y===p||p!==null&&y===p.alternate){j=y;break t}y=j(y),p=j(p)}j=null}else j=null;O!==null&&Uc(R,T,O,j,!1),I!==null&&be!==null&&Uc(R,be,I,j,!0)}}e:{if(T=S?Yn(S):window,O=T.nodeName&&T.nodeName.toLowerCase(),O==="select"||O==="input"&&T.type==="file")var oe=Pf;else if(Zf(T))if(Kf)oe=cp;else{oe=op;var H=fp}else O=T.nodeName,!O||O.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?S&&Iu(S.elementType)&&(oe=Pf):oe=$p;if(oe&&(oe=oe(e,S))){Qf(R,oe,i,A);break e}H&&H(e,T,S),e==="focusout"&&S&&T.type==="number"&&S.memoizedProps.value!=null&&Gu(T,"number",T.value)}switch(H=S?Yn(S):window,e){case"focusin":(Zf(H)||H.contentEditable==="true")&&(cn=H,Ju=S,na=null);break;case"focusout":na=Ju=cn=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":er=!1,uo(R,i,A);break;case"selectionchange":if(mp)break;case"keydown":case"keyup":uo(R,i,A)}var J;if(Zu)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else $n?Xf(e,i)&&(ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ue="onCompositionStart");ue&&(kf&&i.locale!=="ko"&&($n||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&$n&&(J=If()):(fi=A,ku="value"in fi?fi.value:fi.textContent,$n=!0)),H=jl(S,ue),0<H.length&&(ue=new Hf(ue,e,null,i,A),R.push({event:ue,listeners:H}),J?ue.data=J:(J=Yf(i),J!==null&&(ue.data=J)))),(J=ap?lp(e,i):up(e,i))&&(ue=jl(S,"onBeforeInput"),0<ue.length&&(H=new Hf("onBeforeInput","beforeinput",null,i,A),R.push({event:H,listeners:ue}),H.data=J)),Pp(R,e,S,i,A)}wc(R,t)})}function Da(e,t,i){return{instance:e,listener:t,currentTarget:i}}function jl(e,t){for(var i=t+"Capture",n=[];e!==null;){var a=e,u=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||u===null||(a=Zn(e,i),a!=null&&n.unshift(Da(e,a,u)),a=Zn(e,t),a!=null&&n.push(Da(e,a,u))),e.tag===3)return n;e=e.return}return[]}function tg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uc(e,t,i,n,a){for(var u=t._reactName,f=[];i!==null&&i!==n;){var c=i,m=c.alternate,S=c.stateNode;if(c=c.tag,m!==null&&m===n)break;c!==5&&c!==26&&c!==27||S===null||(m=S,a?(S=Zn(i,u),S!=null&&f.unshift(Da(i,S,m))):a||(S=Zn(i,u),S!=null&&f.push(Da(i,S,m)))),i=i.return}f.length!==0&&e.push({event:t,listeners:f})}var ig=/\r\n?/g,ng=/\u0000|\uFFFD/g;function Lc(e){return(typeof e=="string"?e:""+e).replace(ig,`
`).replace(ng,"")}function zc(e,t){return t=Lc(t),Lc(e)===t}function Se(e,t,i,n,a,u){switch(i){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||sn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&sn(e,""+n);break;case"className":Za(e,"class",n);break;case"tabIndex":Za(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Za(e,i,n);break;case"style":Lf(e,n,u);break;case"data":if(t!=="object"){Za(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=Pa(""+n),e.setAttribute(i,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Se(e,t,"name",a.name,a,null),Se(e,t,"formEncType",a.formEncType,a,null),Se(e,t,"formMethod",a.formMethod,a,null),Se(e,t,"formTarget",a.formTarget,a,null)):(Se(e,t,"encType",a.encType,a,null),Se(e,t,"method",a.method,a,null),Se(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(i);break}n=Pa(""+n),e.setAttribute(i,n);break;case"onClick":n!=null&&(e.onclick=Vt);break;case"onScroll":n!=null&&ae("scroll",e);break;case"onScrollEnd":n!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(i=n.__html,i!=null){if(a.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}i=Pa(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""+n):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":n===!0?e.setAttribute(i,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(i,n):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(i,n):e.removeAttribute(i);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(i):e.setAttribute(i,n);break;case"popover":ae("beforetoggle",e),ae("toggle",e),Ya(e,"popover",n);break;case"xlinkActuate":Ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ht(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ht(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ht(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ht(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ya(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Rm.get(i)||i,Ya(e,i,n))}}function Os(e,t,i,n,a,u){switch(i){case"style":Lf(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(s(61));if(i=n.__html,i!=null){if(a.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof n=="string"?sn(e,n):(typeof n=="number"||typeof n=="bigint")&&sn(e,""+n);break;case"onScroll":n!=null&&ae("scroll",e);break;case"onScrollEnd":n!=null&&ae("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Vt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Af.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(a=i.endsWith("Capture"),t=i.slice(2,a?i.length-7:void 0),u=e[tt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,a),typeof n=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,n,a);break e}i in e?e[i]=n:n===!0?e.setAttribute(i,""):Ya(e,i,n)}}}function je(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var n=!1,a=!1,u;for(u in i)if(i.hasOwnProperty(u)){var f=i[u];if(f!=null)switch(u){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Se(e,t,u,f,i,null)}}a&&Se(e,t,"srcSet",i.srcSet,i,null),n&&Se(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var c=u=f=a=null,m=null,S=null;for(n in i)if(i.hasOwnProperty(n)){var A=i[n];if(A!=null)switch(n){case"name":a=A;break;case"type":f=A;break;case"checked":m=A;break;case"defaultChecked":S=A;break;case"value":u=A;break;case"defaultValue":c=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(137,t));break;default:Se(e,t,n,A,i,null)}}Ff(e,u,c,m,S,f,a,!1);return;case"select":ae("invalid",e),n=f=u=null;for(a in i)if(i.hasOwnProperty(a)&&(c=i[a],c!=null))switch(a){case"value":u=c;break;case"defaultValue":f=c;break;case"multiple":n=c;default:Se(e,t,a,c,i,null)}t=u,i=f,e.multiple=!!n,t!=null?rn(e,!!n,t,!1):i!=null&&rn(e,!!n,i,!0);return;case"textarea":ae("invalid",e),u=a=n=null;for(f in i)if(i.hasOwnProperty(f)&&(c=i[f],c!=null))switch(f){case"value":n=c;break;case"defaultValue":a=c;break;case"children":u=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:Se(e,t,f,c,i,null)}Mf(e,n,a,u);return;case"option":for(m in i)if(i.hasOwnProperty(m)&&(n=i[m],n!=null))switch(m){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Se(e,t,m,n,i,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(n=0;n<Aa.length;n++)ae(Aa[n],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in i)if(i.hasOwnProperty(S)&&(n=i[S],n!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Se(e,t,S,n,i,null)}return;default:if(Iu(t)){for(A in i)i.hasOwnProperty(A)&&(n=i[A],n!==void 0&&Os(e,t,A,n,i,void 0));return}}for(c in i)i.hasOwnProperty(c)&&(n=i[c],n!=null&&Se(e,t,c,n,i,null))}function ag(e,t,i,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,u=null,f=null,c=null,m=null,S=null,A=null;for(O in i){var R=i[O];if(i.hasOwnProperty(O)&&R!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":m=R;default:n.hasOwnProperty(O)||Se(e,t,O,null,n,R)}}for(var T in n){var O=n[T];if(R=i[T],n.hasOwnProperty(T)&&(O!=null||R!=null))switch(T){case"type":u=O;break;case"name":a=O;break;case"checked":S=O;break;case"defaultChecked":A=O;break;case"value":f=O;break;case"defaultValue":c=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,t));break;default:O!==R&&Se(e,t,T,O,n,R)}}zu(e,f,c,m,S,A,u,a);return;case"select":O=f=c=T=null;for(u in i)if(m=i[u],i.hasOwnProperty(u)&&m!=null)switch(u){case"value":break;case"multiple":O=m;default:n.hasOwnProperty(u)||Se(e,t,u,null,n,m)}for(a in n)if(u=n[a],m=i[a],n.hasOwnProperty(a)&&(u!=null||m!=null))switch(a){case"value":T=u;break;case"defaultValue":c=u;break;case"multiple":f=u;default:u!==m&&Se(e,t,a,u,n,m)}t=c,i=f,n=O,T!=null?rn(e,!!i,T,!1):!!n!=!!i&&(t!=null?rn(e,!!i,t,!0):rn(e,!!i,i?[]:"",!1));return;case"textarea":O=T=null;for(c in i)if(a=i[c],i.hasOwnProperty(c)&&a!=null&&!n.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Se(e,t,c,null,n,a)}for(f in n)if(a=n[f],u=i[f],n.hasOwnProperty(f)&&(a!=null||u!=null))switch(f){case"value":T=a;break;case"defaultValue":O=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(s(91));break;default:a!==u&&Se(e,t,f,a,n,u)}wf(e,T,O);return;case"option":for(var I in i)if(T=i[I],i.hasOwnProperty(I)&&T!=null&&!n.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Se(e,t,I,null,n,T)}for(m in n)if(T=n[m],O=i[m],n.hasOwnProperty(m)&&T!==O&&(T!=null||O!=null))switch(m){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Se(e,t,m,T,n,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in i)T=i[j],i.hasOwnProperty(j)&&T!=null&&!n.hasOwnProperty(j)&&Se(e,t,j,null,n,T);for(S in n)if(T=n[S],O=i[S],n.hasOwnProperty(S)&&T!==O&&(T!=null||O!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(137,t));break;default:Se(e,t,S,T,n,O)}return;default:if(Iu(t)){for(var be in i)T=i[be],i.hasOwnProperty(be)&&T!==void 0&&!n.hasOwnProperty(be)&&Os(e,t,be,void 0,n,T);for(A in n)T=n[A],O=i[A],!n.hasOwnProperty(A)||T===O||T===void 0&&O===void 0||Os(e,t,A,T,n,O);return}}for(var y in i)T=i[y],i.hasOwnProperty(y)&&T!=null&&!n.hasOwnProperty(y)&&Se(e,t,y,null,n,T);for(R in n)T=n[R],O=i[R],!n.hasOwnProperty(R)||T===O||T==null&&O==null||Se(e,t,R,T,n,O)}function Gc(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),n=0;n<i.length;n++){var a=i[n],u=a.transferSize,f=a.initiatorType,c=a.duration;if(u&&c&&Gc(f)){for(f=0,c=a.responseEnd,n+=1;n<i.length;n++){var m=i[n],S=m.startTime;if(S>c)break;var A=m.transferSize,R=m.initiatorType;A&&Gc(R)&&(m=m.responseEnd,f+=A*(m<c?1:(c-S)/(m-S)))}if(--n,t+=8*(u+f)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cs=null,As=null;function Wl(e){return e.nodeType===9?e:e.ownerDocument}function Ic(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qc(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ds(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _s=null;function ug(){var e=window.event;return e&&e.type==="popstate"?e===_s?!1:(_s=e,!0):(_s=null,!1)}var Bc=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(fg)}:Bc;function fg(e){setTimeout(function(){throw e})}function Ci(e){return e==="head"}function Vc(e,t){var i=t,n=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"||i==="/&"){if(n===0){e.removeChild(a),In(t);return}n--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")n++;else if(i==="html")_a(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,_a(i);for(var u=i.firstChild;u;){var f=u.nextSibling,c=u.nodeName;u[Xn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=f}}else i==="body"&&_a(e.ownerDocument.body);i=a}while(i);In(t)}function kc(e,t){var i=e;e=0;do{var n=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=n}while(i)}function Ns(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ns(i),Uu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function og(e,t,i,n){for(;e.nodeType===1;){var a=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Dt(e.nextSibling),e===null)break}return null}function $g(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dt(e.nextSibling),e===null))return null;return e}function jc(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dt(e.nextSibling),e===null))return null;return e}function Rs(e){return e.data==="$?"||e.data==="$~"}function Fs(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cg(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var n=function(){t(),i.removeEventListener("DOMContentLoaded",n)};i.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Dt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ws=null;function Wc(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Dt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Xc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Yc(e,t,i){switch(t=Wl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _a(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Uu(e)}var _t=new Map,Zc=new Set;function Xl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var li=L.d;L.d={f:dg,r:mg,D:pg,C:gg,L:hg,m:yg,X:Sg,S:vg,M:bg};function dg(){var e=li.f(),t=Gl();return e||t}function mg(e){var t=an(e);t!==null&&t.tag===5&&t.type==="form"?c$(t):li.r(e)}var Ln=typeof document>"u"?null:document;function Qc(e,t,i){var n=Ln;if(n&&typeof t=="string"&&t){var a=bt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof i=="string"&&(a+='[crossorigin="'+i+'"]'),Zc.has(a)||(Zc.add(a),e={rel:e,crossOrigin:i,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),je(t,"link",e),Ge(t),n.head.appendChild(t)))}}function pg(e){li.D(e),Qc("dns-prefetch",e,null)}function gg(e,t){li.C(e,t),Qc("preconnect",e,t)}function hg(e,t,i){li.L(e,t,i);var n=Ln;if(n&&e&&t){var a='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(a+='[imagesrcset="'+bt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(a+='[imagesizes="'+bt(i.imageSizes)+'"]')):a+='[href="'+bt(e)+'"]';var u=a;switch(t){case"style":u=zn(e);break;case"script":u=Gn(e)}_t.has(u)||(e=C({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),_t.set(u,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(Na(u))||t==="script"&&n.querySelector(Ra(u))||(t=n.createElement("link"),je(t,"link",e),Ge(t),n.head.appendChild(t)))}}function yg(e,t){li.m(e,t);var i=Ln;if(i&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+bt(n)+'"][href="'+bt(e)+'"]',u=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Gn(e)}if(!_t.has(u)&&(e=C({rel:"modulepreload",href:e},t),_t.set(u,e),i.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ra(u)))return}n=i.createElement("link"),je(n,"link",e),Ge(n),i.head.appendChild(n)}}}function vg(e,t,i){li.S(e,t,i);var n=Ln;if(n&&e){var a=ln(n).hoistableStyles,u=zn(e);t=t||"default";var f=a.get(u);if(!f){var c={loading:0,preload:null};if(f=n.querySelector(Na(u)))c.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":t},i),(i=_t.get(u))&&Ms(e,i);var m=f=n.createElement("link");Ge(m),je(m,"link",e),m._p=new Promise(function(S,A){m.onload=S,m.onerror=A}),m.addEventListener("load",function(){c.loading|=1}),m.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Yl(f,t,n)}f={type:"stylesheet",instance:f,count:1,state:c},a.set(u,f)}}}function Sg(e,t){li.X(e,t);var i=Ln;if(i&&e){var n=ln(i).hoistableScripts,a=Gn(e),u=n.get(a);u||(u=i.querySelector(Ra(a)),u||(e=C({src:e,async:!0},t),(t=_t.get(a))&&Us(e,t),u=i.createElement("script"),Ge(u),je(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(a,u))}}function bg(e,t){li.M(e,t);var i=Ln;if(i&&e){var n=ln(i).hoistableScripts,a=Gn(e),u=n.get(a);u||(u=i.querySelector(Ra(a)),u||(e=C({src:e,async:!0,type:"module"},t),(t=_t.get(a))&&Us(e,t),u=i.createElement("script"),Ge(u),je(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(a,u))}}function Pc(e,t,i,n){var a=(a=ie.current)?Xl(a):null;if(!a)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=zn(i.href),i=ln(a).hoistableStyles,n=i.get(t),n||(n={type:"style",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=zn(i.href);var u=ln(a).hoistableStyles,f=u.get(e);if(f||(a=a.ownerDocument||a,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=a.querySelector(Na(e)))&&!u._p&&(f.instance=u,f.state.loading=5),_t.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},_t.set(e,i),u||Tg(a,e,i,f.state))),t&&n===null)throw Error(s(528,""));return f}if(t&&n!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gn(i),i=ln(a).hoistableScripts,n=i.get(t),n||(n={type:"script",instance:null,count:0,state:null},i.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function zn(e){return'href="'+bt(e)+'"'}function Na(e){return'link[rel="stylesheet"]['+e+"]"}function Kc(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function Tg(e,t,i,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),je(t,"link",i),Ge(t),e.head.appendChild(t))}function Gn(e){return'[src="'+bt(e)+'"]'}function Ra(e){return"script[async]"+e}function Jc(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+bt(i.href)+'"]');if(n)return t.instance=n,Ge(n),n;var a=C({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ge(n),je(n,"style",a),Yl(n,i.precedence,e),t.instance=n;case"stylesheet":a=zn(i.href);var u=e.querySelector(Na(a));if(u)return t.state.loading|=4,t.instance=u,Ge(u),u;n=Kc(i),(a=_t.get(a))&&Ms(n,a),u=(e.ownerDocument||e).createElement("link"),Ge(u);var f=u;return f._p=new Promise(function(c,m){f.onload=c,f.onerror=m}),je(u,"link",n),t.state.loading|=4,Yl(u,i.precedence,e),t.instance=u;case"script":return u=Gn(i.src),(a=e.querySelector(Ra(u)))?(t.instance=a,Ge(a),a):(n=i,(a=_t.get(u))&&(n=C({},i),Us(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),Ge(a),je(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Yl(n,i.precedence,e));return t.instance}function Yl(e,t,i){for(var n=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,u=a,f=0;f<n.length;f++){var c=n[f];if(c.dataset.precedence===t)u=c;else if(u!==a)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Ms(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Us(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zl=null;function ed(e,t,i){if(Zl===null){var n=new Map,a=Zl=new Map;a.set(i,n)}else a=Zl,n=a.get(i),n||(n=new Map,a.set(i,n));if(n.has(e))return n;for(n.set(e,null),i=i.getElementsByTagName(e),a=0;a<i.length;a++){var u=i[a];if(!(u[Xn]||u[Be]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var c=n.get(f);c?c.push(u):n.set(f,[u])}}return n}function td(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Eg(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function id(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function xg(e,t,i,n){if(i.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var a=zn(n.href),u=t.querySelector(Na(a));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ql.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,Ge(u);return}u=t.ownerDocument||t,n=Kc(n),(a=_t.get(a))&&Ms(n,a),u=u.createElement("link"),Ge(u);var f=u;f._p=new Promise(function(c,m){f.onload=c,f.onerror=m}),je(u,"link",n),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ql.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ls=0;function Og(e,t){return e.stylesheets&&e.count===0&&Kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var n=setTimeout(function(){if(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ls===0&&(Ls=62500*lg());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ls?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pl=null;function Kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pl=new Map,t.forEach(Cg,e),Pl=null,Ql.call(e))}function Cg(e,t){if(!(t.state.loading&4)){var i=Pl.get(e);if(i)var n=i.get(null);else{i=new Map,Pl.set(e,i);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<a.length;u++){var f=a[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(i.set(f.dataset.precedence,f),n=f)}n&&i.set(null,n)}a=t.instance,f=a.getAttribute("data-precedence"),u=i.get(f)||n,u===n&&i.set(null,a),i.set(f,a),this.count++,n=Ql.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),u?u.parentNode.insertBefore(a,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Fa={$$typeof:se,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Ag(e,t,i,n,a,u,f,c,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ru(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.hiddenUpdates=Ru(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function nd(e,t,i,n,a,u,f,c,m,S,A,R){return e=new Ag(e,t,i,f,m,S,A,R,c),t=1,u===!0&&(t|=24),u=dt(3,null,null,t),e.current=u,u.stateNode=e,t=pr(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:i,cache:t},vr(u),e}function ad(e){return e?(e=pn,e):pn}function ld(e,t,i,n,a,u){a=ad(a),n.context===null?n.context=a:n.pendingContext=a,n=pi(t),n.payload={element:i},u=u===void 0?null:u,u!==null&&(n.callback=u),i=gi(e,n,t),i!==null&&(rt(i,e,t),oa(i,e,t))}function ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zs(e,t){ud(e,t),(e=e.alternate)&&ud(e,t)}function rd(e){if(e.tag===13||e.tag===31){var t=qi(e,67108864);t!==null&&rt(t,e,67108864),zs(e,67108864)}}function sd(e){if(e.tag===13||e.tag===31){var t=yt();t=Fu(t);var i=qi(e,t);i!==null&&rt(i,e,t),zs(e,t)}}var Jl=!0;function Dg(e,t,i,n){var a=_.T;_.T=null;var u=L.p;try{L.p=2,Gs(e,t,i,n)}finally{L.p=u,_.T=a}}function _g(e,t,i,n){var a=_.T;_.T=null;var u=L.p;try{L.p=8,Gs(e,t,i,n)}finally{L.p=u,_.T=a}}function Gs(e,t,i,n){if(Jl){var a=Is(n);if(a===null)xs(e,t,n,eu,i),od(e,n);else if(Rg(a,e,t,i,n))n.stopPropagation();else if(od(e,n),t&4&&-1<Ng.indexOf(e)){for(;a!==null;){var u=an(a);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=Ui(u.pendingLanes);if(f!==0){var c=u;for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var m=1<<31-$t(f);c.entanglements[1]|=m,f&=~m}qt(u),(ce&6)===0&&(Ll=ft()+500,Ca(0))}}break;case 31:case 13:c=qi(u,2),c!==null&&rt(c,u,2),Gl(),zs(u,2)}if(u=Is(n),u===null&&xs(e,t,n,eu,i),u===a)break;a=u}a!==null&&n.stopPropagation()}else xs(e,t,n,null,i)}}function Is(e){return e=Bu(e),qs(e)}var eu=null;function qs(e){if(eu=null,e=nn(e),e!==null){var t=d(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=g(t),e!==null)return e;e=null}else if(i===31){if(e=x(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eu=e,null}function fd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pm()){case gf:return 2;case hf:return 8;case Va:case gm:return 32;case yf:return 268435456;default:return 32}default:return 32}}var Bs=!1,Ai=null,Di=null,_i=null,wa=new Map,Ma=new Map,Ni=[],Ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function od(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(t.pointerId)}}function Ua(e,t,i,n,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:u,targetContainers:[a]},t!==null&&(t=an(t),t!==null&&rd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Rg(e,t,i,n,a){switch(t){case"focusin":return Ai=Ua(Ai,e,t,i,n,a),!0;case"dragenter":return Di=Ua(Di,e,t,i,n,a),!0;case"mouseover":return _i=Ua(_i,e,t,i,n,a),!0;case"pointerover":var u=a.pointerId;return wa.set(u,Ua(wa.get(u)||null,e,t,i,n,a)),!0;case"gotpointercapture":return u=a.pointerId,Ma.set(u,Ua(Ma.get(u)||null,e,t,i,n,a)),!0}return!1}function $d(e){var t=nn(e.target);if(t!==null){var i=d(t);if(i!==null){if(t=i.tag,t===13){if(t=g(i),t!==null){e.blockedOn=t,xf(e.priority,function(){sd(i)});return}}else if(t===31){if(t=x(i),t!==null){e.blockedOn=t,xf(e.priority,function(){sd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Is(e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);qu=n,i.target.dispatchEvent(n),qu=null}else return t=an(i),t!==null&&rd(t),e.blockedOn=i,!1;t.shift()}return!0}function cd(e,t,i){tu(e)&&i.delete(t)}function Fg(){Bs=!1,Ai!==null&&tu(Ai)&&(Ai=null),Di!==null&&tu(Di)&&(Di=null),_i!==null&&tu(_i)&&(_i=null),wa.forEach(cd),Ma.forEach(cd)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,Bs||(Bs=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Fg)))}var nu=null;function dd(e){nu!==e&&(nu=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){nu===e&&(nu=null);for(var t=0;t<e.length;t+=3){var i=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(qs(n||i)===null)continue;break}var u=an(i);u!==null&&(e.splice(t,3),t-=3,Ir(u,{pending:!0,data:a,method:i.method,action:n},n,a))}}))}function In(e){function t(m){return iu(m,e)}Ai!==null&&iu(Ai,e),Di!==null&&iu(Di,e),_i!==null&&iu(_i,e),wa.forEach(t),Ma.forEach(t);for(var i=0;i<Ni.length;i++){var n=Ni[i];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ni.length&&(i=Ni[0],i.blockedOn===null);)$d(i),i.blockedOn===null&&Ni.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(n=0;n<i.length;n+=3){var a=i[n],u=i[n+1],f=a[tt]||null;if(typeof u=="function")f||dd(i);else if(f){var c=null;if(u&&u.hasAttribute("formAction")){if(a=u,f=u[tt]||null)c=f.formAction;else if(qs(a)!==null)continue}else c=f.action;typeof c=="function"?i[n+1]=c:(i.splice(n,3),n-=3),dd(i)}}}function md(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return a=f})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(i,20)}function i(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Hs(e){this._internalRoot=e}au.prototype.render=Hs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,n=yt();ld(i,n,e,t,null,null)},au.prototype.unmount=Hs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ld(e.current,2,null,e,null,null),Gl(),t[tn]=null}};function au(e){this._internalRoot=e}au.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ef();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ni.length&&t!==0&&t<Ni[i].priority;i++);Ni.splice(i,0,e),i===0&&$d(e)}};var pd=l.version;if(pd!=="19.2.0")throw Error(s(527,pd,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=b(t),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var wg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{kn=lu.inject(wg),ot=lu}catch{}}return za.createRoot=function(e,t){if(!$(e))throw Error(s(299));var i=!1,n="",a=T$,u=E$,f=x$;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=nd(e,1,!1,null,null,i,n,null,a,u,f,md),e[tn]=t.current,Es(e),new Hs(t)},za.hydrateRoot=function(e,t,i){if(!$(e))throw Error(s(299));var n=!1,a="",u=T$,f=E$,c=x$,m=null;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(c=i.onRecoverableError),i.formState!==void 0&&(m=i.formState)),t=nd(e,1,!0,t,i??null,n,a,m,u,f,c,md),t.context=ad(null),i=t.current,n=yt(),n=Fu(n),a=pi(n),a.callback=null,gi(i,a,n),i=n,t.current.lanes=i,Wn(t,i),qt(t),e[tn]=t.current,Es(e),new au(t)},za.version="19.2.0",za}var Od;function Vg(){if(Od)return js.exports;Od=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),js.exports=Hg(),js.exports}var kg=Vg();const Xd=50*1024*1024,Yd=["image/jpeg","image/jpg","image/png","image/heic","image/heif","image/tiff","image/webp"],Mt={FILE_TYPE_ERROR:"Please select a valid image file (JPEG, PNG, HEIC, TIFF, etc.)",FILE_SIZE_ERROR:"File size exceeds the maximum limit of 50MB",NO_EXIF_ERROR:"No EXIF data found in this image",READ_ERROR:"Failed to read the file",PARSE_ERROR:"Failed to parse EXIF data"},jg=({onFileSelect:o,onError:l})=>{const[r,s]=Fi.useState(!1),$=Fi.useRef(null),d=w=>Yd.includes(w.type)?w.size>Xd?(l?.(Mt.FILE_SIZE_ERROR),!1):!0:(l?.(Mt.FILE_TYPE_ERROR),!1),g=w=>{d(w)&&o(w)},x=w=>{const U=w.target.files?.[0];U&&g(U)},E=w=>{w.preventDefault(),s(!0)},b=w=>{w.preventDefault(),s(!1)},D=w=>{w.preventDefault(),s(!1);const U=w.dataTransfer.files[0];U&&g(U)},C=()=>{$.current?.click()};return _e.jsxs("div",{className:"file-uploader",children:[_e.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:x,style:{display:"none"}}),_e.jsxs("div",{className:`drop-zone ${r?"dragging":""}`,onDragOver:E,onDragLeave:b,onDrop:D,onClick:C,children:[_e.jsx("p",{className:"drop-zone-text",children:"Drag and drop an image here, or click to select"}),_e.jsx("p",{className:"drop-zone-subtext",children:"Supported formats: JPEG, PNG, HEIC, TIFF, etc."})]})]})},Wg=({exifData:o,fileName:l})=>{const[r,s]=Fi.useState(!1),$=async()=>{try{const d=JSON.stringify(o,null,2);await navigator.clipboard.writeText(d),s(!0),setTimeout(()=>s(!1),2e3)}catch(d){console.error("Failed to copy to clipboard:",d)}};return!o||Object.keys(o).length===0?_e.jsx("p",{className:"no-data",children:"No EXIF data available"}):_e.jsxs("div",{className:"exif-display",children:[_e.jsxs("div",{className:"section-header",children:[_e.jsxs("h2",{children:[l," - EXIF Data (ExifTool)"]}),_e.jsx("button",{className:"copy-button",onClick:$,children:r?"Copied!":"Copy to Clipboard"})]}),_e.jsx("pre",{className:"json-display",children:JSON.stringify(o,null,2)})]})};var bu=typeof self<"u"?self:global;const Xg=typeof navigator<"u",Zd=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),ff=bu.Buffer,uu=bu.BigInt,of=!!ff,Yg=o=>o;function yu(o,l=Yg){if(Zd)try{return typeof require=="function"?Promise.resolve(l(require(o))):import(o).then(l)}catch{console.warn(`Couldn't load ${o}`)}}let $f=bu.fetch;const Zg=o=>$f=o;if(!bu.fetch){const o=yu("http",(s=>s)),l=yu("https",(s=>s)),r=(s,{headers:$}={})=>new Promise((async(d,g)=>{let{port:x,hostname:E,pathname:b,protocol:D,search:C}=new URL(s);const w={method:"GET",hostname:E,path:encodeURI(b)+C,headers:$};x!==""&&(w.port=Number(x));const U=(D==="https:"?await l:await o).request(w,(B=>{if(B.statusCode===301||B.statusCode===302){let X=new URL(B.headers.location,s).toString();return r(X,{headers:$}).then(d).catch(g)}d({status:B.statusCode,arrayBuffer:()=>new Promise((X=>{let G=[];B.on("data",(fe=>G.push(fe))),B.on("end",(()=>X(Buffer.concat(G))))}))})}));U.on("error",g),U.end()}));Zg(r)}function Z(o,l,r){return l in o?Object.defineProperty(o,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[l]=r,o}const tf=o=>Qd(o)?void 0:o,Qg=o=>o!==void 0;function Qd(o){return o===void 0||(o instanceof Map?o.size===0:Object.values(o).filter(Qg).length===0)}function Ye(o){let l=new Error(o);throw delete l.stack,l}function Ji(o){return(o=(function(l){for(;l.endsWith("\0");)l=l.slice(0,-1);return l})(o).trim())===""?void 0:o}function nf(o){let l=(function(r){let s=0;return r.ifd0.enabled&&(s+=1024),r.exif.enabled&&(s+=2048),r.makerNote&&(s+=2048),r.userComment&&(s+=1024),r.gps.enabled&&(s+=512),r.interop.enabled&&(s+=100),r.ifd1.enabled&&(s+=1024),s+2048})(o);return o.jfif.enabled&&(l+=50),o.xmp.enabled&&(l+=2e4),o.iptc.enabled&&(l+=14e3),o.icc.enabled&&(l+=6e3),l}const af=o=>String.fromCharCode.apply(null,o),Cd=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function Pd(o){return Cd?Cd.decode(o):of?Buffer.from(o).toString("utf8"):decodeURIComponent(escape(af(o)))}let Hn=class qn{static from(l,r){return l instanceof this&&l.le===r?l:new qn(l,void 0,void 0,r)}constructor(l,r=0,s,$){if(typeof $=="boolean"&&(this.le=$),Array.isArray(l)&&(l=new Uint8Array(l)),l===0)this.byteOffset=0,this.byteLength=0;else if(l instanceof ArrayBuffer){s===void 0&&(s=l.byteLength-r);let d=new DataView(l,r,s);this._swapDataView(d)}else if(l instanceof Uint8Array||l instanceof DataView||l instanceof qn){s===void 0&&(s=l.byteLength-r),(r+=l.byteOffset)+s>l.byteOffset+l.byteLength&&Ye("Creating view outside of available memory in ArrayBuffer");let d=new DataView(l.buffer,r,s);this._swapDataView(d)}else if(typeof l=="number"){let d=new DataView(new ArrayBuffer(l));this._swapDataView(d)}else Ye("Invalid input argument for BufferView: "+l)}_swapArrayBuffer(l){this._swapDataView(new DataView(l))}_swapBuffer(l){this._swapDataView(new DataView(l.buffer,l.byteOffset,l.byteLength))}_swapDataView(l){this.dataView=l,this.buffer=l.buffer,this.byteOffset=l.byteOffset,this.byteLength=l.byteLength}_lengthToEnd(l){return this.byteLength-l}set(l,r,s=qn){return l instanceof DataView||l instanceof qn?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):l instanceof ArrayBuffer&&(l=new Uint8Array(l)),l instanceof Uint8Array||Ye("BufferView.set(): Invalid data argument."),this.toUint8().set(l,r),new s(this,r,l.byteLength)}subarray(l,r){return r=r||this._lengthToEnd(l),new qn(this,l,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(l,r){return new Uint8Array(this.buffer,this.byteOffset+l,r)}getString(l=0,r=this.byteLength){return Pd(this.getUint8Array(l,r))}getLatin1String(l=0,r=this.byteLength){let s=this.getUint8Array(l,r);return af(s)}getUnicodeString(l=0,r=this.byteLength){const s=[];for(let $=0;$<r&&l+$<this.byteLength;$+=2)s.push(this.getUint16(l+$));return af(s)}getInt8(l){return this.dataView.getInt8(l)}getUint8(l){return this.dataView.getUint8(l)}getInt16(l,r=this.le){return this.dataView.getInt16(l,r)}getInt32(l,r=this.le){return this.dataView.getInt32(l,r)}getUint16(l,r=this.le){return this.dataView.getUint16(l,r)}getUint32(l,r=this.le){return this.dataView.getUint32(l,r)}getFloat32(l,r=this.le){return this.dataView.getFloat32(l,r)}getFloat64(l,r=this.le){return this.dataView.getFloat64(l,r)}getFloat(l,r=this.le){return this.dataView.getFloat32(l,r)}getDouble(l,r=this.le){return this.dataView.getFloat64(l,r)}getUintBytes(l,r,s){switch(r){case 1:return this.getUint8(l,s);case 2:return this.getUint16(l,s);case 4:return this.getUint32(l,s);case 8:return this.getUint64&&this.getUint64(l,s)}}getUint(l,r,s){switch(r){case 8:return this.getUint8(l,s);case 16:return this.getUint16(l,s);case 32:return this.getUint32(l,s);case 64:return this.getUint64&&this.getUint64(l,s)}}toString(l){return this.dataView.toString(l,this.constructor.name)}ensureChunk(){}};function lf(o,l){Ye(`${o} '${l}' was not loaded, try using full build of exifr.`)}let cf=class extends Map{constructor(l){super(),this.kind=l}get(l,r){return this.has(l)||lf(this.kind,l),r&&(l in r||(function(s,$){Ye(`Unknown ${s} '${$}'.`)})(this.kind,l),r[l].enabled||lf(this.kind,l)),super.get(l)}keyList(){return Array.from(this.keys())}};var Ba=new cf("file parser"),Ke=new cf("segment parser"),Tu=new cf("file reader");const Pg=o=>$f(o).then((l=>l.arrayBuffer())),Ad=o=>new Promise(((l,r)=>{let s=new FileReader;s.onloadend=()=>l(s.result||new ArrayBuffer),s.onerror=r,s.readAsArrayBuffer(o)}));class Kg extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function We(o,l,r){let s=new Kg;for(let[$,d]of r)s.set($,d);if(Array.isArray(l))for(let $ of l)o.set($,s);else o.set(l,s);return s}function uf(o,l,r){let s,$=o.get(l);for(s of r)$.set(s[0],s[1])}const st=new Map,en=new Map,mu=new Map,ru=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Kd=["jfif","xmp","icc","iptc","ihdr"],rf=["tiff",...Kd],qe=["ifd0","ifd1","exif","gps","interop"],su=[...rf,...qe],fu=["makerNote","userComment"],Jd=["translateKeys","translateValues","reviveValues","multiSegment"],ou=[...Jd,"sanitize","mergeOutput","silentErrors"];let em=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};class Ga extends em{get needed(){return this.enabled||this.deps.size>0}constructor(l,r,s,$){if(super(),Z(this,"enabled",!1),Z(this,"skip",new Set),Z(this,"pick",new Set),Z(this,"deps",new Set),Z(this,"translateKeys",!1),Z(this,"translateValues",!1),Z(this,"reviveValues",!1),this.key=l,this.enabled=r,this.parse=this.enabled,this.applyInheritables($),this.canBeFiltered=qe.includes(l),this.canBeFiltered&&(this.dict=st.get(l)),s!==void 0)if(Array.isArray(s))this.parse=this.enabled=!0,this.canBeFiltered&&s.length>0&&this.translateTagSet(s,this.pick);else if(typeof s=="object"){if(this.enabled=!0,this.parse=s.parse!==!1,this.canBeFiltered){let{pick:d,skip:g}=s;d&&d.length>0&&this.translateTagSet(d,this.pick),g&&g.length>0&&this.translateTagSet(g,this.skip)}this.applyInheritables(s)}else s===!0||s===!1?this.parse=this.enabled=s:Ye(`Invalid options argument: ${s}`)}applyInheritables(l){let r,s;for(r of Jd)s=l[r],s!==void 0&&(this[r]=s)}translateTagSet(l,r){if(this.dict){let s,$,{tagKeys:d,tagValues:g}=this.dict;for(s of l)typeof s=="string"?($=g.indexOf(s),$===-1&&($=d.indexOf(Number(s))),$!==-1&&r.add(Number(d[$]))):r.add(s)}else for(let s of l)r.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,vu(this.pick,this.deps)):this.enabled&&this.pick.size>0&&vu(this.pick,this.deps)}}var Pe={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Dd=new Map;let tm=class extends em{static useCached(l){let r=Dd.get(l);return r!==void 0||(r=new this(l),Dd.set(l,r)),r}constructor(l){super(),l===!0?this.setupFromTrue():l===void 0?this.setupFromUndefined():Array.isArray(l)?this.setupFromArray(l):typeof l=="object"?this.setupFromObject(l):Ye(`Invalid options argument ${l}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Xg?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let l;for(l of ru)this[l]=Pe[l];for(l of ou)this[l]=Pe[l];for(l of fu)this[l]=Pe[l];for(l of su)this[l]=new Ga(l,Pe[l],void 0,this)}setupFromTrue(){let l;for(l of ru)this[l]=Pe[l];for(l of ou)this[l]=Pe[l];for(l of fu)this[l]=!0;for(l of su)this[l]=new Ga(l,!0,void 0,this)}setupFromArray(l){let r;for(r of ru)this[r]=Pe[r];for(r of ou)this[r]=Pe[r];for(r of fu)this[r]=Pe[r];for(r of su)this[r]=new Ga(r,!1,void 0,this);this.setupGlobalFilters(l,void 0,qe)}setupFromObject(l){let r;for(r of(qe.ifd0=qe.ifd0||qe.image,qe.ifd1=qe.ifd1||qe.thumbnail,Object.assign(this,l),ru))this[r]=Zs(l[r],Pe[r]);for(r of ou)this[r]=Zs(l[r],Pe[r]);for(r of fu)this[r]=Zs(l[r],Pe[r]);for(r of rf)this[r]=new Ga(r,Pe[r],l[r],this);for(r of qe)this[r]=new Ga(r,Pe[r],l[r],this.tiff);this.setupGlobalFilters(l.pick,l.skip,qe,su),l.tiff===!0?this.batchEnableWithBool(qe,!0):l.tiff===!1?this.batchEnableWithUserValue(qe,l):Array.isArray(l.tiff)?this.setupGlobalFilters(l.tiff,void 0,qe):typeof l.tiff=="object"&&this.setupGlobalFilters(l.tiff.pick,l.tiff.skip,qe)}batchEnableWithBool(l,r){for(let s of l)this[s].enabled=r}batchEnableWithUserValue(l,r){for(let s of l){let $=r[s];this[s].enabled=$!==!1&&$!==void 0}}setupGlobalFilters(l,r,s,$=s){if(l&&l.length){for(let g of $)this[g].enabled=!1;let d=_d(l,s);for(let[g,x]of d)vu(this[g].pick,x),this[g].enabled=!0}else if(r&&r.length){let d=_d(r,s);for(let[g,x]of d)vu(this[g].skip,x)}}filterNestedSegmentTags(){let{ifd0:l,exif:r,xmp:s,iptc:$,icc:d}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),s.enabled||l.skip.add(700),$.enabled||l.skip.add(33723),d.enabled||l.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:l,exif:r,gps:s,interop:$}=this;$.needed&&(r.deps.add(40965),l.deps.add(40965)),r.needed&&l.deps.add(34665),s.needed&&l.deps.add(34853),this.tiff.enabled=qe.some((d=>this[d].enabled===!0))||this.makerNote||this.userComment;for(let d of qe)this[d].finalizeFilters()}get onlyTiff(){return!Kd.map((l=>this[l].enabled)).some((l=>l===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let l of rf)this[l].enabled&&!Ke.has(l)&&lf("segment parser",l)}};function _d(o,l){let r,s,$,d,g=[];for($ of l){for(d of(r=st.get($),s=[],r))(o.includes(d[0])||o.includes(d[1]))&&s.push(d[0]);s.length&&g.push([$,s])}return g}function Zs(o,l){return o!==void 0?o:l!==void 0?l:void 0}function vu(o,l){for(let r of l)o.add(r)}Z(tm,"default",Pe);class Eu{constructor(l,r,s){Z(this,"errors",[]),Z(this,"ensureSegmentChunk",(async $=>{let d=$.start,g=$.size||65536;if(this.file.chunked)if(this.file.available(d,g))$.chunk=this.file.subarray(d,g);else try{$.chunk=await this.file.readChunk(d,g)}catch(x){Ye(`Couldn't read segment: ${JSON.stringify($)}. ${x.message}`)}else this.file.byteLength>d+g?$.chunk=this.file.subarray(d,g):$.size===void 0?$.chunk=this.file.subarray(d):Ye("Segment unreachable: "+JSON.stringify($));return $.chunk})),this.extendOptions&&this.extendOptions(l),this.options=l,this.file=r,this.parsers=s}injectSegment(l,r){this.options[l].enabled&&this.createParser(l,r)}createParser(l,r){let s=new(Ke.get(l))(r,this.options,this.file);return this.parsers[l]=s}createParsers(l){for(let r of l){let{type:s,chunk:$}=r,d=this.options[s];if(d&&d.enabled){let g=this.parsers[s];g&&g.append||g||this.createParser(s,$)}}}async readSegments(l){let r=l.map(this.ensureSegmentChunk);await Promise.all(r)}}class Ut{static findPosition(l,r){let s=l.getUint16(r+2)+2,$=typeof this.headerLength=="function"?this.headerLength(l,r,s):this.headerLength,d=r+$,g=s-$;return{offset:r,length:s,headerLength:$,start:d,size:g,end:d+g}}static parse(l,r={}){return new this(l,new tm({[this.type]:r}),l).parse()}normalizeInput(l){return l instanceof Hn?l:new Hn(l)}constructor(l,r={},s){Z(this,"errors",[]),Z(this,"raw",new Map),Z(this,"handleError",($=>{if(!this.options.silentErrors)throw $;this.errors.push($.message)})),this.chunk=this.normalizeInput(l),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(l,r){let s=mu.get(r),$=en.get(r),d=st.get(r),g=this.options[r],x=g.reviveValues&&!!s,E=g.translateValues&&!!$,b=g.translateKeys&&!!d,D={};for(let[C,w]of l)x&&s.has(C)?w=s.get(C)(w):E&&$.has(C)&&(w=this.translateValue(w,$.get(C))),b&&d.has(C)&&(C=d.get(C)||C),D[C]=w;return D}translateValue(l,r){return r[l]||r.DEFAULT||l}assignToOutput(l,r){this.assignObjectToOutput(l,this.constructor.type,r)}assignObjectToOutput(l,r,s){if(this.globalOptions.mergeOutput)return Object.assign(l,s);l[r]?Object.assign(l[r],s):l[r]=s}}Z(Ut,"headerLength",4),Z(Ut,"type",void 0),Z(Ut,"multiSegment",!1),Z(Ut,"canHandle",(()=>!1));function Jg(o){return o===192||o===194||o===196||o===219||o===221||o===218||o===254}function eh(o){return o>=224&&o<=239}function th(o,l,r){for(let[s,$]of Ke)if($.canHandle(o,l,r))return s}class Nd extends Eu{constructor(...l){super(...l),Z(this,"appSegments",[]),Z(this,"jpegSegments",[]),Z(this,"unknownSegments",[])}static canHandle(l,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(l){l===!0?(this.findAll=!0,this.wanted=new Set(Ke.keyList())):(l=l===void 0?Ke.keyList().filter((r=>this.options[r].enabled)):l.filter((r=>this.options[r].enabled&&Ke.has(r))),this.findAll=!1,this.remaining=new Set(l),this.wanted=new Set(l)),this.unfinishedMultiSegment=!1}async findAppSegments(l=0,r){this.setupSegmentFinderArgs(r);let{file:s,findAll:$,wanted:d,remaining:g}=this;if(!$&&this.file.chunked&&($=Array.from(d).some((x=>{let E=Ke.get(x),b=this.options[x];return E.multiSegment&&b.multiSegment})),$&&await this.file.readWhole()),l=this.findAppSegmentsInRange(l,s.byteLength),!this.options.onlyTiff&&s.chunked){let x=!1;for(;g.size>0&&!x&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:E}=s,b=this.appSegments.some((D=>!this.file.available(D.offset||D.start,D.length||D.size)));if(x=l>E&&!b?!await s.readNextChunk(l):!await s.readNextChunk(E),(l=this.findAppSegmentsInRange(l,s.byteLength))===void 0)return}}}findAppSegmentsInRange(l,r){r-=2;let s,$,d,g,x,E,{file:b,findAll:D,wanted:C,remaining:w,options:U}=this;for(;l<r;l++)if(b.getUint8(l)===255){if(s=b.getUint8(l+1),eh(s)){if($=b.getUint16(l+2),d=th(b,l,$),d&&C.has(d)&&(g=Ke.get(d),x=g.findPosition(b,l),E=U[d],x.type=d,this.appSegments.push(x),!D&&(g.multiSegment&&E.multiSegment?(this.unfinishedMultiSegment=x.chunkNumber<x.chunkCount,this.unfinishedMultiSegment||w.delete(d)):w.delete(d),w.size===0)))break;U.recordUnknownSegments&&(x=Ut.findPosition(b,l),x.marker=s,this.unknownSegments.push(x)),l+=$+1}else if(Jg(s)){if($=b.getUint16(l+2),s===218&&U.stopAfterSos!==!1)return;U.recordJpegSegments&&this.jpegSegments.push({offset:l,length:$,marker:s}),l+=$+1}}return l}mergeMultiSegments(){if(!this.appSegments.some((r=>r.multiSegment)))return;let l=(function(r,s){let $,d,g,x=new Map;for(let E=0;E<r.length;E++)$=r[E],d=$[s],x.has(d)?g=x.get(d):x.set(d,g=[]),g.push($);return Array.from(x)})(this.appSegments,"type");this.mergedAppSegments=l.map((([r,s])=>{let $=Ke.get(r,this.options);return $.handleMultiSegments?{type:r,chunk:$.handleMultiSegments(s)}:s[0]}))}getSegment(l){return this.appSegments.find((r=>r.type===l))}async getOrFindSegment(l){let r=this.getSegment(l);return r===void 0&&(await this.findAppSegments(0,[l]),r=this.getSegment(l)),r}}Z(Nd,"type","jpeg"),Ba.set("jpeg",Nd);const ih=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class nh extends Ut{parseHeader(){var l=this.chunk.getUint16();l===18761?this.le=!0:l===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(l,r,s=new Map){let{pick:$,skip:d}=this.options[r];$=new Set($);let g=$.size>0,x=d.size===0,E=this.chunk.getUint16(l);l+=2;for(let b=0;b<E;b++){let D=this.chunk.getUint16(l);if(g){if($.has(D)&&(s.set(D,this.parseTag(l,D,r)),$.delete(D),$.size===0))break}else!x&&d.has(D)||s.set(D,this.parseTag(l,D,r));l+=12}return s}parseTag(l,r,s){let{chunk:$}=this,d=$.getUint16(l+2),g=$.getUint32(l+4),x=ih[d];if(x*g<=4?l+=8:l=$.getUint32(l+8),(d<1||d>13)&&Ye(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${r.toString(16)}, type: ${d}, offset ${l}`),l>$.byteLength&&Ye(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${r.toString(16)}, type: ${d}, offset ${l} is outside of chunk size ${$.byteLength}`),d===1)return $.getUint8Array(l,g);if(d===2)return Ji($.getString(l,g));if(d===7)return $.getUint8Array(l,g);if(g===1)return this.parseTagValue(d,l);{let E=new((function(D){switch(D){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(d))(g),b=x;for(let D=0;D<g;D++)E[D]=this.parseTagValue(d,l),l+=b;return E}}parseTagValue(l,r){let{chunk:s}=this;switch(l){case 1:return s.getUint8(r);case 3:return s.getUint16(r);case 4:return s.getUint32(r);case 5:return s.getUint32(r)/s.getUint32(r+4);case 6:return s.getInt8(r);case 8:return s.getInt16(r);case 9:return s.getInt32(r);case 10:return s.getInt32(r)/s.getInt32(r+4);case 11:return s.getFloat(r);case 12:return s.getDouble(r);case 13:return s.getUint32(r);default:Ye(`Invalid tiff type ${l}`)}}}class Qs extends nh{static canHandle(l,r){return l.getUint8(r+1)===225&&l.getUint32(r+4)===1165519206&&l.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:l}=this;return l.ifd0.enabled&&await this.parseIfd0Block(),l.exif.enabled&&await this.safeParse("parseExifBlock"),l.gps.enabled&&await this.safeParse("parseGpsBlock"),l.interop.enabled&&await this.safeParse("parseInteropBlock"),l.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(l){let r=this[l]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let l=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*l;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(l,r){let s=new Map;return this[r]=s,this.parseTags(l,r,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:l}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ye("Malformed EXIF data"),!l.chunked&&this.ifd0Offset>l.byteLength&&Ye(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${l.byteLength}`),l.tiff&&await l.ensureChunk(this.ifd0Offset,nf(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,nf(this.options));let l=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=l.get(40965)),this.makerNote=l.get(37500),this.userComment=l.get(37510),this.options.sanitize&&(l.delete(40965),l.delete(37500),l.delete(37510)),this.unpack(l,41728),this.unpack(l,41729),l}unpack(l,r){let s=l.get(r);s&&s.length===1&&l.set(r,s[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let l=this.parseBlock(this.gpsOffset,"gps");return l&&l.has(2)&&l.has(4)&&(l.set("latitude",Rd(...l.get(2),l.get(1))),l.set("longitude",Rd(...l.get(4),l.get(3)))),l}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(l=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||l))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let l=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(l,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let l,r,s,$={};for(r of qe)if(l=this[r],!Qd(l))if(s=this.canTranslate?this.translateBlock(l,r):Object.fromEntries(l),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign($,s)}else $[r]=s;return this.makerNote&&($.makerNote=this.makerNote),this.userComment&&($.userComment=this.userComment),$}assignToOutput(l,r){if(this.globalOptions.mergeOutput)Object.assign(l,r);else for(let[s,$]of Object.entries(r))this.assignObjectToOutput(l,s,$)}}function Rd(o,l,r,s){var $=o+l/60+r/3600;return s!=="S"&&s!=="W"||($*=-1),$}Z(Qs,"type","tiff"),Z(Qs,"headerLength",10),Ke.set("tiff",Qs);const df={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},df,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},df,{tiff:!1,ifd1:!0,mergeOutput:!1});Object.assign({},df,{firstChunkSize:4e4,ifd0:[274]});if(typeof navigator=="object"){let o=navigator.userAgent;if(o.includes("iPad")||o.includes("iPhone")){let l=o.match(/OS (\d+)_(\d+)/);if(l){let[,r,s]=l}}else if(o.includes("OS X 10")){let[,l]=o.match(/OS X 10[_.](\d+)/)}if(o.includes("Chrome/")){let[,l]=o.match(/Chrome\/(\d+)/)}else if(o.includes("Firefox/")){let[,l]=o.match(/Firefox\/(\d+)/)}}let ah=class extends Hn{constructor(...l){super(...l),Z(this,"ranges",new lh),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(l,r,s){if(l===0&&this.byteLength===0&&s){let $=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView($)}else{let $=l+r;if($>this.byteLength){let{dataView:d}=this._extend($);this._swapDataView(d)}}}_extend(l){let r;r=of?ff.allocUnsafe(l):new Uint8Array(l);let s=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:s}}subarray(l,r,s=!1){return r=r||this._lengthToEnd(l),s&&this._tryExtend(l,r),this.ranges.add(l,r),super.subarray(l,r)}set(l,r,s=!1){s&&this._tryExtend(r,l.byteLength,l);let $=super.set(l,r);return this.ranges.add(r,$.byteLength),$}async ensureChunk(l,r){this.chunked&&(this.ranges.available(l,r)||await this.readChunk(l,r))}available(l,r){return this.ranges.available(l,r)}};class lh{constructor(){Z(this,"list",[])}get length(){return this.list.length}add(l,r,s=0){let $=l+r,d=this.list.filter((g=>Fd(l,g.offset,$)||Fd(l,g.end,$)));if(d.length>0){l=Math.min(l,...d.map((x=>x.offset))),$=Math.max($,...d.map((x=>x.end))),r=$-l;let g=d.shift();g.offset=l,g.length=r,g.end=$,this.list=this.list.filter((x=>!d.includes(x)))}else this.list.push({offset:l,length:r,end:$})}available(l,r){let s=l+r;return this.list.some(($=>$.offset<=l&&s<=$.end))}}function Fd(o,l,r){return o<=l&&l<=r}class xu extends ah{constructor(l,r){super(0),Z(this,"chunksRead",0),this.input=l,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(l=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,s=await this.readChunk(l,r);return!!s&&s.byteLength===r}async readChunk(l,r){if(this.chunksRead++,(r=this.safeWrapAddress(l,r))!==0)return this._readChunk(l,r)}safeWrapAddress(l,r){return this.size!==void 0&&l+r>this.size?Math.max(0,this.size-l):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Tu.set("blob",class extends xu{async readWhole(){this.chunked=!1;let o=await Ad(this.input);this._swapArrayBuffer(o)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(o,l){let r=l?o+l:void 0,s=this.input.slice(o,r),$=await Ad(s);return this.set($,o,!0)}});Tu.set("url",class extends xu{async readWhole(){this.chunked=!1;let o=await Pg(this.input);o instanceof ArrayBuffer?this._swapArrayBuffer(o):o instanceof Uint8Array&&this._swapBuffer(o)}async _readChunk(o,l){let r=l?o+l-1:void 0,s=this.options.httpHeaders||{};(o||r)&&(s.range=`bytes=${[o,r].join("-")}`);let $=await $f(this.input,{headers:s}),d=await $.arrayBuffer(),g=d.byteLength;if($.status!==416)return g!==l&&(this.size=o+g),this.set(d,o,!0)}});Hn.prototype.getUint64=function(o){let l=this.getUint32(o),r=this.getUint32(o+4);return l<1048575?l<<32|r:typeof uu!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),uu(l)<<uu(32)|uu(r)):void Ye("Trying to read 64b value but JS can only handle 53b numbers.")};class uh extends Eu{parseBoxes(l=0){let r=[];for(;l<this.file.byteLength-4;){let s=this.parseBoxHead(l);if(r.push(s),s.length===0)break;l+=s.length}return r}parseSubBoxes(l){l.boxes=this.parseBoxes(l.start)}findBox(l,r){return l.boxes===void 0&&this.parseSubBoxes(l),l.boxes.find((s=>s.kind===r))}parseBoxHead(l){let r=this.file.getUint32(l),s=this.file.getString(l+4,4),$=l+8;return r===1&&(r=this.file.getUint64(l+8),$+=8),{offset:l,length:r,kind:s,start:$}}parseBoxFullHead(l){if(l.version!==void 0)return;let r=this.file.getUint32(l.start);l.version=r>>24,l.start+=4}}class im extends uh{static canHandle(l,r){if(r!==0)return!1;let s=l.getUint16(2);if(s>50)return!1;let $=16,d=[];for(;$<s;)d.push(l.getString($,4)),$+=4;return d.includes(this.type)}async parse(){let l=this.file.getUint32(0),r=this.parseBoxHead(l);for(;r.kind!=="meta";)l+=r.length,await this.file.ensureChunk(l,16),r=this.parseBoxHead(l);await this.file.ensureChunk(r.offset,r.length),this.parseBoxFullHead(r),this.parseSubBoxes(r),this.options.icc.enabled&&await this.findIcc(r),this.options.tiff.enabled&&await this.findExif(r)}async registerSegment(l,r,s){await this.file.ensureChunk(r,s);let $=this.file.subarray(r,s);this.createParser(l,$)}async findIcc(l){let r=this.findBox(l,"iprp");if(r===void 0)return;let s=this.findBox(r,"ipco");if(s===void 0)return;let $=this.findBox(s,"colr");$!==void 0&&await this.registerSegment("icc",$.offset+12,$.length)}async findExif(l){let r=this.findBox(l,"iinf");if(r===void 0)return;let s=this.findBox(l,"iloc");if(s===void 0)return;let $=this.findExifLocIdInIinf(r),d=this.findExtentInIloc(s,$);if(d===void 0)return;let[g,x]=d;await this.file.ensureChunk(g,x);let E=4+this.file.getUint32(g);g+=E,x-=E,await this.registerSegment("tiff",g,x)}findExifLocIdInIinf(l){this.parseBoxFullHead(l);let r,s,$,d,g=l.start,x=this.file.getUint16(g);for(g+=2;x--;){if(r=this.parseBoxHead(g),this.parseBoxFullHead(r),s=r.start,r.version>=2&&($=r.version===3?4:2,d=this.file.getString(s+$+2,4),d==="Exif"))return this.file.getUintBytes(s,$);g+=r.length}}get8bits(l){let r=this.file.getUint8(l);return[r>>4,15&r]}findExtentInIloc(l,r){this.parseBoxFullHead(l);let s=l.start,[$,d]=this.get8bits(s++),[g,x]=this.get8bits(s++),E=l.version===2?4:2,b=l.version===1||l.version===2?2:0,D=x+$+d,C=l.version===2?4:2,w=this.file.getUintBytes(s,C);for(s+=C;w--;){let U=this.file.getUintBytes(s,E);s+=E+b+2+g;let B=this.file.getUint16(s);if(s+=2,U===r)return B>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(s+x,$),this.file.getUintBytes(s+x+$,d)];s+=B*D}}}class nm extends im{}Z(nm,"type","heic");class wd extends im{}Z(wd,"type","avif"),Ba.set("heic",nm),Ba.set("avif",wd),We(st,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),We(st,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),We(st,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),We(en,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let qa=We(en,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Md={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};qa.set(37392,Md),qa.set(41488,Md);const Ps={0:"Normal",1:"Low",2:"High"};function Ud(o){return typeof o=="object"&&o.length!==void 0?o[0]:o}function Ld(o){let l=Array.from(o).slice(1);return l[1]>15&&(l=l.map((r=>String.fromCharCode(r)))),l[2]!=="0"&&l[2]!==0||l.pop(),l.join(".")}function Ks(o){if(typeof o=="string"){var[l,r,s,$,d,g]=o.trim().split(/[-: ]/g).map(Number),x=new Date(l,r-1,s);return Number.isNaN($)||Number.isNaN(d)||Number.isNaN(g)||(x.setHours($),x.setMinutes(d),x.setSeconds(g)),Number.isNaN(+x)?o:x}}function Ia(o){if(typeof o=="string")return o;let l=[];if(o[1]===0&&o[o.length-1]===0)for(let r=0;r<o.length;r+=2)l.push(zd(o[r+1],o[r]));else for(let r=0;r<o.length;r+=2)l.push(zd(o[r],o[r+1]));return Ji(String.fromCodePoint(...l))}function zd(o,l){return o<<8|l}qa.set(41992,Ps),qa.set(41993,Ps),qa.set(41994,Ps),We(mu,["ifd0","ifd1"],[[50827,function(o){return typeof o!="string"?Pd(o):o}],[306,Ks],[40091,Ia],[40092,Ia],[40093,Ia],[40094,Ia],[40095,Ia]]),We(mu,"exif",[[40960,Ld],[36864,Ld],[36867,Ks],[36868,Ks],[40962,Ud],[40963,Ud]]),We(mu,"gps",[[0,o=>Array.from(o).join(".")],[7,o=>Array.from(o).join(":")]]);class Js extends Ut{static canHandle(l,r){return l.getUint8(r+1)===225&&l.getUint32(r+4)===1752462448&&l.getString(r+4,20)==="http://ns.adobe.com/"}static headerLength(l,r){return l.getString(r+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(l,r){let s=super.findPosition(l,r);return s.multiSegment=s.extended=s.headerLength===79,s.multiSegment?(s.chunkCount=l.getUint8(r+72),s.chunkNumber=l.getUint8(r+76),l.getUint8(r+77)!==0&&s.chunkNumber++):(s.chunkCount=1/0,s.chunkNumber=-1),s}static handleMultiSegments(l){return l.map((r=>r.chunk.getString())).join("")}normalizeInput(l){return typeof l=="string"?l:Hn.from(l).getString()}parse(l=this.chunk){if(!this.localOptions.parse)return l;l=(function(d){let g={},x={};for(let E of rm)g[E]=[],x[E]=0;return d.replace(oh,((E,b,D)=>{if(b==="<"){let C=++x[D];return g[D].push(C),`${E}#${C}`}return`${E}#${g[D].pop()}`}))})(l);let r=Bn.findAll(l,"rdf","Description");r.length===0&&r.push(new Bn("rdf","Description",void 0,l));let s,$={};for(let d of r)for(let g of d.properties)s=fh(g.ns,$),am(g,s);return(function(d){let g;for(let x in d)g=d[x]=tf(d[x]),g===void 0&&delete d[x];return tf(d)})($)}assignToOutput(l,r){if(this.localOptions.parse)for(let[s,$]of Object.entries(r))switch(s){case"tiff":this.assignObjectToOutput(l,"ifd0",$);break;case"exif":this.assignObjectToOutput(l,"exif",$);break;case"xmlns":break;default:this.assignObjectToOutput(l,s,$)}else l.xmp=r}}Z(Js,"type","xmp"),Z(Js,"multiSegment",!0),Ke.set("xmp",Js);class Su{static findAll(l){return lm(l,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Su.unpackMatch)}static unpackMatch(l){let r=l[1],s=l[2],$=l[3].slice(1,-1);return $=um($),new Su(r,s,$)}constructor(l,r,s){this.ns=l,this.name=r,this.value=s}serialize(){return this.value}}class Bn{static findAll(l,r,s){if(r!==void 0||s!==void 0){r=r||"[\\w\\d-]+",s=s||"[\\w\\d-]+";var $=new RegExp(`<(${r}):(${s})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else $=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return lm(l,$).map(Bn.unpackMatch)}static unpackMatch(l){let r=l[1],s=l[2],$=l[4],d=l[8];return new Bn(r,s,$,d)}constructor(l,r,s,$){this.ns=l,this.name=r,this.attrString=s,this.innerXml=$,this.attrs=Su.findAll(s),this.children=Bn.findAll($),this.value=this.children.length===0?um($):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:l,name:r}=this;return l==="rdf"&&(r==="Seq"||r==="Bag"||r==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return sh(this.children.map(rh));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let l={};for(let r of this.properties)am(r,l);return this.value!==void 0&&(l.value=this.value),tf(l)}}function am(o,l){let r=o.serialize();r!==void 0&&(l[o.name]=r)}var rh=o=>o.serialize(),sh=o=>o.length===1?o[0]:o,fh=(o,l)=>l[o]?l[o]:l[o]={};function lm(o,l){let r,s=[];if(!o)return s;for(;(r=l.exec(o))!==null;)s.push(r);return s}function um(o){if((function(s){return s==null||s==="null"||s==="undefined"||s===""||s.trim()===""})(o))return;let l=Number(o);if(!Number.isNaN(l))return l;let r=o.toLowerCase();return r==="true"||r!=="false"&&o.trim()}const rm=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],oh=new RegExp(`(<|\\/)(${rm.join("|")})`,"g");let Gd=yu("fs",(o=>o.promises));Tu.set("fs",class extends xu{async readWhole(){this.chunked=!1,this.fs=await Gd;let o=await this.fs.readFile(this.input);this._swapBuffer(o)}async readChunked(){this.chunked=!0,this.fs=await Gd,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(o,l){this.fh===void 0&&await this.open(),o+l>this.size&&(l=this.size-o);var r=this.subarray(o,l,!0);return await this.fh.read(r.dataView,0,l,o),r}async close(){if(this.fh){let o=this.fh;this.fh=void 0,await o.close()}}});Tu.set("base64",class extends xu{constructor(...o){super(...o),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(o,l){let r,s,$=this.input;o===void 0?(o=0,r=0,s=0):(r=4*Math.floor(o/3),s=o-r/4*3),l===void 0&&(l=this.size);let d=o+l,g=r+4*Math.ceil(d/3);$=$.slice(r,g);let x=Math.min(l,this.size-o);if(of){let E=ff.from($,"base64").slice(s,s+x);return this.set(E,o,!0)}{let E=this.subarray(o,x,!0),b=atob($),D=E.toUint8();for(let C=0;C<x;C++)D[C]=b.charCodeAt(s+C);return E}}});class Id extends Eu{static canHandle(l,r){return r===18761||r===19789}extendOptions(l){let{ifd0:r,xmp:s,iptc:$,icc:d}=l;s.enabled&&r.deps.add(700),$.enabled&&r.deps.add(33723),d.enabled&&r.deps.add(34675),r.finalizeFilters()}async parse(){let{tiff:l,xmp:r,iptc:s,icc:$}=this.options;if(l.enabled||r.enabled||s.enabled||$.enabled){let d=Math.max(nf(this.options),this.options.chunkSize);await this.file.ensureChunk(0,d),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(l){if(this.parsers.tiff[l]){let r=this.parsers.tiff[l];this.injectSegment(l,r)}}}Z(Id,"type","tiff"),Ba.set("tiff",Id);let $h=yu("zlib");const ch=["ihdr","iccp","text","itxt","exif"];class qd extends Eu{constructor(...l){super(...l),Z(this,"catchError",(r=>this.errors.push(r))),Z(this,"metaChunks",[]),Z(this,"unknownChunks",[])}static canHandle(l,r){return r===35152&&l.getUint32(0)===2303741511&&l.getUint32(4)===218765834}async parse(){let{file:l}=this;await this.findPngChunksInRange(8,l.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(l,r){let{file:s}=this;for(;l<r;){let $=s.getUint32(l),d=s.getUint32(l+4),g=s.getString(l+4,4).toLowerCase(),x=$+4+4+4,E={type:g,offset:l,length:x,start:l+4+4,size:$,marker:d};ch.includes(g)?this.metaChunks.push(E):this.unknownChunks.push(E),l+=x}}parseTextChunks(){let l=this.metaChunks.filter((r=>r.type==="text"));for(let r of l){let[s,$]=this.file.getString(r.start,r.size).split("\0");this.injectKeyValToIhdr(s,$)}}injectKeyValToIhdr(l,r){let s=this.parsers.ihdr;s&&s.raw.set(l,r)}findIhdr(){let l=this.metaChunks.find((r=>r.type==="ihdr"));l&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",l.chunk)}async findExif(){let l=this.metaChunks.find((r=>r.type==="exif"));l&&this.injectSegment("tiff",l.chunk)}async findXmp(){let l=this.metaChunks.filter((r=>r.type==="itxt"));for(let r of l)r.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",r.chunk)}async findIcc(){let l=this.metaChunks.find((x=>x.type==="iccp"));if(!l)return;let{chunk:r}=l,s=r.getUint8Array(0,81),$=0;for(;$<80&&s[$]!==0;)$++;let d=$+2,g=r.getString(0,$);if(this.injectKeyValToIhdr("ProfileName",g),Zd){let x=await $h,E=r.getUint8Array(d);E=x.inflateSync(E),this.injectSegment("icc",E)}}}Z(qd,"type","png"),Ba.set("png",qd),We(st,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),uf(st,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let Bd=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];uf(st,"ifd0",Bd),uf(st,"exif",Bd),We(en,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class ef extends Ut{static canHandle(l,r){return l.getUint8(r+1)===224&&l.getUint32(r+4)===1246120262&&l.getUint8(r+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Z(ef,"type","jfif"),Z(ef,"headerLength",9),Ke.set("jfif",ef),We(st,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Hd extends Ut{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Z(Hd,"type","ihdr"),Ke.set("ihdr",Hd),We(st,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),We(en,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class pu extends Ut{static canHandle(l,r){return l.getUint8(r+1)===226&&l.getUint32(r+4)===1229144927}static findPosition(l,r){let s=super.findPosition(l,r);return s.chunkNumber=l.getUint8(r+16),s.chunkCount=l.getUint8(r+17),s.multiSegment=s.chunkCount>1,s}static handleMultiSegments(l){return(function(r){let s=(function($){let d=$[0].constructor,g=0;for(let b of $)g+=b.length;let x=new d(g),E=0;for(let b of $)x.set(b,E),E+=b.length;return x})(r.map(($=>$.chunk.toUint8())));return new Hn(s)})(l)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:l}=this;this.chunk.byteLength<84&&Ye("ICC header is too short");for(let[r,s]of Object.entries(dh)){r=parseInt(r,10);let $=s(this.chunk,r);$!=="\0\0\0\0"&&l.set(r,$)}}parseTags(){let l,r,s,$,d,{raw:g}=this,x=this.chunk.getUint32(128),E=132,b=this.chunk.byteLength;for(;x--;){if(l=this.chunk.getString(E,4),r=this.chunk.getUint32(E+4),s=this.chunk.getUint32(E+8),$=this.chunk.getString(r,4),r+s>b)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");d=this.parseTag($,r,s),d!==void 0&&d!=="\0\0\0\0"&&g.set(l,d),E+=12}}parseTag(l,r,s){switch(l){case"desc":return this.parseDesc(r);case"mluc":return this.parseMluc(r);case"text":return this.parseText(r,s);case"sig ":return this.parseSig(r)}if(!(r+s>this.chunk.byteLength))return this.chunk.getUint8Array(r,s)}parseDesc(l){let r=this.chunk.getUint32(l+8)-1;return Ji(this.chunk.getString(l+12,r))}parseText(l,r){return Ji(this.chunk.getString(l+8,r-8))}parseSig(l){return Ji(this.chunk.getString(l+8,4))}parseMluc(l){let{chunk:r}=this,s=r.getUint32(l+8),$=r.getUint32(l+12),d=l+16,g=[];for(let x=0;x<s;x++){let E=r.getString(d+0,2),b=r.getString(d+2,2),D=r.getUint32(d+4),C=r.getUint32(d+8)+l,w=Ji(r.getUnicodeString(C,D));g.push({lang:E,country:b,text:w}),d+=$}return s===1?g[0].text:g}translateValue(l,r){return typeof l=="string"?r[l]||r[l.toLowerCase()]||l:r[l]||l}}Z(pu,"type","icc"),Z(pu,"multiSegment",!0),Z(pu,"headerLength",18);const dh={4:ui,8:function(o,l){return[o.getUint8(l),o.getUint8(l+1)>>4,o.getUint8(l+1)%16].map((r=>r.toString(10))).join(".")},12:ui,16:ui,20:ui,24:function(o,l){const r=o.getUint16(l),s=o.getUint16(l+2)-1,$=o.getUint16(l+4),d=o.getUint16(l+6),g=o.getUint16(l+8),x=o.getUint16(l+10);return new Date(Date.UTC(r,s,$,d,g,x))},36:ui,40:ui,48:ui,52:ui,64:(o,l)=>o.getUint32(l),80:ui};function ui(o,l){return Ji(o.getString(l,4))}Ke.set("icc",pu),We(st,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const $u={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Vd={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};We(en,"icc",[[4,$u],[12,Vd],[40,Object.assign({},$u,Vd)],[48,$u],[80,$u],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class cu extends Ut{static canHandle(l,r,s){return l.getUint8(r+1)===237&&l.getString(r+4,9)==="Photoshop"&&this.containsIptc8bim(l,r,s)!==void 0}static headerLength(l,r,s){let $,d=this.containsIptc8bim(l,r,s);if(d!==void 0)return $=l.getUint8(r+d+7),$%2!=0&&($+=1),$===0&&($=4),d+8+$}static containsIptc8bim(l,r,s){for(let $=0;$<s;$++)if(this.isIptcSegmentHead(l,r+$))return $}static isIptcSegmentHead(l,r){return l.getUint8(r)===56&&l.getUint32(r)===943868237&&l.getUint16(r+4)===1028}parse(){let{raw:l}=this,r=this.chunk.byteLength-1,s=!1;for(let $=0;$<r;$++)if(this.chunk.getUint8($)===28&&this.chunk.getUint8($+1)===2){s=!0;let d=this.chunk.getUint16($+3),g=this.chunk.getUint8($+2),x=this.chunk.getLatin1String($+5,d);l.set(g,this.pluralizeValue(l.get(g),x)),$+=4+d}else if(s)break;return this.translate(),this.output}pluralizeValue(l,r){return l!==void 0?l instanceof Array?(l.push(r),l):[l,r]:r}}Z(cu,"type","iptc"),Z(cu,"translateValues",!1),Z(cu,"reviveValues",!1),Ke.set("iptc",cu),We(st,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),We(en,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var mh=`use strict;use warnings;require 5.004;my$version='13.30';$^W=1;my$exePath;BEGIN {$exePath=@ARGV && lc($ARGV[0])eq '-xpath' && shift()? $^X : $0;my$exeDir=($exePath =~ /(.*)[\\\\\\/]/)? $1 : '.';my$incDir=($0 =~ /(.*)[\\\\\\/]/)? "$1/lib" : './lib';if (-l $0){my$lnk=eval {readlink $0};if (defined$lnk){my$lnkDir=($lnk =~ /(.*)[\\\\\\/]/)? $1 : '.';$exeDir=(($lnk =~ m(^/))? '' : $exeDir .'/').$lnkDir;$incDir="$exeDir/lib"}}$Image::ExifTool::exeDir=$exeDir;unshift@INC,$incDir;while (@ARGV and lc($ARGV[0])eq '-config'){shift;push@Image::ExifTool::configFiles,shift}}use Image::ExifTool qw{:Public};sub SigInt();sub SigCont();sub Cleanup();sub GetImageInfo($$);sub SetImageInfo($$$);sub DoHardLink($$$$$);sub CleanXML($);sub EncodeXML($);sub FormatXML($$$);sub EscapeJSON($;$);sub FormatJSON($$$;$);sub PrintCSV(;$);sub AddGroups($$$$);sub ConvertBinary($);sub IsEqual($$);sub Printable($);sub LengthUTF8($);sub Infile($;$);sub AddSetTagsFile($;$);sub Warning($$);sub DoSetFromFile($$$);sub CleanFilename($);sub HasWildcards($);sub SetWindowTitle($);sub ProcessFiles($;$);sub ScanDir($$;$);sub FindFileWindows($$);sub FileNotFound($);sub PreserveTime();sub AbsPath($);sub MyConvertFileName($$);sub SuggestedExtension($$$);sub LoadPrintFormat($;$);sub FilenameSPrintf($;$@);sub NextUnusedFilename($;$);sub CreateDirectory($);sub OpenOutputFile($;@);sub AcceptFile($);sub SlurpFile($$);sub FilterArgfileLine($);sub ReadStayOpen($);sub Progress($$);sub PrintTagList($@);sub PrintErrors($$$);$SIG{INT}='SigInt';$SIG{CONT}='SigCont';END {Cleanup()}my@commonArgs;my@condition;my@csvFiles;my@csvTags;my@delFiles;my@dynamicFiles;my@efile;my@exclude;my (@echo3,@echo4);my@files;my@moreArgs;my@newValues;my@requestTags;my@srcFmt;my@tags;my%altFile;my%appended;my%countLink;my%created;my%csvTags;my%database;my%filterExt;my%ignore;my$ignoreHidden;my%outComma;my%outTrailer;my%preserveTime;my%printFmt;my%seqFileDir;my%setTags;my%setTagsList;my%usedFileName;my%utf8FileName;my%warnedOnce;my%wext;my$allGroup;my$altEnc;my$argFormat;my$binaryOutput;my$binaryStdout;my$binSep;my$binTerm;my$comma;my$count;my$countBad;my$countBadCr;my$countBadWr;my$countCopyWr;my$countDir;my$countFailed;my$countGoodCr;my$countGoodWr;my$countNewDir;my$countSameWr;my$critical;my$csv;my$csvAdd;my$csvDelim;my$csvSaveCount;my$deleteOrig;my$diff;my$disableOutput;my$doSetFileName;my$doUnzip;my ($end,$endDir,%endDir);my$escapeC;my$escapeHTML;my$evalWarning;my$executeID;my$failCondition;my$fastCondition;my$fileHeader;my$fileTrailer;my$filtered;my$filterFlag;my$fixLen;my$forcePrint;my$geoOnly;my$helped;my$html;my$interrupted;my$isBinary;my$isWriting;my$joinLists;my$json;my$langOpt;my$listDir;my$listItem;my$listSep;my$mt;my$multiFile;my$noBinary;my$outFormat;my$outOpt;my$overwriteOrig;my$pause;my$plot;my$preserveTime;my$progress;my$progressCount;my$progressIncr;my$progressMax;my$progressNext;my$progStr;my$quiet;my$rafStdin;my$recurse;my$rtnVal;my$rtnValPrev;my$saveCount;my$scanWritable;my$sectHeader;my$sectTrailer;my$seqFileDir;my$seqFileNum;my$setCharset;my$showGroup;my$showTagID;my$stayOpenBuff='';my$stayOpenFile;my$structOpt;my$tabFormat;my$tagOut;my$textOut;my$textOut2;my$textOverwrite;my$tmpFile;my$tmpText;my$validFile;my$verbose;my$vout;my$windowTitle;my%wroteHEAD;my$xml;my$stayOpen=0;my$rtnValApp=0;my$curTitle='';my$isCRLF={MSWin32=>1,os2=>1,dos=>1 }->{$^O};my%jsonChar=('"'=>'"','\\\\'=>'\\\\',"\\t"=>'t',"\\n"=>'n',"\\r"=>'r');my%escC=("\\n"=>'\\n',"\\r"=>'\\r',"\\t"=>'\\t','\\\\'=>'\\\\\\\\');my%unescC=(a=>"\\a",b=>"\\b",f=>"\\f",n=>"\\n",r=>"\\r",t=>"\\t",0=>"\\0",'\\\\'=>'\\\\');my%optArgs=('-tagsfromfile'=>1,'-addtagsfromfile'=>1,'-alltagsfromfile'=>1,'-@'=>1,'-api'=>1,'-c'=>1,'-coordformat'=>1,'-charset'=>0,'-config'=>1,'-csvdelim'=>1,'-d'=>1,'-dateformat'=>1,'-D'=>0,'-diff'=>1,'-echo'=>1,'-echo#'=>1,'-efile'=>1,'-efile#'=>1,'-efile!'=>1,'-efile#!'=>1,'-ext'=>1,'--ext'=>1,'-ext+'=>1,'--ext+'=>1,'-extension'=>1,'--extension'=>1,'-extension+'=>1,'--extension+'=>1,'-fileorder'=>1,'-fileorder#'=>1,'-file#'=>1,'-geotag'=>1,'-globaltimeshift'=>1,'-i'=>1,'-ignore'=>1,'-if'=>1,'-if#'=>1,'-lang'=>0,'-listitem'=>1,'-o'=>1,'-out'=>1,'-p'=>1,'-printformat'=>1,'-p-'=>1,'-printformat-'=>1,'-P'=>0,'-password'=>1,'-require'=>1,'-sep'=>1,'-separator'=>1,'-srcfile'=>1,'-stay_open'=>1,'-use'=>1,'-userparam'=>1,'-w'=>1,'-w!'=>1,'-w+'=>1,'-w+!'=>1,'-w!+'=>1,'-textout'=>1,'-textout!'=>1,'-textout+'=>1,'-textout+!'=>1,'-textout!+'=>1,'-tagout'=>1,'-tagout!'=>1,'-tagout+'=>1,'-tagout+!'=>1,'-tagout!+'=>1,'-wext'=>1,'-wm'=>1,'-writemode'=>1,'-x'=>1,'-exclude'=>1,'-X'=>0,);my@recommends=qw(Archive::Zip Compress::Zlib Digest::MD5 Digest::SHA IO::Compress::Bzip2 POSIX::strptime Time::Local Unicode::LineBreak Compress::Raw::Lzma IO::Compress::RawDeflate IO::Uncompress::RawInflate IO::Compress::Brotli IO::Uncompress::Brotli Win32::API Win32::FindFile Win32API::File);my%altRecommends=('POSIX::strptime'=>'Time::Piece',);my%unescapeChar=('t'=>"\\t",'n'=>"\\n",'r'=>"\\r");sub Image::ExifTool::EndDir() {return$endDir=1}sub Image::ExifTool::End() {return$end=1}sub Exit {if ($pause){if (eval {require Term::ReadKey}){print STDERR "-- press any key --";Term::ReadKey::ReadMode('cbreak');Term::ReadKey::ReadKey(0);Term::ReadKey::ReadMode(0);print STDERR "\\b \\b" x 20}else {print STDERR "-- press RETURN --\\n";<STDIN>}}exit shift}sub Warn {if ($quiet < 2 or $_[0]=~ /^Error/){my$oldWarn=$SIG{'__WARN__'};delete$SIG{'__WARN__'};warn(@_);$SIG{'__WARN__'}=$oldWarn if defined$oldWarn}}sub Error {Warn @_;$rtnVal=1}sub WarnOnce($) {Warn(@_)and $warnedOnce{$_[0]}=1 unless$warnedOnce{$_[0]}}sub SigInt() {$critical and $interrupted=1,return;Cleanup();exit 1}sub SigCont() {}sub Cleanup() {$mt->Unlink($tmpFile)if defined$tmpFile;$mt->Unlink($tmpText)if defined$tmpText;undef$tmpFile;undef$tmpText;PreserveTime()if%preserveTime;SetWindowTitle('')}if (grep /^-common_args$/i,@ARGV){my (@newArgs,$common,$end);for (@ARGV){if (/^-common_args$/i and not $end){$common=1}elsif ($common){push@commonArgs,$_}else {$end=1 if $_ eq '--';push@newArgs,$_}}@ARGV=@newArgs if$common}Command: for (;;){if (@echo3){my$str=join("\\n",@echo3)."\\n";$str =~ s/\\$\\{status\\}/$rtnVal/ig;print STDOUT$str}if (@echo4){my$str=join("\\n",@echo4)."\\n";$str =~ s/\\$\\{status\\}/$rtnVal/ig;print STDERR$str}$rafStdin->Close()if$rafStdin;undef$rafStdin;$rtnValPrev=$rtnVal;$rtnValApp=$rtnVal if$rtnVal;last unless@ARGV or not defined$rtnVal or $stayOpen >= 2 or @commonArgs;if ($binaryStdout){binmode(STDOUT,':crlf')if $] >= 5.006 and $isCRLF;$binaryStdout=0}if ($stayOpen >= 2){if ($quiet and not defined$executeID){eval {require IO::Handle}and STDERR->flush(),STDOUT->flush()}else {eval {require IO::Handle}and STDERR->flush();my$id=defined$executeID ? $executeID : '';my$save=$|;$|=1;print "{ready$id}\\n";$|=$save}}undef@condition;undef@csvFiles;undef@csvTags;undef@delFiles;undef@dynamicFiles;undef@echo3;undef@echo4;undef@efile;undef@exclude;undef@files;undef@newValues;undef@srcFmt;undef@tags;undef%appended;undef%countLink;undef%created;undef%csvTags;undef%database;undef%endDir;undef%filterExt;undef%ignore;undef%outComma;undef%outTrailer;undef%preserveTime;undef%printFmt;undef%seqFileDir;undef%setTags;undef%setTagsList;undef%usedFileName;undef%utf8FileName;undef%warnedOnce;undef%wext;undef$allGroup;undef$altEnc;undef$argFormat;undef$binaryOutput;undef$binSep;undef$binTerm;undef$comma;undef$csv;undef$csvAdd;undef$deleteOrig;undef$diff;undef$disableOutput;undef$doSetFileName;undef$doUnzip;undef$end;undef$endDir;undef$escapeHTML;undef$escapeC;undef$evalWarning;undef$executeID;undef$failCondition;undef$fastCondition;undef$fileHeader;undef$filtered;undef$fixLen;undef$forcePrint;undef$geoOnly;undef$ignoreHidden;undef$joinLists;undef$langOpt;undef$listItem;undef$multiFile;undef$noBinary;undef$outOpt;undef$preserveTime;undef$progress;undef$progressCount;undef$progressIncr;undef$progressMax;undef$progressNext;undef$recurse;undef$scanWritable;undef$sectHeader;undef$setCharset;undef$showGroup;undef$showTagID;undef$structOpt;undef$tagOut;undef$textOut;undef$textOverwrite;undef$tmpFile;undef$tmpText;undef$validFile;undef$verbose;undef$windowTitle;$count=0;$countBad=0;$countBadCr=0;$countBadWr=0;$countCopyWr=0;$countDir=0;$countFailed=0;$countGoodCr=0;$countGoodWr=0;$countNewDir=0;$countSameWr=0;$csvDelim=',';$csvSaveCount=0;$fileTrailer='';$filterFlag=0;$html=0;$isWriting=0;$json=0;$listSep=', ';$outFormat=0;$overwriteOrig=0;$progStr='';$quiet=0;$rtnVal=0;$saveCount=0;$sectTrailer='';$seqFileDir=0;$seqFileNum=0;$tabFormat=0;$vout=\\*STDOUT;$xml=0;my@fileOrder;my$fileOrderFast;my$addGeotime;my$doGlob;my$endOfOpts;my$escapeXML;my$setTagsFile;my$sortOpt;my$srcStdin;my$useMWG;my ($argsLeft,@nextPass,$badCmd);my$pass=0;if ($^O eq 'MSWin32' and eval {require File::Glob}){import File::Glob qw(:globally :nocase);$doGlob=1}$mt=Image::ExifTool->new;$mt->Options(Duplicates=>0)unless%Image::ExifTool::UserDefined::Options and defined$Image::ExifTool::UserDefined::Options{Duplicates};$joinLists=1 if defined$mt->Options('List')and not $mt->Options('List');if (not $preserveTime and $^O eq 'MSWin32'){$preserveTime=2 if eval {require Win32::API}and eval {require Win32API::File}}if (@Image::ExifTool::UserDefined::Arguments){unshift@ARGV,@Image::ExifTool::UserDefined::Arguments}if ($version ne $Image::ExifTool::VERSION){Warn "Application version $version does not match Image::ExifTool library version $Image::ExifTool::VERSION\\n"}for (;;){if (not @ARGV or ($ARGV[0]=~ /^(-|\\xe2\\x88\\x92)execute(\\d+)?$/i and not $endOfOpts)){if (@ARGV){$executeID=$2;$helped=1;$badCmd and shift,$rtnVal=1,next Command}elsif ($stayOpen >= 2){ReadStayOpen(\\@ARGV);next}elsif ($badCmd){undef@commonArgs;$rtnVal=1;next Command}if ($pass==0){if (@commonArgs and not defined$argsLeft){$argsLeft=scalar(@ARGV)+ scalar(@moreArgs);unshift@ARGV,@commonArgs;undef@commonArgs unless$argsLeft;next}if (defined$argsLeft and $argsLeft < scalar(@ARGV)+ scalar(@moreArgs)){Warn "Ignoring -common_args from $ARGV[0] onwards to avoid infinite recursion\\n";while ($argsLeft < scalar(@ARGV)+ scalar(@moreArgs)){@ARGV and shift(@ARGV),next;shift@moreArgs}}$useMWG=1 if not $useMWG and grep /^([--_0-9A-Z]+:)*1?mwg:/i,@tags,@requestTags;if ($useMWG){require Image::ExifTool::MWG;Image::ExifTool::MWG::Load()}if (defined$forcePrint){unless (defined$mt->Options('MissingTagValue')){$mt->Options(MissingTagValue=>'-')}$forcePrint=$mt->Options('MissingTagValue')}}if (@nextPass){unshift@ARGV,@nextPass;undef@nextPass;undef$endOfOpts;++$pass;next}@ARGV and shift;last}$_=shift;next if$badCmd;if (not $endOfOpts and s/^(-|\\xe2\\x88\\x92)//){s/^\\xe2\\x88\\x92/-/;if ($_ eq '-'){$pass or push@nextPass,'--';$endOfOpts=1;next}my$a=lc $_;if (/^list([wfrdx]|wf|g(\\d*)|geo)?$/i){$pass or push@nextPass,"-$_";my$type=lc($1 || '');if (not $type or $type eq 'w' or $type eq 'x'){my$group;if ($ARGV[0]and $ARGV[0]=~ /^(-|\\xe2\\x88\\x92)(.+):(all|\\*)$/i){if ($pass==0){$useMWG=1 if lc($2)eq 'mwg';push@nextPass,shift;next}$group=$2;shift;$group =~ /IFD/i and Warn("Can't list tags for specific IFD\\n"),$helped=1,next;$group =~ /^(all|\\*)$/ and undef$group}else {$pass or next}$helped=1;if ($type eq 'x'){require Image::ExifTool::TagInfoXML;my%opts;$opts{Flags}=1 if defined$forcePrint;$opts{NoDesc}=1 if$outFormat > 0;$opts{Lang}=$langOpt;Image::ExifTool::TagInfoXML::Write(undef,$group,%opts);next}my$wr=($type eq 'w');my$msg=($wr ? 'Writable' : 'Available').($group ? " $group" : '').' tags';PrintTagList($msg,$wr ? GetWritableTags($group): GetAllTags($group));next if$group or $wr;my@tagList=GetShortcuts();PrintTagList('Command-line shortcuts',@tagList)if@tagList;next}$pass or next;$helped=1;if ($type eq 'wf'){my@wf;CanWrite($_)and push@wf,$_ foreach GetFileType();PrintTagList('Writable file extensions',@wf)}elsif ($type eq 'f'){PrintTagList('Supported file extensions',GetFileType())}elsif ($type eq 'r'){PrintTagList('Recognized file extensions',GetFileType(undef,0))}elsif ($type eq 'd'){PrintTagList('Deletable groups',GetDeleteGroups())}elsif ($type eq 'geo'){require Image::ExifTool::Geolocation;my ($i,$entry);print "Geolocation database:\\n" unless$quiet;my$isAlt=$mt->Options('GeolocAltNames')? ',AltNames' : '';$isAlt='' if$isAlt and not Image::ExifTool::Geolocation::ReadAltNames();print "City,Region,Subregion,CountryCode,Country,TimeZone,FeatureCode,Population,Latitude,Longitude$isAlt\\n";Image::ExifTool::Geolocation::SortDatabase('City')if$sortOpt;my$minPop=$mt->Options('GeolocMinPop');my$feature=$mt->Options('GeolocFeature')|| '';my$neg=$feature =~ s/^-//;my%fcodes=map {lc($_)=>1}split /\\s*,\\s*/,$feature;my@isUTF8=(0,1,2,4);push@isUTF8,10 if$isAlt;for ($i=0;;++$i){my@entry=Image::ExifTool::Geolocation::GetEntry($i,$langOpt,1)or last;$#entry=9;next if$minPop and $entry[7]< $minPop;next if%fcodes and $neg ? $fcodes{lc$entry[6]}: not $fcodes{lc$entry[6]};push@entry,Image::ExifTool::Geolocation::GetAltNames($i,1)if$isAlt;$_=defined $_ ? $mt->Decode($_,'UTF8'): '' foreach@entry[@isUTF8];pop@entry if$isAlt and not $entry[10];print join(',',@entry),"\\n"}}else {my$family=$2 || 0;PrintTagList("Groups in family $family",$mt->GetAllGroups($family))}next}if ($a eq 'ver'){$pass or push(@nextPass,'-ver'),next;my$libVer=$Image::ExifTool::VERSION;my$str=$libVer eq $version ? '' : " [Warning: Library version is $libVer]";if ($verbose){print "ExifTool version $version$str$Image::ExifTool::RELEASE\\n";printf "Perl version %s%s\\n",$],(defined \${^UNICODE} ? " (-C\${^UNICODE})" : '');print "Platform: $^O\\n";if ($verbose > 8){print "Current Dir: " .Cwd::getcwd()."\\n" if (eval {require Cwd});print "Script Name: $0\\n";print "Exe Name:    $^X\\n";print "Exe Dir:     $Image::ExifTool::exeDir\\n";print "Exe Path:    $exePath\\n"}print "Optional libraries:\\n";for (@recommends){next if /^Win32/ and $^O ne 'MSWin32';my$ver=eval "require $_ and \\$\${_}::VERSION";my$alt=$altRecommends{$_};$ver=eval "require $alt and \\$\${alt}::VERSION" and $_=$alt if not $ver and $alt;printf "  %-28s %s\\n",$_,$ver || '(not installed)'}if ($verbose > 1){print "Include directories:\\n";ref $_ or print "  $_\\n" foreach@INC}}else {print "$version$str$Image::ExifTool::RELEASE\\n"}$helped=1;next}if (/^(all|add)?tagsfromfile(=.*)?$/i){$setTagsFile=$2 ? substr($2,1): (@ARGV ? shift : '');if ($setTagsFile eq ''){Error("File must be specified for -tagsFromFile option\\n");$badCmd=1;next}AddSetTagsFile($setTagsFile,{Replace=>($1 and lc($1)eq 'add')? 0 : 1 });next}if ($a eq '@'){my$argFile=shift or Error("Expecting filename for -\\@ option\\n"),$badCmd=1,next;if ($stayOpen==1){@moreArgs=@ARGV;undef@ARGV}elsif ($stayOpen==3){if ($stayOpenFile and $stayOpenFile ne '-' and $argFile eq $stayOpenFile){$stayOpen=2;Warn "Ignoring request to switch to the same -stay_open ARGFILE ($argFile)\\n";next}close STAYOPEN;$stayOpen=1}my$fp=($stayOpen==1 ? \\*STAYOPEN : \\*ARGFILE);unless ($mt->Open($fp,$argFile)){unless ($argFile !~ /^\\// and $mt->Open($fp,"$Image::ExifTool::exeDir/$argFile")){Error "Error opening arg file $argFile\\n";$badCmd=1;next}}if ($stayOpen==1){$stayOpenFile=$argFile;$stayOpenBuff='';$stayOpen=2;$helped=1;ReadStayOpen(\\@ARGV);next}my (@newArgs,$didBOM);for (<ARGFILE>){unless ($didBOM){s/^\\xef\\xbb\\xbf//;$didBOM=1}$_=FilterArgfileLine($_);push@newArgs,$_ if defined $_}close ARGFILE;unshift@ARGV,@newArgs;next}/^(-?)(a|duplicates)$/i and $mt->Options(Duplicates=>($1 ? 0 : 1)),next;if ($a eq 'api'){my$opt=shift;if (defined$opt and length$opt){my$val=($opt =~ s/=(.*)//s)? $1 : 1;$val=undef unless$opt =~ s/\\^$// or length$val;$mt->Options($opt=>$val)}else {print "Available API Options:\\n";my$availableOptions=Image::ExifTool::AvailableOptions();$$_[3]or printf("  %-17s - %s\\n",$$_[0],$$_[2])foreach @$availableOptions;$helped=1}next}/^arg(s|format)$/i and $argFormat=1,next;if (/^(-?)b(inary)?$/i){($binaryOutput,$noBinary)=$1 ? (undef,1): (1,undef);$mt->Options(Binary=>$binaryOutput,NoPDFList=>$binaryOutput);next}if (/^c(oordFormat)?$/i){my$fmt=shift;$fmt or Error("Expecting coordinate format for -c option\\n"),$badCmd=1,next;$mt->Options('CoordFormat',$fmt);next}if ($a eq 'charset'){my$charset=(@ARGV and $ARGV[0]!~ /^(-|\\xe2\\x88\\x92)/)? shift : undef;if (not $charset){$pass or push(@nextPass,'-charset'),next;my%charsets;$charsets{$_}=1 foreach values%Image::ExifTool::charsetName;PrintTagList('Available character sets',sort keys%charsets);$helped=1}elsif ($charset !~ s/^(\\w+)=// or lc($1)eq 'exiftool'){{local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};undef$evalWarning;$mt->Options(Charset=>$charset)}if ($evalWarning){Warn$evalWarning}else {$setCharset=$mt->Options('Charset')}}else {my$type={id3=>'ID3',iptc=>'IPTC',exif=>'EXIF',filename=>'FileName',photoshop=>'Photoshop',quicktime=>'QuickTime',riff=>'RIFF' }->{lc $1};$type or Warn("Unknown type for -charset option: $1\\n"),next;$mt->Options("Charset$type"=>$charset)}next}/^config$/i and Warn("Ignored -config option (not first on command line)\\n"),shift,next;if (/^csv(\\+?=.*)?$/i){my$csvFile=$1;unless ($pass){push@nextPass,"-$_";if ($csvFile){push@newValues,{SaveCount=>++$saveCount };$csvSaveCount=$saveCount}next}if ($csvFile){$csvFile =~ s/^(\\+?=)//;$csvAdd=2 if $1 eq '+=';$vout=\\*STDERR if$srcStdin;$verbose and print$vout "Reading CSV file $csvFile\\n";my$msg;if ($mt->Open(\\*CSVFILE,$csvFile)){binmode CSVFILE;require Image::ExifTool::Import;$msg=Image::ExifTool::Import::ReadCSV(\\*CSVFILE,\\%database,$forcePrint,$csvDelim);close(CSVFILE)}else {$msg="Error opening CSV file '\${csvFile}'"}$msg and Warn("$msg\\n");$isWriting=1}$csv='CSV';next}if (/^csvdelim$/i){$csvDelim=shift;defined$csvDelim or Error("Expecting argument for -csvDelim option\\n"),$badCmd=1,next;$csvDelim =~ /"/ and Error("CSV delimiter can not contain a double quote\\n"),$badCmd=1,next;my%unescape=('t'=>"\\t",'n'=>"\\n",'r'=>"\\r",'\\\\'=>'\\\\');$csvDelim =~ s/\\\\(.)/$unescape{$1}||"\\\\$1"/sge;$mt->Options(CSVDelim=>$csvDelim);next}if (/^d$/ or $a eq 'dateformat'){my$fmt=shift;$fmt or Error("Expecting date format for -d option\\n"),$badCmd=1,next;$mt->Options('DateFormat',$fmt);next}(/^D$/ or $a eq 'decimal')and $showTagID='D',next;if (/^diff$/i){$diff=shift;defined$diff or Error("Expecting file name for -$_ option\\n"),$badCmd=1;next}/^delete_original(!?)$/i and $deleteOrig=($1 ? 2 : 1),next;/^list_dir$/i and $listDir=1,next;(/^e$/ or $a eq '-composite')and $mt->Options(Composite=>0),next;(/^-e$/ or $a eq 'composite')and $mt->Options(Composite=>1),next;(/^E$/ or $a eq 'escapehtml')and require Image::ExifTool::HTML and $escapeHTML=1,next;($a eq 'ec' or $a eq 'escapec')and $escapeC=1,next;($a eq 'ex' or $a eq 'escapexml')and $escapeXML=1,next;if (/^echo(\\d)?$/i){my$n=$1 || 1;my$arg=shift;next unless defined$arg;$n > 4 and Warn("Invalid -echo number\\n"),next;if ($n > 2){$n==3 ? push(@echo3,$arg): push(@echo4,$arg)}else {print {$n==2 ? \\*STDERR : \\*STDOUT}$arg,"\\n"}$helped=1;next}if (/^(ee|extractembedded)(\\d*)$/i){$mt->Options(ExtractEmbedded=>$2 || 1);$mt->Options(Duplicates=>1);next}if (/^efile(\\d+)?(!)?$/i){my$arg=shift;defined$arg or Error("Expecting file name for -$_ option\\n"),$badCmd=1,next;$efile[0]=$arg if not $1 or $1 & 0x01;$efile[1]=$arg if $1 and $1 & 0x02;$efile[2]=$arg if $1 and $1 & 0x04;$efile[3]=$arg if $1 and $1 & 0x08;$efile[4]=$arg if $1 and $1 & 0x016;unlink$arg if $2;next}if (/^-?ext(ension)?(\\+)?$/i){my$ext=shift;defined$ext or Error("Expecting extension for -ext option\\n"),$badCmd=1,next;my$flag=/^-/ ? 0 : ($2 ? 2 : 1);$filterFlag |= (0x01 << $flag);$ext =~ s/^\\.//;$filterExt{uc($ext)}=$flag ? 1 : 0;next}if (/^f$/ or $a eq 'forceprint'){$forcePrint=1;next}if (/^F([-+]?\\d*)$/ or /^fixbase([-+]?\\d*)$/i){$mt->Options(FixBase=>$1);next}if (/^fast(\\d*)$/i){$mt->Options(FastScan=>(length $1 ? $1 : 1));next}if (/^(file\\d+)$/i){$altFile{lc $1}=shift or Error("Expecting file name for -file option\\n"),$badCmd=1,next;next}if (/^fileorder(\\d*)$/i){push@fileOrder,shift if@ARGV;my$num=$1 || 0;$fileOrderFast=$num if not defined$fileOrderFast or $fileOrderFast > $num;next}$a eq 'globaltimeshift' and $mt->Options(GlobalTimeShift=>shift),next;if (/^(g)(roupHeadings|roupNames)?([\\d:]*)$/i){$showGroup=$3 || 0;$allGroup=($2 ? lc($2)eq 'roupnames' : $1 eq 'G');$mt->Options(SavePath=>1)if$showGroup =~ /\\b5\\b/;$mt->Options(SaveFormat=>1)if$showGroup =~ /\\b6\\b/;next}if ($a eq 'geotag'){my$trkfile=shift;unless ($pass){push@nextPass,'-geotag',$trkfile;next}$trkfile or Error("Expecting file name for -geotag option\\n"),$badCmd=1,next;if (HasWildcards($trkfile)){my@trks;if ($^O eq 'MSWin32' and eval {require Win32::FindFile}){@trks=FindFileWindows($mt,$trkfile)}elsif (eval {require File::Glob}){@trks=File::Glob::bsd_glob($trkfile)}else {@trks=glob($trkfile)}@trks or Error("No matching file found for -geotag option\\n"),$badCmd=1,next;push@newValues,'geotag='.shift(@trks)while@trks > 1;$trkfile=pop(@trks)}$_="geotag=$trkfile"}if (/^h$/ or $a eq 'htmlformat'){require Image::ExifTool::HTML;$html=$escapeHTML=1;$json=$xml=0;next}(/^H$/ or $a eq 'hex')and $showTagID='H',next;if (/^htmldump([-+]?\\d+)?$/i){$verbose=($verbose || 0)+ 1;$html=2;$mt->Options(HtmlDumpBase=>$1)if defined $1;next}if (/^i(gnore)?$/i){my$dir=shift;defined$dir or Error("Expecting directory name for -i option\\n"),$badCmd=1,next;$ignore{$dir}=1;$dir eq 'HIDDEN' and $ignoreHidden=1;next}if (/^if(\\d*)$/i){my$cond=shift;my$fast=length($1)? $1 : undef;defined$cond or Error("Expecting expression for -if option\\n"),$badCmd=1,next;if (not @condition or not defined$fast or (defined$fastCondition and $fastCondition > $fast)){$fastCondition=$fast}$cond =~ /^\\s*(not\\s*)\\$ok\\s*$/i and ($1 xor $rtnValPrev)and $failCondition=1;push@requestTags,$cond =~ /\\$\\{?((?:[-_0-9A-Z]+:)*[-_0-9A-Z?*]+)/ig;push@condition,$cond;next}if (/^j(son)?(\\+?=.*)?$/i){if ($2){unless ($pass){push@nextPass,"-$_";push@newValues,{SaveCount=>++$saveCount };$csvSaveCount=$saveCount;next}my$jsonFile=$2;$jsonFile =~ s/^(\\+?=)//;$csvAdd=2 if $1 eq '+=';$vout=\\*STDERR if$srcStdin;$verbose and print$vout "Reading JSON file $jsonFile\\n";my$chset=$mt->Options('Charset');my$msg;if ($mt->Open(\\*JSONFILE,$jsonFile)){binmode JSONFILE;require Image::ExifTool::Import;$msg=Image::ExifTool::Import::ReadJSON(\\*JSONFILE,\\%database,$forcePrint,$chset);close(JSONFILE)}else {$msg="Error opening JSON file '\${jsonFile}'"}$msg and Warn("$msg\\n");$isWriting=1;$csv='JSON'}else {$json=1;$html=$xml=0;$mt->Options(Duplicates=>1);require Image::ExifTool::XMP}next}/^(k|pause)$/i and $pause=1,next;(/^l$/ or $a eq 'long')and --$outFormat,next;(/^L$/ or $a eq 'latin')and $mt->Options(Charset=>'Latin'),next;if ($a eq 'lang'){$langOpt=(@ARGV and $ARGV[0]!~ /^(-|\\xe2\\x88\\x92)/)? shift : undef;if ($langOpt){$langOpt =~ tr/-A-Z/_a-z/;$mt->Options(Lang=>$langOpt);next if$langOpt eq $mt->Options('Lang')}else {$pass or push(@nextPass,'-lang'),next}my$langs=$quiet ? '' : "Available languages:\\n";$langs .= "  $_ - $Image::ExifTool::langName{$_}\\n" foreach@Image::ExifTool::langs;$langs =~ tr/_/-/;$langs=Image::ExifTool::HTML::EscapeHTML($langs)if$escapeHTML;$langs=$mt->Decode($langs,'UTF8');$langOpt and Error("Invalid or unsupported language '\${langOpt}'.\\n$langs"),$badCmd=1,next;print$langs;$helped=1;next}if ($a eq 'listitem'){my$li=shift;defined$li and Image::ExifTool::IsInt($li)or Warn("Expecting integer for -listItem option\\n"),next;$mt->Options(ListItem=>$li);$listItem=$li;next}/^(m|ignoreminorerrors)$/i and $mt->Options(IgnoreMinorErrors=>1),next;/^(n|-printconv)$/i and $mt->Options(PrintConv=>0),next;/^(-n|printconv)$/i and $mt->Options(PrintConv=>1),next;$a eq 'nop' and $helped=1,next;if (/^o(ut)?$/i){$outOpt=shift;defined$outOpt or Error("Expected output file or directory name for -o option\\n"),$badCmd=1,next;CleanFilename($outOpt);$vout=\\*STDERR if$vout =~ /^-(\\.\\w+)?$/;next}/^overwrite_original$/i and $overwriteOrig=1,next;/^overwrite_original_in_place$/i and $overwriteOrig=2,next;/^plot$/i and require Image::ExifTool::Plot and $plot=Image::ExifTool::Plot->new,next;if (/^p(-?)$/ or /^printformat(-?)$/i){my$fmt=shift;if ($pass){LoadPrintFormat($fmt,$1 || $binaryOutput);if (not $useMWG and grep /^([-_0-9A-Z]+:)*1?mwg:/i,@requestTags){$useMWG=1;require Image::ExifTool::MWG;Image::ExifTool::MWG::Load()}}else {push@nextPass,"-$_",$fmt}next}(/^P$/ or $a eq 'preserve')and $preserveTime=1,next;/^password$/i and $mt->Options(Password=>shift),next;if (/^progress(\\d*)(:.*)?$/i){$progressIncr=$1 || 1;$progressNext=0;if ($2){$windowTitle=substr $2,1;$windowTitle='ExifTool %p%%' unless length$windowTitle;$windowTitle =~ /%\\d*[bpr]/ and $progress=0 unless defined$progress}else {$progress=1;$verbose=0 unless defined$verbose}$progressCount=0;next}/^q(uiet)?$/i and ++$quiet,next;/^r(ecurse)?(\\.?)$/i and $recurse=($2 ? 2 : 1),next;if ($a eq 'require'){my$ver=shift;unless (defined$ver and Image::ExifTool::IsFloat($ver)){Error("Expecting version number for -require option\\n");$badCmd=1;next}unless ($Image::ExifTool::VERSION >= $ver){Error("Requires ExifTool version $ver or later\\n");$badCmd=1}next}/^restore_original$/i and $deleteOrig=0,next;(/^S$/ or $a eq 'veryshort')and $outFormat+=2,next;/^s(hort)?(\\d*)$/i and $outFormat=$2 eq '' ? $outFormat + 1 : $2,next;/^scanforxmp$/i and $mt->Options(ScanForXMP=>1),next;if (/^sep(arator)?$/i){my$sep=$listSep=shift;defined$listSep or Error("Expecting list item separator for -sep option\\n"),$badCmd=1,next;$sep =~ s/\\\\(.)/$unescapeChar{$1}||$1/sge;(defined$binSep ? $binTerm : $binSep)=$sep;$mt->Options(ListSep=>$listSep);$joinLists=1;my$listSplit=quotemeta$listSep;$listSplit =~ s/(\\\\ )+/\\\\s\\*/g;$listSplit='\\\\s+' if$listSplit eq '\\\\s*';$mt->Options(ListSplit=>$listSplit);next}/^(-)?sort$/i and $sortOpt=$1 ? 0 : 1,next;if ($a eq 'srcfile'){@ARGV or Warn("Expecting FMT for -srcfile option\\n"),next;push@srcFmt,shift;next}if ($a eq 'stay_open'){my$arg=shift;defined$arg or Warn("Expecting argument for -stay_open option\\n"),next;if ($arg =~ /^(1|true)$/i){if (not $stayOpen){$stayOpen=1}elsif ($stayOpen==2){$stayOpen=3}else {Warn "-stay_open already active\\n"}}elsif ($arg =~ /^(0|false)$/i){if ($stayOpen >= 2){close STAYOPEN;push@ARGV,@moreArgs;undef@moreArgs}elsif (not $stayOpen){Warn("-stay_open wasn't active\\n")}$stayOpen=0}else {Warn "Invalid argument for -stay_open\\n"}next}if (/^(-)?struct$/i){$mt->Options(Struct=>$1 ? 0 : 1);next}/^t(ab)?$/ and $tabFormat=1,next;if (/^T$/ or $a eq 'table'){$tabFormat=$forcePrint=1;$outFormat+=2;++$quiet;next}if (/^(u)(nknown(2)?)?$/i){my$inc=($3 or (not $2 and $1 eq 'U'))? 2 : 1;$mt->Options(Unknown=>$mt->Options('Unknown')+ $inc);next}if ($a eq 'use'){my$module=shift;$module or Error("Expecting module name for -use option\\n"),$badCmd=1,next;lc$module eq 'mwg' and $useMWG=1,next;$module =~ /[^\\w:]/ and Error("Invalid module name: $module\\n"),$badCmd=1,next;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};unless (eval "require Image::ExifTool::$module" or eval "require $module" or eval "require '\${module}'"){Error("Error using module $module\\n");$badCmd=1}next}if ($a eq 'userparam'){my$opt=shift;defined$opt or Error("Expected parameter for -userParam option\\n"),$badCmd=1,next;$opt =~ /=/ or $opt .= '=1';$mt->Options(UserParam=>$opt);next}if (/^v(erbose)?(\\d*)$/i){$verbose=($2 eq '')? ($verbose || 0)+ 1 : $2;next}if (/^(w|textout|tagout)([!+]*)$/i){$textOut=shift || Warn("Expecting argument for -$_ option\\n");my ($t1,$t2)=($1,$2);$textOverwrite=0;$textOverwrite += 1 if$t2 =~ /!/;$textOverwrite += 2 if$t2 =~ /\\+/;if ($t1 ne 'W' and lc($t1)ne 'tagout'){undef$tagOut}elsif ($textOverwrite >= 2 and $textOut !~ /%[-+]?\\d*[.:]?\\d*[lu]?[tgso]/){$tagOut=0}else {$tagOut=1}next}if (/^(-?)(wext|tagoutext)$/i){my$ext=shift;defined$ext or Error("Expecting extension for -wext option\\n"),$badCmd=1,next;my$flag=1;$1 and $wext{'*'}=1,$flag=-1;$ext =~ s/^\\.//;$wext{lc$ext}=$flag;next}if ($a eq 'wm' or $a eq 'writemode'){my$wm=shift;defined$wm or Error("Expecting argument for -$_ option\\n"),$badCmd=1,next;$wm =~ /^[wcg]*$/i or Error("Invalid argument for -$_ option\\n"),$badCmd=1,next;$mt->Options(WriteMode=>$wm);next}if (/^x$/ or $a eq 'exclude'){my$tag=shift;defined$tag or Error("Expecting tag name for -x option\\n"),$badCmd=1,next;$tag =~ s/\\ball\\b/\\*/ig;if ($setTagsFile){push @{$setTags{$setTagsFile}},"-$tag"}else {push@exclude,$tag}next}(/^X$/ or $a eq 'xmlformat')and $xml=1,$html=$json=0,$mt->Options(Duplicates=>1),next;if (/^php$/i){$json=2;$html=$xml=0;$mt->Options(Duplicates=>1);next}if (/^z(ip)?$/i){$doUnzip=1;$mt->Options(Compress=>1,XMPShorthand=>1);$mt->Options(Compact=>1)unless$mt->Options('Compact');next}$_ eq '' and push(@files,'-'),$srcStdin=1,next;length $_ eq 1 and $_ ne '*' and Error("Unknown option -$_\\n"),$badCmd=1,next;if (/^[^<]+(<?)=(.*)/s){my$val=$2;if ($1 and length($val)and ($val eq '@' or not defined FilenameSPrintf($val))){push@newValues,{SaveCount=>++$saveCount }}push@newValues,$_;if (/^([-_0-9A-Z]+:)*1?mwg:/i){$useMWG=1}elsif (/^([-_0-9A-Z]+:)*(filename|directory|testname)\\b/i){$doSetFileName=1}elsif (/^([-_0-9A-Z]+:)*(geotag|geotime|geosync|geolocate)\\b/i){if (lc $2 eq 'geotime'){$addGeotime=''}else {unshift@newValues,pop@newValues;if (lc $2 eq 'geotag' and (not defined$addGeotime or $addGeotime)and length$val){$addGeotime=($1 || '').q[Geotime<\${DateTimeOriginal#;$_=$self->GetValue('SubSecDateTimeOriginal','ValueConv') || $_}]}}}}else {AddSetTagsFile($setTagsFile='@')if not $setTagsFile and /(<|>)/;if ($setTagsFile){push @{$setTags{$setTagsFile}},$_;if ($1 eq '>'){$useMWG=1 if /^(.*>\\s*)?([-_0-9A-Z]+:)*1?mwg:/si;if (/\\b(filename|directory|testname)#?$/i){$doSetFileName=1}elsif (/\\bgeotime#?$/i){$addGeotime=''}}else {$useMWG=1 if /^([^<]+<\\s*(.*\\$\\{?)?)?([-_0-9A-Z]+:)*1?mwg:/si;if (/^([-_0-9A-Z]+:)*(filename|directory|testname)\\b/i){$doSetFileName=1}elsif (/^([-_0-9A-Z]+:)*geotime\\b/i){$addGeotime=''}}}else {my$lst=s/^-// ? \\@exclude : \\@tags;Warn(qq(Invalid TAG name: "$_"\\n))unless /^([-_0-9A-Z*]+:)*([-_0-9A-Z*?]+)#?$/i;push @$lst,$_}}}else {unless ($pass){push@nextPass,$_;next}if ($doGlob and HasWildcards($_)){if ($^O eq 'MSWin32' and eval {require Win32::FindFile}){push@files,FindFileWindows($mt,$_)}else {push@files,File::Glob::bsd_glob($_)}$doGlob=2}else {push@files,$_;$srcStdin=1 if $_ eq '-'}}}$mt->Options(UserParam=>'OK=' .(not $rtnValPrev));$vout=\\*STDERR if$srcStdin and ($isWriting or @newValues);$mt->Options(TextOut=>$vout)if$vout eq \\*STDERR;if ($useMWG and not defined$mt->Options('CharsetEXIF')){$mt->Options(CharsetEXIF=>'UTF8')}if (not @files and not $outOpt and not @newValues){my$loc=$mt->Options('Geolocation');$loc and $loc ne '1' and push(@files,qq(\\@JSON:{})),$geoOnly=1}unless ((@tags and not $outOpt)or @files or @newValues or $geoOnly){if ($doGlob and $doGlob==2){Error "No matching files\\n";next}$outOpt and Error("Nothing to write\\n"),next;unless ($helped){local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};my$dummy=\\*SAVEERR;unless ($^O eq 'os2'){open SAVEERR,">&STDERR";open STDERR,'>/dev/null'}if (system('perldoc',$0)){print "Syntax:  exiftool [OPTIONS] FILE\\n\\n";print "Consult the exiftool documentation for a full list of options.\\n"}unless ($^O eq 'os2'){close STDERR;open STDERR,'>&SAVEERR'}}next}if (defined$deleteOrig and (@newValues or @tags)){if (not @newValues){my$verb=$deleteOrig ? 'deleting' : 'restoring from';Error "Can't specify tags when $verb originals\\n"}elsif ($deleteOrig){Error "Can't use -delete_original when writing.\\n";Error "Maybe you meant -overwrite_original ?\\n"}else {Error "It makes no sense to use -restore_original when writing\\n"}next}if ($overwriteOrig > 1 and $outOpt){Error "Can't overwrite in place when -o option is used\\n";next}if (($tagOut or defined$diff)and ($csv or $json or %printFmt or $tabFormat or $xml or $plot or ($verbose and $html))){my$opt=$tagOut ? '-W' : '-diff';Error "Sorry, $opt may not be combined with -csv, -htmlDump, -j, -p, -t or -X\\n";next}if ($csv and $csv eq 'CSV' and not $isWriting){$json=0;if ($textOut){$textOut2=$textOut;undef$textOut}if ($binaryOutput){$binaryOutput=0;$setCharset='default' unless defined$setCharset}if (%printFmt){Warn "The -csv option has no effect when -p is used\\n";undef$csv}require Image::ExifTool::XMP if$setCharset}if ($plot and $textOut){$textOut2=$textOut;undef$textOut}if ($textOut2){if ($textOverwrite > 1){Error "Can not append to multi-file output format\\n";undef$textOut2;next}if (not $textOverwrite and $mt->Exists($textOut2,1)){Error "Output file $textOut2 already exists\\n";undef$textOut2;next}CreateDirectory($textOut2);if ($mt->Open(\\*OUTFILE,$textOut2,'>')){close(\\*OUTFILE);unlink($textOut2)}else {Error("Error creating $textOut2\\n");undef$textOut2;next}}if ($escapeHTML or $json){$mt->Options(Charset=>'UTF8')if$json;$mt->Options(Escape=>'HTML')if$escapeHTML and not $xml}elsif ($escapeXML and not $xml){$mt->Options(Escape=>'XML')}if ($sortOpt){my$sort=($outFormat > 0 or $xml or $json or $csv or $plot)? 'Tag' : 'Descr';$mt->Options(Sort=>$sort,Sort2=>$sort)}if ($mt->Options('Struct')and not $structOpt){$structOpt=$mt->Options('Struct');require 'Image/ExifTool/XMPStruct.pl'}if ($plot){undef$joinLists;$mt->Options(List=>1);$plot->Settings($mt->Options('Plot'))}elsif ($xml){require Image::ExifTool::XMP;my$charset=$mt->Options('Charset');my%encoding=(UTF8=>'UTF-8',Latin=>'windows-1252',Latin2=>'windows-1250',Cyrillic=>'windows-1251',Greek=>'windows-1253',Turkish=>'windows-1254',Hebrew=>'windows-1255',Arabic=>'windows-1256',Baltic=>'windows-1257',Vietnam=>'windows-1258',MacRoman=>'macintosh',);unless ($encoding{$charset}){$charset='UTF8';$mt->Options(Charset=>$charset)}$fileHeader="<?xml version='1.0' encoding='$encoding{$charset}'?>\\n" ."<rdf:RDF xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#'>\\n";$fileTrailer="</rdf:RDF>\\n";$joinLists=1 if$outFormat > 0;$mt->Options(List=>1)unless$joinLists;$showGroup=$allGroup=1;$binaryOutput=($outFormat > 0 ? undef : 0)if$binaryOutput;$showTagID='D' if$tabFormat and not $showTagID}elsif ($json){if ($json==1){$fileHeader='[';$fileTrailer="]\\n"}else {$fileHeader='Array(';$fileTrailer=");\\n"}if ($binaryOutput){$binaryOutput=0;require Image::ExifTool::XMP if$json==1}$mt->Options(List=>1)unless$joinLists;$showTagID='D' if$tabFormat and not $showTagID}elsif ($structOpt){$mt->Options(List=>1)}else {$joinLists=1}if ($argFormat){$outFormat=3;$allGroup=1 if defined$showGroup}if (Image::ExifTool::IsPC()){tr/\\\\/\\// foreach@files}unless (@files){unless ($outOpt){if ($doGlob and $doGlob==2){Error "No matching files\\n"}else {Error "No file specified\\n"}next}push@files,''}if ($verbose){$disableOutput=1 unless@tags or @exclude or $tagOut;undef$binaryOutput unless$tagOut;if ($html){$html=2;$mt->Options(HtmlDump=>$verbose)}else {$mt->Options(Verbose=>$verbose)unless$tagOut}}elsif (defined$verbose){require FileHandle;STDOUT->autoflush(1);STDERR->autoflush(1)}my$needSave=1;if (@newValues){if ($addGeotime){AddSetTagsFile($setTagsFile='@')unless$setTagsFile and $setTagsFile eq '@';push @{$setTags{$setTagsFile}},$addGeotime;$verbose and print$vout qq(Using default "-$addGeotime"\\n)}my%setTagsIndex;my%addDelOpt=('+'=>'AddValue','-'=>'DelValue',"\\xe2\\x88\\x92"=>'DelValue');$saveCount=0;for (@newValues){if (ref $_ eq 'HASH'){if ($$_{SaveCount}){$saveCount=$mt->SaveNewValues();$needSave=0;push@dynamicFiles,\\$csv if $$_{SaveCount}==$csvSaveCount}next}/(.*?)=(.*)/s or next;
        my ($tag, $newVal) = ($1, $2);
        $tag =~ s/\\ball\\b/\\*/ig;    # replace 'all' with '*' in tag names
        $newVal eq '' and undef $newVal unless $tag =~ s/\\^([-+]*)$/$1/;  # undefined to delete tag
        if ($tag =~ /^(All)?TagsFromFile$/i){defined$newVal or Error("Need file name for -tagsFromFile\\n"),next Command;++$isWriting;if ($newVal eq '@' or not defined FilenameSPrintf($newVal)or grep /\\bfile\\d+:/i,@{$setTags{$newVal}}){push@dynamicFiles,$newVal;next}unless ($mt->Exists($newVal)or $newVal eq '-'){Error "File '\${newVal}' does not exist for -tagsFromFile option\\n";next Command}my$setTags=$setTags{$newVal};if ($setTagsList{$newVal}){my$i=$setTagsIndex{$newVal}|| 0;$setTagsIndex{$newVal}=$i + 1;$setTags=$setTagsList{$newVal}[$i]if$setTagsList{$newVal}[$i]}unless (DoSetFromFile($mt,$newVal,$setTags)){$rtnVal=1;next Command}$needSave=1;next}my%opts=(Shift=>0);$opts{Protected}=1 unless$tag =~ /[?*]/;if ($tag =~ s/<// and defined$newVal){if (defined FilenameSPrintf($newVal)){SlurpFile($newVal,\\$newVal)or next}else {$tag =~ s/([-+]|\\xe2\\x88\\x92)$// and $opts{$addDelOpt{$1}}=1;my$result=Image::ExifTool::IsWritable($tag);if ($result){$opts{ProtectSaved}=$saveCount;push@dynamicFiles,[$tag,$newVal,\\%opts ];++$isWriting}elsif (defined$result){Warn "Tag '\${tag}' is not writable\\n"}else {Warn "Tag '\${tag}' does not exist\\n"}next}}if ($tag =~ s/([-+]|\\xe2\\x88\\x92)$//){$opts{$addDelOpt{$1}}=1;$newVal='' if $1 eq '-' and not defined$newVal}if ($escapeC and defined$newVal){$newVal =~ s/\\\\(x([0-9a-fA-F]{2})|.)/$2 ? chr(hex($2)) : $unescC{$1} || $1/seg}my ($rtn,$wrn)=$mt->SetNewValue($tag,$newVal,%opts);$needSave=1;++$isWriting if$rtn;$wrn and Warning($mt,$wrn);}unless ($csv){for (@exclude){$mt->SetNewValue($_,undef,Replace=>2);$needSave=1}}unless ($isWriting or $outOpt or @tags){Error "Nothing to do.\\n";next}}elsif (grep /^(\\*:)?\\*$/,@exclude){Error "All tags excluded -- nothing to do.\\n";next}if ($isWriting){if (defined$diff){Error "Can't use -diff option when writing tags\\n";next}elsif ($plot){Error "Can't use -plot option when writing tags\\n";next}elsif (@tags and not $outOpt and not $csv){my ($tg,$s)=@tags > 1 ? ("$tags[0] ...",'s'): ($tags[0],'');Warn "Ignored superfluous tag name$s or invalid option$s: -$tg\\n"}}$mt->SaveNewValues()if$outOpt or (@dynamicFiles and $needSave);$multiFile=1 if@files > 1;@exclude and $mt->Options(Exclude=>\\@exclude);undef$binaryOutput if$html;if ($binaryOutput){$outFormat=99;$mt->Options(PrintConv=>0);unless ($textOut or $binaryStdout){binmode(STDOUT);$binaryStdout=1;$mt->Options(TextOut=>($vout=\\*STDERR))}undef$showGroup}if (defined$showGroup and not (@tags and ($allGroup or $csv))and ($sortOpt or not defined$sortOpt)){$mt->Options(Sort=>"Group$showGroup")}if ($textOut){CleanFilename($textOut);$textOut=".$textOut" unless$textOut =~ /[.%]/ or defined$tagOut}if ($outOpt){my$type=GetFileType($outOpt);if ($type){my$canWrite=CanWrite($outOpt);unless ($canWrite){if (defined$canWrite and $canWrite eq ''){$type=Image::ExifTool::GetFileExtension($outOpt);$type=uc($outOpt)unless defined$type}Error "Can't write $type files\\n";next}$scanWritable=$type unless CanCreate($type)}else {$scanWritable=1}$isWriting=1}elsif ($isWriting or defined$deleteOrig){$scanWritable=1}$altEnc=$mt->Options('Charset');undef$altEnc if$altEnc eq 'UTF8';if (not $altEnc and $mt->Options('Lang')ne 'en'){$fixLen=eval {require Unicode::GCString}? 2 : 1}if (@fileOrder){my@allFiles;ProcessFiles($mt,\\@allFiles);my$sortTool=Image::ExifTool->new;$sortTool->Options(FastScan=>$fileOrderFast)if$fileOrderFast;$sortTool->Options(PrintConv=>$mt->Options('PrintConv'));$sortTool->Options(Duplicates=>0);my (%sortBy,%isFloat,@rev,$file);push@rev,(s/^-// ? 1 : 0)foreach@fileOrder;for$file (@allFiles){my@tags;my$info=$sortTool->ImageInfo(Infile($file,1),@fileOrder,\\@tags);for (@tags){$_=$$info{$_};defined $_ or $_='~',next;$isFloat{$_}=Image::ExifTool::IsFloat($_);s/(\\d+)/(length($1) < 12 ? '0'x(12-length($1)) : '') . $1/eg unless$isFloat{$_}}$sortBy{$file}=\\@tags}@files=sort {my ($i,$cmp);for ($i=0;$i<@rev;++$i){my$u=$sortBy{$a}[$i];my$v=$sortBy{$b}[$i];if (not $isFloat{$u}and not $isFloat{$v}){$cmp=$u cmp $v}elsif ($isFloat{$u}and $isFloat{$v}){$cmp=$u <=> $v}else {$cmp=$isFloat{$u}? -1 : 1}return$rev[$i]? -$cmp : $cmp if$cmp}return$a cmp $b}@allFiles}elsif (defined$progress){my@allFiles;ProcessFiles($mt,\\@allFiles);@files=@allFiles}$progressMax=scalar@files if defined$progress;my@dbKeys=keys%database;if (@dbKeys){if (eval {require Cwd}){undef$evalWarning;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};for (@dbKeys){my$db=$database{$_};tr/\\\\/\\// and $database{$_}=$db;my$absPath=AbsPath($_);if (defined$absPath){$database{$absPath}=$db unless$database{$absPath};if ($verbose and $verbose > 1){print$vout "Imported entry for '\${_}' (full path: '\${absPath}')\\n"}}elsif ($verbose and $verbose > 1){print$vout "Imported entry for '\${_}' (no full path)\\n"}}}}ProcessFiles($mt);Error "No file with specified extension\\n" if$filtered and not $validFile;if ($textOut){for (keys%outTrailer){next unless$outTrailer{$_};if ($mt->Open(\\*OUTTRAIL,$_,'>>')){my$fp=\\*OUTTRAIL;print$fp $outTrailer{$_};close$fp}else {Error("Error appending to $_\\n")}}}else {print$sectTrailer if$sectTrailer;print$fileTrailer if$fileTrailer and not $fileHeader;my ($fp,$err);if ($textOut2){if ($mt->Open(\\*OUTFILE,$textOut2,'>')){$fp=\\*OUTFILE}else {Error("Error creating $textOut2\\n");$err=1}}unless ($err){PrintCSV($fp)if$csv and not $isWriting;if ($plot){$plot->Draw($fp || \\*STDOUT);if ($$plot{Error}){Error("Error: $$plot{Error}\\n");$err=1}elsif ($$plot{Warn}){Warn("Warning: $$plot{Warn}\\n")}}}if ($fp){close($fp)or $err=1;if ($err){$mt->Unlink($textOut2)}else {$created{$textOut2}=1}}}my$totWr=$countGoodWr + $countBadWr + $countSameWr + $countCopyWr + $countGoodCr + $countBadCr;if (defined$deleteOrig){unless ($quiet){printf "%5d directories scanned\\n",$countDir if$countDir;printf "%5d directories created\\n",$countNewDir if$countNewDir;printf "%5d files failed condition\\n",$countFailed if$countFailed;printf "%5d image files found\\n",$count}if (@delFiles){if ($deleteOrig==1){printf '%5d originals will be deleted!  Are you sure [y/n]? ',scalar(@delFiles);my$response=<STDIN>;unless ($response =~ /^(y|yes)\\s*$/i){Warn "Originals not deleted.\\n";next}}$countGoodWr=$mt->Unlink(@delFiles);$countBad=scalar(@delFiles)- $countGoodWr}if ($quiet){}elsif ($count and not $countGoodWr and not $countBad){printf "%5d original files found\\n",$countGoodWr}elsif ($deleteOrig){printf "%5d original files deleted\\n",$countGoodWr if$count;printf "%5d originals not deleted due to errors\\n",$countBad if$countBad}else {printf "%5d image files restored from original\\n",$countGoodWr if$count;printf "%5d files not restored due to errors\\n",$countBad if$countBad}}elsif ((not $binaryStdout or $verbose)and not $quiet){my$tot=$count + $countBad;if ($countDir or $totWr or $countFailed or $tot > 1 or $textOut or %countLink){my$o=(($html or $json or $xml or %printFmt or $csv or $plot)and not $textOut)? \\*STDERR : $vout;printf($o "%5d directories scanned\\n",$countDir)if$countDir;printf($o "%5d directories created\\n",$countNewDir)if$countNewDir;printf($o "%5d files failed condition\\n",$countFailed)if$countFailed;printf($o "%5d image files created\\n",$countGoodCr)if$countGoodCr;printf($o "%5d image files updated\\n",$countGoodWr)if$totWr - $countGoodCr - $countBadCr - $countCopyWr;printf($o "%5d image files unchanged\\n",$countSameWr)if$countSameWr;printf($o "%5d image files %s\\n",$countCopyWr,$overwriteOrig ? 'moved' : 'copied')if$countCopyWr;printf($o "%5d files weren't updated due to errors\\n",$countBadWr)if$countBadWr;printf($o "%5d files weren't created due to errors\\n",$countBadCr)if$countBadCr;printf($o "%5d image files read\\n",$count)if ($tot+$countFailed)>1 or ($countDir and not $totWr);printf($o "%5d files could not be read\\n",$countBad)if$countBad;printf($o "%5d output files created\\n",scalar(keys%created))if$textOut or $textOut2;printf($o "%5d output files appended\\n",scalar(keys%appended))if%appended;printf($o "%5d hard links created\\n",$countLink{Hard}|| 0)if$countLink{Hard}or $countLink{BadHard};printf($o "%5d hard links could not be created\\n",$countLink{BadHard})if$countLink{BadHard};printf($o "%5d symbolic links created\\n",$countLink{Sym}|| 0)if$countLink{Sym}or $countLink{BadSym};printf($o "%5d symbolic links could not be created\\n",$countLink{BadSym})if$countLink{BadSym}}}if ($countBadWr or $countBadCr or $countBad){$rtnVal=1}elsif ($countFailed and not ($count or $totWr)and not $rtnVal){$rtnVal=2}Cleanup();}close STAYOPEN if$stayOpen >= 2;Exit$rtnValApp;sub GetImageInfo($$) {my ($et,$orig)=@_;my (@foundTags,@found2,$info,$info2,$et2,$file,$file2,$ind,$g8);if (defined$windowTitle){if ($progressCount >= $progressNext){my$prog=$progressMax ? "$progressCount/$progressMax" : '0/0';my$title=$windowTitle;my ($num,$denom)=split '/',$prog;my$frac=$num / ($denom || 1);my$n=$title =~ s/%(\\d+)b/%b/ ? $1 : 20;my$bar=int($frac * $n + 0.5);my%lkup=(b=>('I' x $bar).('.' x ($n - $bar)),f=>$orig,p=>int(100 * $frac + 0.5),r=>$prog,'%'=>'%',);$title =~ s/%([%bfpr])/$lkup{$1}/eg;SetWindowTitle($title);if (defined$progressMax){undef$progressNext}else {$progressNext += $progressIncr}}++$progressCount unless defined$progressMax}unless (length$orig or $outOpt){Warn qq(Error: Zero-length file name - ""\\n);++$countBad;return}if (@srcFmt){my ($fmt,$first);for$fmt (@srcFmt){$file=$fmt eq '@' ? $orig : FilenameSPrintf($fmt,$orig);$et->Exists($file)and undef($first),last;$verbose and print$vout "Source file $file does not exist\\n";$first=$file unless defined$first}$file=$first if defined$first;my ($d,$f)=Image::ExifTool::SplitFileName($orig);$et->Options(UserParam=>"OriginalDirectory#=$d");$et->Options(UserParam=>"OriginalFileName#=$f")}else {$file=$orig}for$g8 (sort keys%altFile){my$altName=$orig;$altName =~ s/\\$/\\$\\$/g;$altName=FilenameSPrintf($altFile{$g8},$altName);$et->SetAlternateFile($g8,$altName)}my$pipe=$file;if ($doUnzip){if ($file =~ /\\.(gz|bz2)$/i){my$type=lc $1;if ($file =~ /[^-_.'A-Za-z0-9\\/\\\\]/){Warn "Error: Insecure zip file name. Skipped\\n";EFile($file);++$countBad;return}if ($type eq 'gz'){$pipe=qq{gzip -dc "$file" |}}else {$pipe=qq{bzip2 -dc "$file" |}}$$et{TRUST_PIPE}=1}}if (@condition){unless ($file eq '-' or $et->Exists($file)){Warn "Error: File not found - $file\\n";EFile($file);FileNotFound($file);++$countBad;return}my$result;unless ($failCondition){undef$evalWarning;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};my (%info,$condition);my$opts={Duplicates=>1,RequestTags=>\\@requestTags,Verbose=>0,HtmlDump=>0 };$$opts{FastScan}=$fastCondition if defined$fastCondition;@foundTags=('*',@tags)if@tags;$info=$et->ImageInfo(Infile($pipe,$isWriting),\\@foundTags,$opts);for$condition (@condition){my$cond=$et->InsertTagValues($condition,\\@foundTags,\\%info);{package Image::ExifTool;my$self=$et;$result=eval$cond;$@ and $evalWarning=$@}if ($evalWarning){undef$result;if ($verbose){chomp$evalWarning;$evalWarning =~ s/ at \\(eval .*//s;Warn "Condition: $evalWarning - $file\\n"}}last unless$result}undef@foundTags if$fastCondition}unless ($result){Progress($vout,"-------- $file (failed condition)")if$verbose;EFile($file,2);++$countFailed;return}if ($isWriting or $verbose or defined$fastCondition or defined$diff){undef$info;--$$et{FILE_SEQUENCE}}}elsif ($file =~ s/^(\\@JSON:)(.*)/$1/){my$dat=$2;$info=$et->ImageInfo(\\$dat,\\@foundTags);if ($geoOnly){/^Geolocation/ or delete $$info{$_}foreach keys %$info;$file=' '}}if (defined$deleteOrig){Progress($vout,"======== $file")if defined$verbose;++$count;my$original="\${file}_original";$et->Exists($original)or return;if ($deleteOrig){$verbose and print$vout "Scheduled for deletion: $original\\n";push@delFiles,$original}elsif ($et->Rename($original,$file)){$verbose and print$vout "Restored from $original\\n";EFile($file,3);++$countGoodWr}else {Warn "Error renaming $original\\n";EFile($file);++$countBad}return}++$seqFileNum;my ($dir)=Image::ExifTool::SplitFileName($orig);$seqFileDir=$seqFileDir{$dir}=($seqFileDir{$dir}|| 0)+ 1;my$lineCount=0;my ($fp,$outfile,$append);if ($textOut and ($verbose or $et->Options('PrintCSV'))and not ($tagOut or defined$diff or $plot)){($fp,$outfile,$append)=OpenOutputFile($orig);$fp or EFile($file),++$countBad,return;$tmpText=$outfile unless$append;$et->Options(TextOut=>$fp)}if ($isWriting){Progress($vout,"======== $file")if defined$verbose;SetImageInfo($et,$file,$orig);$info=$et->GetInfo('Warning','Error');PrintErrors($et,$info,$file);if (defined$outfile){undef$tmpText;close($fp);$et->Options(TextOut=>$vout);if ($info->{Error}){$et->Unlink($outfile)}elsif ($append){$appended{$outfile}=1 unless$created{$outfile}}else {$created{$outfile}=1}}return}unless ($file eq '-' or $et->Exists($file)or $info){Warn "Error: File not found - $file\\n";FileNotFound($file);defined$outfile and close($fp),undef($tmpText),$et->Unlink($outfile);EFile($file);++$countBad;return}my$o;unless ($binaryOutput or $textOut or %printFmt or $html > 1 or $csv or $plot){if ($html){require Image::ExifTool::HTML;my$f=Image::ExifTool::HTML::EscapeHTML($file);print "<!-- $f -->\\n"}elsif (not ($json or $xml or defined$diff)){$o=\\*STDOUT if ($multiFile and not $quiet)or $progress}}$o=\\*STDERR if$progress and not $o;Progress($o,"======== $file")if$o;if ($info){if (@tags and not %printFmt){@foundTags=@tags;$info=$et->GetInfo(\\@foundTags)}}else {my$oldDups=$et->Options('Duplicates');if (%printFmt){$et->Options(Duplicates=>1);$et->Options(RequestTags=>\\@requestTags);if ($printFmt{SetTags}){$$et{TAGS_FROM_FILE}=1;$et->Options(MakerNotes=>1);$et->Options(Struct=>2);$et->Options(List=>1);$et->Options(CoordFormat=>'%d %d %.8f')unless$et->Options('CoordFormat')}}else {@foundTags=@tags}if (defined$diff){$file2=FilenameSPrintf($diff,$orig);if ($file eq $file2){Warn "Error: Diffing file with itself - $file2\\n";EFile($file);++$countBad;return}if ($et->Exists($file2)){$showGroup=1 unless defined$showGroup;$allGroup=1 unless defined$allGroup;$et->Options(Duplicates=>1,Sort=>"Group$showGroup",Verbose=>0);$et2=Image::ExifTool->new;$et2->Options(%{$$et{OPTIONS}});$et2->Options(ListSep=>$$et{OPTIONS}{ListSep});$et2->Options(ListSplit=>$$et{OPTIONS}{ListSplit});@found2=@foundTags;$info2=$et2->ImageInfo($file2,\\@found2)}else {$info2={Error=>"Diff file not found" }}if ($$info2{Error}){Warn "Error: $$info2{Error} - $file2\\n";EFile($file);++$countBad;return}}$info=$et->ImageInfo(Infile($pipe),\\@foundTags);$et->Options(Duplicates=>$oldDups)}if ($fp){if (defined$outfile){$et->Options(TextOut=>\\*STDOUT);undef$tmpText;if ($info->{Error}){close($fp);$et->Unlink($outfile)}else {++$lineCount}}if ($info->{Error}){Warn "Error: $$info{Error} - $file\\n";EFile($file);++$countBad;return}}if ($binaryOutput or not %$info){my$errs=$et->GetInfo('Warning','Error');PrintErrors($et,$errs,$file)and EFile($file),$rtnVal=1}elsif ($et->GetValue('Error')or ($$et{Validate}and $et->GetValue('Warning'))){$rtnVal=1}unless (defined$outfile or $tagOut){($fp,$outfile,$append)=OpenOutputFile($orig);$fp or EFile($file),++$countBad,return;$tmpText=$outfile if defined$outfile and not $append}if (defined$diff){my (%done,%done2,$wasDiff,@diffs,@groupTags2);my$v=$verbose || 0;print$fp "======== diff < $file > $file2\\n";my ($g2,$same)=(0,0);for (;;){my ($g,$tag2,$i,$key,@dupl,$val2,$t2,$equal,%used);my$tag=shift@foundTags;if (defined$tag){$done{$tag}=1;$g=$et->GetGroup($tag,$showGroup)}else {for (;;){$tag2=shift@found2;defined$tag2 or $g='',last;$done2{$tag2}or $g=$et2->GetGroup($tag2,$showGroup),last}}if ($g ne $g2){for$t2 (@groupTags2){next if$done2{$t2};my$val2=$et2->GetValue($t2);next unless defined$val2;my$name=$outFormat < 1 ? $et2->GetDescription($t2): GetTagName($t2);my$len=LengthUTF8($name);my$pad=$outFormat < 2 ? ' ' x ($len < 32 ? 32 - $len : 0): '';if ($allGroup){my$grp="[$g2]";$grp .= ' ' x (15 - length($grp))if length($grp)< 15 and $outFormat < 2;push@diffs,sprintf "> %s %s%s: %s\\n",$grp,$name,$pad,Printable($val2)}else {push@diffs,sprintf "> %s%s: %s\\n",$name,$pad,Printable($val2)}$done2{$t2}=1}my$str='';$v and ($same or $v > 1)and $str="  ($same same tag" .($same==1 ? '' : 's').')';if (not $allGroup){print$fp "---- $g2 ----$str\\n" if$g2 and ($str or @diffs)}elsif ($str and $g2){printf$fp "   %-13s%s\\n",$g2,$str}@diffs and print($fp @diffs),$wasDiff=1,@diffs=();last unless$g;($g2,$same)=($g,0);@groupTags2=();push@groupTags2,$tag2 if defined$tag2;for$t2 (@found2){$done2{$t2}or $g ne $et2->GetGroup($t2,$showGroup)or push@groupTags2,$t2}}next unless defined$tag;my$val=$et->GetValue($tag);next unless defined$val;my$name=GetTagName($tag);my$desc=$outFormat < 1 ? $et->GetDescription($tag): $name;my@tags2=grep /^$name( |$)/,@groupTags2;T2: foreach$t2 (@tags2){next if$done2{$t2};$tag2=$t2;$val2=$et2->GetValue($t2);next unless defined$val2;IsEqual($val,$val2)and $equal=1,last;if ($$et{DUPL_TAG}{$name}and not @dupl){for ($i=0,$key=$name;$i<=$$et{DUPL_TAG}{$name};++$i,$key="$name ($i)"){push@dupl,$key unless$done{$key}or $g ne $et->GetGroup($key,$showGroup)}@dupl=sort {$$et{FILE_ORDER}{$a}<=> $$et{FILE_ORDER}{$b}}@dupl if@dupl > 1}for (@dupl){next if$used{$_};my$v=$et->GetValue($_);next unless defined($v)and IsEqual($v,$val2);$used{$_}=1;undef($tag2);undef($val2);next T2}last}if ($equal){++$same}else {my$len=LengthUTF8($desc);my$pad=$outFormat < 2 ? ' ' x ($len < 32 ? 32 - $len : 0): '';if ($allGroup){my$grp="[$g]";$grp .= ' ' x (15 - length($grp))if length($grp)< 15 and $outFormat < 2;push@diffs,sprintf "< %s %s%s: %s\\n",$grp,$desc,$pad,Printable($val);if (defined$val2){$grp=' ' x length($grp),$desc=' ' x $len if$v < 3;push@diffs,sprintf "> %s %s%s: %s\\n",$grp,$desc,$pad,Printable($val2)}}else {push@diffs,sprintf "< %s%s: %s\\n",$desc,$pad,Printable($val);$desc=' ' x $len if$v < 3;push@diffs,sprintf "> %s%s: %s\\n",$desc,$pad,Printable($val2)if defined$val2}}$done2{$tag2}=1 if defined$tag2}print$fp "(no metadata differences)\\n" unless$wasDiff;if (defined$outfile){$created{$outfile}=1;close($fp);undef$tmpText}++$count;return}$comma=$outComma{$outfile}if$append and ($textOverwrite & 0x02);if (%printFmt){my ($type,$doc,$grp,$lastDoc,$cache);$fileTrailer='';if ($et->Options('ExtractEmbedded')){$lastDoc=$$et{DOC_COUNT}and $cache={}}else {$lastDoc=0}for ($doc=0;$doc<=$lastDoc;++$doc){my ($skipBody,$opt);for$type (qw(HEAD SECT IF BODY ENDS TAIL)){my$prf=$printFmt{$type}or next;if ($type eq 'HEAD' and defined$outfile){next if$wroteHEAD{$outfile};$wroteHEAD{$outfile}=1}next if$type eq 'BODY' and $skipBody;if ($type eq 'IF' or ($doc > 1 and not $$et{OPTIONS}{IgnoreMinorErrors})){$opt='Silent'}else {$opt='Warn'}if ($lastDoc){if ($doc){next if$type eq 'HEAD' or $type eq 'TAIL';$grp="Doc$doc"}else {$grp='Main'}}my@lines;for (@$prf){my$line=$et->InsertTagValues($_,\\@foundTags,$opt,$grp,$cache);if ($type eq 'IF'){$skipBody=1 unless defined$line}elsif (defined$line){push@lines,$line}}$lineCount += scalar@lines;if ($type eq 'SECT'){my$thisHeader=join '',@lines;if ($sectHeader and $sectHeader ne $thisHeader){print$fp $sectTrailer if$sectTrailer;undef$sectHeader}$sectTrailer='';print$fp $sectHeader=$thisHeader unless$sectHeader}elsif ($type eq 'ENDS'){$sectTrailer .= join '',@lines if defined$sectHeader}elsif ($type eq 'TAIL'){$fileTrailer .= join '',@lines}elsif (@lines){print$fp @lines}}}delete$printFmt{HEAD}unless defined$outfile;my$errs=$et->GetInfo('Warning','Error');PrintErrors($et,$errs,$file)and EFile($file)}elsif ($plot){my$tagExtra=$$et{TAG_EXTRA};my ($tag,%docNum);for$tag (keys %$info){next unless $$tagExtra{$tag}and $$tagExtra{$tag}{G3};$docNum{$tag}=$1 if $$tagExtra{$tag}{G3}=~ /(\\d+)/}$$plot{DocNum}=\\%docNum;$$plot{EE}=1 if$et->Options('ExtractEmbedded');$plot->AddPoints($info,\\@foundTags)}elsif (not $disableOutput){my ($tag,$line,%noDups,%csvInfo,$bra,$ket,$sep,$quote);if ($fp){if ($fileHeader){print$fp $fileHeader unless defined$outfile and ($created{$outfile}or $appended{$outfile});undef$fileHeader unless$textOut}if ($html){print$fp "<table>\\n"}elsif ($xml){my$f=$file;CleanXML(\\$f);print$fp "\\n<rdf:Description rdf:about='\${f}'";print$fp "\\n  xmlns:et='http://ns.exiftool.org/1.0/'";print$fp " et:toolkit='Image::ExifTool $Image::ExifTool::VERSION'";my (%groups,@groups,$grp0,$grp1);for$tag (@foundTags){($grp0,$grp1)=$et->GetGroup($tag);unless ($grp1){next unless defined$forcePrint;$grp0=$grp1='Unknown'}AddGroups($$info{$tag},$grp0,\\%groups,\\@groups)if ref $$info{$tag};next if$groups{$grp1};$groups{$grp1}=$grp0;push@groups,$grp1}for$grp1 (@groups){my$grp=$groups{$grp1};unless ($grp eq $grp1 and $grp =~ /^(ExifTool|File|Composite|Unknown)$/){$grp .= "/$grp1"}print$fp "\\n  xmlns:$grp1='http://ns.exiftool.org/$grp/1.0/'"}print$fp '>' if$outFormat < 1;$ind=$outFormat >= 0 ? ' ' : '   '}elsif ($json){($bra,$ket,$sep)=$json==1 ? ('{','}',':'): ('Array(',')',' =>');$quote=1 if $$et{OPTIONS}{StructFormat}and $$et{OPTIONS}{StructFormat}eq 'JSONQ';print$fp ",\\n" if$comma;print$fp qq($bra\\n  "SourceFile"$sep ),EscapeJSON(MyConvertFileName($et,$file),1);$comma=1;$ind=(defined$showGroup and not $allGroup)? '    ' : '  '}elsif ($csv){my$file2=MyConvertFileName($et,$file);$database{$file2}=\\%csvInfo;push@csvFiles,$file2}}my$noDups=($json or ($xml and $outFormat > 0));my$printConv=$et->Options('PrintConv');my$lastGroup='';my$i=-1;TAG: foreach$tag (@foundTags){++$i;my$tagName=GetTagName($tag);my ($group,$valList);my$val=$$info{$tag};$isBinary=(ref$val eq 'SCALAR' and defined$binaryOutput);if (ref$val){if (defined$binaryOutput and not $binaryOutput and $$et{TAG_INFO}{$tag}{Protected}){my$lcTag=lc$tag;$lcTag =~ s/ .*//;next unless $$et{REQ_TAG_LOOKUP}{$lcTag}or ($$et{OPTIONS}{RequestAll}|| 0)> 2}$val=ConvertBinary($val);next unless defined$val;if ($structOpt and ref$val){$val=Image::ExifTool::XMP::SerializeStruct($et,$val)unless$xml or $json}elsif (ref$val eq 'ARRAY'){if (defined$listItem){$val=$$val[$listItem]}elsif ($binaryOutput){if ($tagOut){$valList=$val;$val=shift @$valList}else {$val=join defined$binSep ? $binSep : "\\n",@$val}}elsif ($joinLists){$val=join$listSep,@$val}}}if (not defined$val){next if$binaryOutput;if (defined$forcePrint){$val=$forcePrint}elsif (not $csv){next}}if (defined$showGroup){$group=$et->GetGroup($tag,$showGroup);next if$noDups and $tag =~ /^(.*?) ?\\(/ and defined $$info{$1}and $group eq $et->GetGroup($1,$showGroup);if (not $group and ($xml or $json or $csv)){if ($showGroup !~ /\\b4\\b/){$group='Unknown'}elsif ($json and not $allGroup){$group='Copy0'}}if ($fp and not ($allGroup or $csv)){if ($lastGroup ne $group){if ($html){my$cols=1;++$cols if$outFormat==0 or $outFormat==1;++$cols if$showTagID;print$fp "<tr><td colspan=$cols bgcolor='#dddddd'>$group</td></tr>\\n"}elsif ($json){print$fp "\\n  $ket" if$lastGroup;print$fp ',' if$lastGroup or $comma;print$fp qq(\\n  "$group"$sep $bra);undef$comma;undef%noDups}else {print$fp "---- $group ----\\n"}$lastGroup=$group}undef$group}}elsif ($noDups){next if$tag =~ /^(.*?) ?\\(/ and defined $$info{$1}}++$lineCount;for (;;){if ($tagOut){my$ext=SuggestedExtension($et,\\$val,$tagName);if (%wext and ($wext{$ext}|| $wext{'*'}|| -1)< 0){if ($verbose and $verbose > 1){print$vout "Not writing $ext output file for $tagName\\n"}next TAG}my@groups=$et->GetGroup($tag);defined$outfile and close($fp),undef($tmpText);my$org=$et->GetValue('OriginalRawFileName')|| $et->GetValue('OriginalFileName');($fp,$outfile,$append)=OpenOutputFile($orig,$tagName,\\@groups,$ext,$org);$fp or ++$countBad,next TAG;$tmpText=$outfile unless$append}if ($binaryOutput){print$fp $val;print$fp $binTerm if defined$binTerm;if ($tagOut){if ($append){$appended{$outfile}=1 unless$created{$outfile}}else {$created{$outfile}=1}close($fp);undef$tmpText;$verbose and print$vout "Wrote $tagName to $outfile\\n";undef$outfile;undef$fp;next TAG unless$valList and @$valList;$val=shift @$valList;next}next TAG}last}if ($csv){my$tn=$tagName;$tn .= '#' if$tag =~ /#/;my$gt=$group ? "$group:$tn" : $tn;my$lcTag=lc$gt;next if defined$csvInfo{$lcTag}and $tag =~ /\\(/;$csvInfo{$lcTag}=$val;if (defined$csvTags{$lcTag}){$csvTags{$lcTag}=$gt if defined $$info{$tag};next}if ($group and defined$csvTags[$i]and $csvTags[$i]=~ /^(.*):$tn$/i){next if$group eq 'Unknown';if ($1 eq 'unknown'){delete$csvTags{$csvTags[$i]};$csvTags{$lcTag}=defined($val)? $gt : '';$csvTags[$i]=$lcTag;next}}$csvTags{$lcTag}=defined($val)? $gt : '';if (@csvFiles==1){push@csvTags,$lcTag}elsif (@csvTags){undef@csvTags}next}my$desc=$outFormat > 0 ? $tagName : $et->GetDescription($tag);if ($xml){my$tok="$group:$tagName";if ($outFormat > 0){if ($structOpt and ref$val){$val=Image::ExifTool::XMP::SerializeStruct($et,$val)}if ($escapeHTML){$val =~ tr/\\0-\\x08\\x0b\\x0c\\x0e-\\x1f/./;Image::ExifTool::XMP::FixUTF8(\\$val)unless$altEnc;$val=Image::ExifTool::HTML::EscapeHTML($val,$altEnc)}else {CleanXML(\\$val)}unless ($noDups{$tok}){$isCRLF and $val =~ s/\\x0d\\x0a/\\x0a/g;print$fp "\\n $tok='\${val}'";$noDups{$tok}=1}next}my ($xtra,$valNum,$descClose);if ($showTagID){my ($id,$lang)=$et->GetTagID($tag);if ($id =~ /^\\d+$/){$id=sprintf("0x%.4x",$id)if$showTagID eq 'H'}else {$id=Image::ExifTool::XMP::FullEscapeXML($id)}$xtra=" et:id='\${id}'";$xtra .= " xml:lang='\${lang}'" if$lang}else {$xtra=''}if ($tabFormat){my$table=$et->GetTableName($tag);my$index=$et->GetTagIndex($tag);$xtra .= " et:table='\${table}'";$xtra .= " et:index='\${index}'" if defined$index}my$lastVal=$val;for ($valNum=0;$valNum<2;++$valNum){$val=FormatXML($val,$ind,$group);$isCRLF and $val =~ s/\\x0d\\x0a/\\x0a/g;if ($outFormat >= 0){print$fp "\\n <$tok$xtra$val</$tok>";last}elsif ($valNum==0){CleanXML(\\$desc);if ($xtra){print$fp "\\n <$tok>";print$fp "\\n  <rdf:Description$xtra>";$descClose="\\n  </rdf:Description>"}else {print$fp "\\n <$tok rdf:parseType='Resource'>";$descClose=''}print$fp "\\n   <et:desc>$desc</et:desc>";if ($printConv){print$fp "\\n   <et:prt$val</et:prt>";$val=$et->GetValue($tag,'ValueConv');$val='' unless defined$val;next unless IsEqual($val,$lastVal);print$fp "$descClose\\n </$tok>";last}}print$fp "\\n   <et:val$val</et:val>";print$fp "$descClose\\n </$tok>";last}next}elsif ($json){my$tok=$allGroup ? "$group:$tagName" : $tagName;next if$noDups{$tok};$noDups{$tok}=1;print$fp ',' if$comma;print$fp qq(\\n$ind"$tok"$sep );if ($showTagID or $outFormat < 0){$val={val=>$val };if ($showTagID){my ($id,$lang)=$et->GetTagID($tag);$id=sprintf('0x%.4x',$id)if$showTagID eq 'H' and $id =~ /^\\d+$/;$$val{lang}=$lang if$lang;$$val{id}=$id}if ($tabFormat){$$val{table}=$et->GetTableName($tag);my$index=$et->GetTagIndex($tag);$$val{index}=$index if defined$index}if ($outFormat < 0){$$val{desc}=$desc;if ($printConv){my$num=$et->GetValue($tag,'ValueConv');$$val{num}=$num if defined$num and not IsEqual($num,$$val{val})}my$ex=$$et{TAG_EXTRA}{$tag};$$val{'fmt'}=$$ex{G6}if defined $$ex{G6};if (defined $$ex{BinVal}){my$max=($$et{OPTIONS}{LimitLongValues}- 5)/ 3;if ($max >= 0 and length($$ex{BinVal})> int($max)){$max=int$max;$$val{'hex'}=join ' ',unpack("(H2)$max",$$ex{BinVal}),'[...]'}else {$$val{'hex'}=join ' ',unpack '(H2)*',$$ex{BinVal}}}}}FormatJSON($fp,$val,$ind,$quote);$comma=1;next}my$id;if ($showTagID){$id=$et->GetTagID($tag);if ($id =~ /^(\\d+)(\\.\\d+)?$/){$id=sprintf("0x%.4x",$1)if$showTagID eq 'H'}else {$id='-'}}if ($escapeC){$val =~ s/([\\0-\\x1f\\\\\\x7f])/$escC{$1} || sprintf('\\x%.2x', ord $1)/eg}else {$val =~ tr/\\x01-\\x1f\\x7f/./;$val =~ s/\\x00//g;$val =~ s/\\s+$//}if ($html){print$fp "<tr>";print$fp "<td>$group</td>" if defined$group;print$fp "<td>$id</td>" if$showTagID;print$fp "<td>$desc</td>" if$outFormat <= 1;print$fp "<td>$val</td></tr>\\n"}else {my$buff='';if ($tabFormat){$buff="$group\\t" if defined$group;$buff .= "$id\\t" if$showTagID;if ($outFormat <= 1){$buff .= "$desc\\t$val\\n"}elsif (defined$line){$line .= "\\t$val"}else {$line=$val}}elsif ($outFormat < 0){$buff="[$group] " if defined$group;$buff .= "$id " if$showTagID;$buff .= "$desc\\n      $val\\n"}elsif ($outFormat==0 or $outFormat==1){my$wid;my$len=0;if (defined$group){$buff=sprintf("%-15s ","[$group]");$len=16}if ($showTagID){$wid=($showTagID eq 'D')? 5 : 6;$len += $wid + 1;($wid=$len - length($buff)- 1)< 1 and $wid=1;$buff .= sprintf "%\${wid}s ",$id}$wid=32 - (length($buff)- $len);my$padLen=$wid - LengthUTF8($desc);$padLen=0 if$padLen < 0;$buff .= $desc .(' ' x $padLen).": $val\\n"}elsif ($outFormat==2){$buff="[$group] " if defined$group;$buff .= "$id " if$showTagID;$buff .= "$tagName: $val\\n"}elsif ($argFormat){$buff='-';$buff .= "$group:" if defined$group;$tagName .= '#' if$tag =~ /#/;$buff .= "$tagName=$val\\n"}else {$buff="$group " if defined$group;$buff .= "$id " if$showTagID;$buff .= "$val\\n"}print$fp $buff}if ($tagOut){if ($append){$appended{$outfile}=1 unless$created{$outfile}}else {$created{$outfile}=1}close($fp);undef$tmpText;$verbose and print$vout "Wrote $tagName to $outfile\\n";undef$outfile;undef$fp}}if ($fp){if ($html){print$fp "</table>\\n"}elsif ($xml){print$fp $outFormat < 1 ? "\\n</rdf:Description>\\n" : "/>\\n"}elsif ($json){print$fp "\\n  $ket" if$lastGroup;print$fp "\\n$ket";$comma=1}elsif ($tabFormat and $outFormat > 1){print$fp "$line\\n" if defined$line}}}if (defined$outfile){if ($textOverwrite & 0x02){$outComma{$outfile}=$comma;$outTrailer{$outfile}='';$outTrailer{$outfile}.= $sectTrailer and $sectTrailer='' if$sectTrailer;$outTrailer{$outfile}.= $fileTrailer if$fileTrailer}else {print$fp $sectTrailer and $sectTrailer='' if$sectTrailer;print$fp $fileTrailer if$fileTrailer}close($fp);undef$tmpText;if ($lineCount){if ($append){$appended{$outfile}=1 unless$created{$outfile}}else {$created{$outfile}=1}}else {$et->Unlink($outfile)unless$append}undef$comma}++$count}sub SetImageInfo($$$) {my ($et,$file,$orig)=@_;my ($outfile,$restored,$isTemporary,$isStdout,$outType,$tagsFromSrc);my ($hardLink,$symLink,$testName,$sameFile);my$infile=$file;if (defined$tmpFile){$et->Unlink($tmpFile);undef$tmpFile}delete $$et{VALUE}{Error};delete $$et{VALUE}{Warning};if (defined$outOpt){if ($outOpt =~ /^-(\\.\\w+)?$/){$outType=GetFileType($outOpt)if $1;$outfile='-';$isStdout=1}else {$outfile=FilenameSPrintf($outOpt,$orig);if ($outfile eq ''){Warn "Error: Can't create file with zero-length name from $orig\\n";EFile($infile);++$countBadCr;return 0}}if (not $isStdout and (($et->IsDirectory($outfile)and not $listDir)or $outfile =~ /\\/$/)){$outfile .= '/' unless$outfile =~ /\\/$/;my$name=$file;$name =~ s/^.*\\///s;$outfile .= $name}else {my$srcType=GetFileType($file)|| '';$outType or $outType=GetFileType($outfile);if ($outType and ($srcType ne $outType or $outType eq 'ICC')and $file ne '-'){unless (CanCreate($outType)){my$what=$srcType ? 'other types' : 'scratch';WarnOnce "Error: Can't create $outType files from $what\\n";EFile($infile);++$countBadCr;return 0}if ($file ne ''){$et->RestoreNewValues()unless$restored;$restored=1;my@setTags=@tags;for (@exclude){push@setTags,"-$_"}my%forceCopy=(ICC=>'ICC_Profile',VRD=>'CanonVRD',DR4=>'CanonDR4',);push@setTags,$forceCopy{$outType}if$forceCopy{$outType};if (not %setTags or (@setTags and not $setTags{'@'})){return 0 unless DoSetFromFile($et,$file,\\@setTags)}elsif (@setTags){push@setTags,@{$setTags{'@'}};$tagsFromSrc=\\@setTags}$file=''}}}unless ($isStdout){$outfile=NextUnusedFilename($outfile);if ($et->Exists($outfile,1)and not $doSetFileName){Warn "Error: '\${outfile}' already exists - $infile\\n";EFile($infile);++$countBadWr;return 0}}}elsif ($file eq '-'){$isStdout=1}if (@dynamicFiles){$et->RestoreNewValues()unless$restored;my ($dyFile,%setTagsIndex);for$dyFile (@dynamicFiles){if (not ref$dyFile){my ($fromFile,$setTags);if ($dyFile eq '@'){$fromFile=$orig;$setTags=$tagsFromSrc || $setTags{$dyFile}}else {$fromFile=FilenameSPrintf($dyFile,$orig);defined$fromFile or EFile($infile),++$countBadWr,return 0;$setTags=$setTags{$dyFile}}if ($setTagsList{$dyFile}){my$i=$setTagsIndex{$dyFile}|| 0;$setTagsIndex{$dyFile}=$i + 1;$setTags=$setTagsList{$dyFile}[$i]if$setTagsList{$dyFile}[$i]}return 0 unless DoSetFromFile($et,$fromFile,$setTags)}elsif (ref$dyFile eq 'ARRAY'){my$fname=FilenameSPrintf($$dyFile[1],$orig);my ($buff,$rtn,$wrn);my$opts=$$dyFile[2];if (defined$fname and SlurpFile($fname,\\$buff)){$verbose and print$vout "Reading $$dyFile[0] from $fname\\n";($rtn,$wrn)=$et->SetNewValue($$dyFile[0],$buff,%$opts);$wrn and Warn "$wrn\\n"}$rtn or $et->SetNewValue($$dyFile[0],undef,Replace=>2,ProtectSaved=>$$opts{ProtectSaved});next}elsif (ref$dyFile eq 'SCALAR'){my ($f,$found,$csvTag,$tryTag,$tg);undef$evalWarning;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};my$old=$et->Options('Charset');$et->Options(Charset=>'UTF8')if$csv eq 'JSON';for$f ('*',MyConvertFileName($et,$file)){my$csvInfo=$database{$f};unless ($csvInfo){next if$f eq '*';my$absPath=AbsPath($f);next unless defined$absPath and $csvInfo=$database{$absPath}}$found=1;if ($verbose){print$vout "Setting new values from $csv database\\n";print$vout 'Including tags: ',join(' ',@tags),"\\n" if@tags;print$vout 'Excluding tags: ',join(' ',@exclude),"\\n" if@exclude}my@tryTags=(@exclude,@tags);for (@tryTags){tr/-0-9a-zA-Z_:#?*//dc;s/(^|:)(all:)+/$1/ig;s/(^|:)all(#?)$/$1*$2/i;tr/?/./;s/\\*/.*/g}for$csvTag (OrderedKeys($csvInfo)){next if$csvTag =~ /^([-_0-9A-Z]+:)*(SourceFile|Directory|FileName)$/i;if (@tryTags){my ($i,$tryGrp,$matched);TryMatch: for ($i=0;$i<@tryTags;++$i){$tryTag=$tryTags[$i];if ($tryTag =~ /:/){next unless$csvTag =~ /:/;my@csvGrps=split /:/,$csvTag;my@tryGrps=split /:/,$tryTag;my$tryName=pop@tryGrps;next unless pop(@csvGrps)=~ /^$tryName$/i;for$tryGrp (@tryGrps){next TryMatch unless grep /^$tryGrp$/i,@csvGrps}$matched=1;last}$csvTag =~ /^([-_0-9A-Z]+:)*$tryTag$/i and $matched=1,last}next if$matched ? $i < @exclude : @tags}my ($rtn,$wrn)=$et->SetNewValue($csvTag,$$csvInfo{$csvTag},Protected=>1,AddValue=>$csvAdd,ProtectSaved=>$csvSaveCount);$wrn and Warn "$wrn\\n" if$verbose}}$et->Options(Charset=>$old)if$csv eq 'JSON';unless ($found){Warn("No SourceFile '\${file}' in imported $csv database\\n");my$absPath=AbsPath($file);Warn("(full path: '\${absPath}')\\n")if defined$absPath and $absPath ne $file;return 0}}}}if ($isStdout){$outfile=\\*STDOUT;unless ($binaryStdout){binmode(STDOUT);$binaryStdout=1}}else {$hardLink=$et->GetNewValues('HardLink');$symLink=$et->GetNewValues('SymLink');$testName=$et->GetNewValues('TestName');$hardLink=FilenameSPrintf($hardLink,$orig)if defined$hardLink;$symLink=FilenameSPrintf($symLink,$orig)if defined$symLink;my$newFileName=$et->GetNewValues('FileName');my$newDir=$et->GetNewValues('Directory');if (defined$newFileName and not length$newFileName){Warning($et,"New file name is empty - $infile");undef$newFileName}if (defined$testName){my$err;$err="You shouldn't write FileName or Directory with TestFile" if defined$newFileName or defined$newDir;$err="The -o option shouldn't be used with TestFile" if defined$outfile;$err and Warn("Error: $err - $infile\\n"),EFile($infile),++$countBadWr,return 0;$testName=FilenameSPrintf($testName,$orig);$testName=Image::ExifTool::GetNewFileName($file,$testName)if$file ne ''}if (defined$newFileName or defined$newDir or ($doSetFileName and defined$outfile)){if ($newFileName){$newFileName=FilenameSPrintf($newFileName,$orig);if (defined$outfile){$outfile=Image::ExifTool::GetNewFileName($file,$outfile)if$file ne '';$outfile=Image::ExifTool::GetNewFileName($outfile,$newFileName)}elsif ($file ne ''){$outfile=Image::ExifTool::GetNewFileName($file,$newFileName)}}if ($newDir){$newDir=FilenameSPrintf($newDir,$orig);$outfile=Image::ExifTool::GetNewFileName(defined$outfile ? $outfile : $file,$newDir)}$outfile=NextUnusedFilename($outfile,$infile);if ($et->Exists($outfile,1)){if ($infile eq $outfile){undef$outfile}elsif ($et->IsSameFile($infile,$outfile)){$sameFile=$outfile}else {Warn "Error: '\${outfile}' already exists - $infile\\n";EFile($infile);++$countBadWr;return 0}}}if (defined$outfile){defined$verbose and print$vout "'\${infile}' --> '\${outfile}'\\n";CreateDirectory($outfile);$tmpFile=$outfile if defined$outOpt}unless (defined$tmpFile){my ($numSet,$numPseudo)=$et->CountNewValues();if ($numSet!=$numPseudo and $et->IsDirectory($file)){print$vout "Can't write real tags to a directory - $infile\\n" if defined$verbose;$numSet=$numPseudo}if ($et->Exists($file)){unless ($numSet){print$vout "Nothing changed in $file\\n" if defined$verbose;EFile($infile,1);++$countSameWr;return 1}}elsif (CanCreate($file)){if ($numSet==$numPseudo){Warn("Error: Nothing to write - $file\\n");EFile($infile,1);++$countBadWr;return 0}unless (defined$outfile){$outfile=$file;$file=''}}else {Warn "Error: File not found - $file\\n";EFile($infile);FileNotFound($file);++$countBadWr;return 0}if ($numSet==$numPseudo){my ($r0,$r1,$r2,$r3)=(0,0,0,0);if (defined$outfile){$r0=$et->SetFileName($file,$outfile);$file=$$et{NewName}if$r0 > 0}unless ($r0 < 0){$r1=$et->SetFileModifyDate($file,undef,'FileCreateDate');$r2=$et->SetFileModifyDate($file);$r3=$et->SetSystemTags($file)}if ($r0 > 0 or $r1 > 0 or $r2 > 0 or $r3 > 0){EFile($infile,3);++$countGoodWr}elsif ($r0 < 0 or $r1 < 0 or $r2 < 0 or $r3 < 0){EFile($infile);++$countBadWr;return 0}else {EFile($infile,1);++$countSameWr}if (defined$hardLink or defined$symLink or defined$testName){DoHardLink($et,$file,$hardLink,$symLink,$testName)}return 1}if (not defined$outfile or defined$sameFile){$outfile="\${file}_exiftool_tmp";if ($et->Exists($outfile)){Warn("Error: Temporary file already exists: $outfile\\n");EFile($infile);++$countBadWr;return 0}$isTemporary=1}$tmpFile=$outfile}}my$success=$et->WriteInfo(Infile($file),$outfile,$outType);if ($success and (defined$hardLink or defined$symLink or defined$testName)){my$src=defined$outfile ? $outfile : $file;DoHardLink($et,$src,$hardLink,$symLink,$testName)}my ($aTime,$mTime,$cTime,$doPreserve);$doPreserve=$preserveTime unless$file eq '';if ($doPreserve and $success){($aTime,$mTime,$cTime)=$et->GetFileTime($file);undef$cTime if $$et{WRITTEN}{FileCreateDate};if ($$et{WRITTEN}{FileModifyDate}or $doPreserve==2){if (defined$cTime){undef$aTime;undef$mTime}else {undef$doPreserve}}}if ($success==1){if (defined$tmpFile){if ($et->Exists($file)){$et->SetFileTime($tmpFile,$aTime,$mTime,$cTime)if$doPreserve;if ($isTemporary){$et->CopyFileAttrs($file,$outfile);my$original="\${file}_original";if (not $overwriteOrig and not $et->Exists($original)){if (not $et->Rename($file,$original)or $et->Exists($file)){Error "Error renaming $file\\n";return 0}}my$dstFile=defined$sameFile ? $sameFile : $file;if ($overwriteOrig > 1){my ($err,$buff);my$newFile=$tmpFile;$et->Open(\\*NEW_FILE,$newFile)or Error("Error opening $newFile\\n"),return 0;binmode(NEW_FILE);$critical=1;undef$tmpFile;if ($et->Open(\\*ORIG_FILE,$file,'+<')){binmode(ORIG_FILE);while (read(NEW_FILE,$buff,65536)){print ORIG_FILE$buff or $err=1}close(NEW_FILE);eval {truncate(ORIG_FILE,tell(ORIG_FILE))}or $err=1;close(ORIG_FILE)or $err=1;if ($err){Warn "Couldn't overwrite in place - $file\\n";unless ($et->Rename($newFile,$file)or ($et->Unlink($file)and $et->Rename($newFile,$file))){Error("Error renaming $newFile to $file\\n");undef$critical;SigInt()if$interrupted;return 0}}else {$et->SetFileModifyDate($file,$cTime,'FileCreateDate',1);$et->SetFileModifyDate($file,$mTime,'FileModifyDate',1);$et->Unlink($newFile);if ($doPreserve){$et->SetFileTime($file,$aTime,$mTime,$cTime);$preserveTime{$file}=[$aTime,$mTime,$cTime ]}}EFile($infile,3);++$countGoodWr}else {close(NEW_FILE);Warn "Error opening $file for writing\\n";EFile($infile);$et->Unlink($newFile);++$countBadWr}undef$critical;SigInt()if$interrupted}elsif ($et->Rename($tmpFile,$dstFile)){EFile($infile,3);++$countGoodWr}else {my$newFile=$tmpFile;undef$tmpFile;if (not $et->Unlink($file)){Warn "Error renaming temporary file to $dstFile\\n";EFile($infile);$et->Unlink($newFile);++$countBadWr}elsif (not $et->Rename($newFile,$dstFile)){Warn "Error renaming temporary file to $dstFile\\n";EFile($infile);++$countBadWr}else {EFile($infile,3);++$countGoodWr}}}elsif ($overwriteOrig){EFile($infile,3);$et->Unlink($file)or Warn "Error erasing original $file\\n";++$countGoodWr}else {EFile($infile,4);++$countGoodCr}}else {EFile($infile,4);++$countGoodCr}}else {EFile($infile,3);++$countGoodWr}}elsif ($success){EFile($infile,1);if ($isTemporary){$et->Unlink($tmpFile);++$countSameWr}else {$et->SetFileTime($outfile,$aTime,$mTime,$cTime)if$doPreserve;if ($overwriteOrig){$et->Unlink($file)or Warn "Error erasing original $file\\n"}++$countCopyWr}print$vout "Nothing changed in $file\\n" if defined$verbose}else {EFile($infile);$et->Unlink($tmpFile)if defined$tmpFile;++$countBadWr}undef$tmpFile;return$success}sub DoHardLink($$$$$) {my ($et,$src,$hardLink,$symLink,$testName)=@_;if (defined$hardLink){$hardLink=NextUnusedFilename($hardLink);if ($et->SetFileName($src,$hardLink,'Link')> 0){$countLink{Hard}=($countLink{Hard}|| 0)+ 1}else {$countLink{BadHard}=($countLink{BadHard}|| 0)+ 1}}if (defined$symLink){$symLink=NextUnusedFilename($symLink);if ($et->SetFileName($src,$symLink,'SymLink')> 0){$countLink{Sym}=($countLink{Sym}|| 0)+ 1}else {$countLink{BadSym}=($countLink{BadSym}|| 0)+ 1}}if (defined$testName){$testName=NextUnusedFilename($testName,$src);if ($usedFileName{$testName}){$et->Warn("File '\${testName}' would exist")}elsif ($et->SetFileName($src,$testName,'Test',$usedFileName{$testName})==1){$usedFileName{$testName}=1;$usedFileName{$src}=0}}}sub CleanXML($) {my$strPt=shift;$$strPt =~ tr/\\0-\\x08\\x0b\\x0c\\x0e-\\x1f/./;Image::ExifTool::XMP::FixUTF8($strPt)unless$altEnc;$$strPt=Image::ExifTool::XMP::EscapeXML($$strPt)}sub EncodeXML($) {my$strPt=shift;if ($$strPt =~ /[\\0-\\x08\\x0b\\x0c\\x0e-\\x1f]/ or (not $altEnc and Image::ExifTool::IsUTF8($strPt)< 0)){$$strPt=Image::ExifTool::XMP::EncodeBase64($$strPt);return 'http://www.w3.org/2001/XMLSchema#base64Binary'}elsif ($escapeHTML){$$strPt=Image::ExifTool::HTML::EscapeHTML($$strPt,$altEnc)}else {$$strPt=Image::ExifTool::XMP::EscapeXML($$strPt)}return ''}sub FormatXML($$$) {local $_;my ($val,$ind,$grp)=@_;my$gt='>';if (ref$val eq 'ARRAY'){my$val2="\\n$ind <rdf:Bag>";for (@$val){$val2 .= "\\n$ind  <rdf:li" .FormatXML($_,"$ind  ",$grp)."</rdf:li>"}$val="$val2\\n$ind </rdf:Bag>\\n$ind"}elsif (ref$val eq 'HASH'){$gt=" rdf:parseType='Resource'>";my$val2='';for (OrderedKeys($val)){my ($ns,$tg)=($grp,$_);if (/^(.*?):(.*)/){if ($grp eq 'JSON'){$tg =~ tr/:/_/}else {($ns,$tg)=($1,$2)}}my$name;for$name ($ns,$tg){$name =~ tr/-_A-Za-z0-9.//dc;$name='_' .$name if$name !~ /^[_A-Za-z]/}my$tok=$ns .':' .$tg;$val2 .= "\\n$ind <$tok" .FormatXML($$val{$_},"$ind ",$grp)."</$tok>"}$val="$val2\\n$ind"}else {my$enc=EncodeXML(\\$val);$gt=" rdf:datatype='\${enc}'>\\n" if$enc}return$gt .$val}sub EscapeJSON($;$) {my ($str,$quote)=@_;unless ($quote){return lc($str)if$str =~ /^(true|false)$/i and $json < 2;return$str if$str =~ /^-?(\\d|[1-9]\\d{1,14})(\\.\\d{1,16})?(e[-+]?\\d{1,3})?$/i}if ($json < 2 and defined$binaryOutput and Image::ExifTool::IsUTF8(\\$str)< 0){return '"base64:' .Image::ExifTool::XMP::EncodeBase64($str,1).'"'}$str =~ s/(["\\t\\n\\r\\\\])/\\\\$jsonChar{$1}/sg;if ($json < 2){$str =~ tr/\\0//d;$str =~ s/([\\0-\\x1f\\x7f])/sprintf("\\\\u%.4X",ord $1)/sge;Image::ExifTool::XMP::FixUTF8(\\$str)unless$altEnc}else {$str =~ s/\\0+$// unless$isBinary;$str =~ s/\\$/\\\\\\$/sg;$str =~ s/([\\0-\\x1f\\x7f])/sprintf("\\\\x%.2X",ord $1)/sge}return '"' .$str .'"'}sub FormatJSON($$$;$) {local $_;my ($fp,$val,$ind,$quote)=@_;my$comma;if (not ref$val){print$fp EscapeJSON($val,$quote)}elsif (ref$val eq 'ARRAY'){if ($joinLists and not ref $$val[0]){print$fp EscapeJSON(join($listSep,@$val),$quote)}else {my ($bra,$ket)=$json==1 ? ('[',']'): ('Array(',')');print$fp $bra;for (@$val){print$fp ',' if$comma;FormatJSON($fp,$_,$ind,$quote);$comma=1,}print$fp $ket,}}elsif (ref$val eq 'HASH'){my ($bra,$ket,$sep)=$json==1 ? ('{','}',':'): ('Array(',')',' =>');print$fp $bra;for (OrderedKeys($val)){print$fp ',' if$comma;my$key=EscapeJSON($_,1);print$fp qq(\\n$ind  $key$sep );if ($showTagID and $_ eq 'id' and $showTagID eq 'H' and $$val{$_}=~ /^\\d+\\.\\d+$/){print$fp qq{"$$val{$_}"}}else {FormatJSON($fp,$$val{$_},"$ind  ",$quote)}$comma=1,}print$fp "\\n$ind$ket",}else {print$fp '"<err>"'}}sub FormatCSV($) {my$val=shift;if ($setCharset and ($val =~ /[^\\x09\\x0a\\x0d\\x20-\\x7e\\x80-\\xff]/ or ($setCharset eq 'UTF8' and Image::ExifTool::IsUTF8(\\$val)< 0))){$val='base64:' .Image::ExifTool::XMP::EncodeBase64($val,1)}$val=qq{"$val"} if$val =~ s/"/""/g or $val =~ /(^\\s+|\\s+$)/ or $val =~ /[\\n\\r]|\\Q$csvDelim/;return$val}sub PrintCSV(;$) {my$fp=shift || \\*STDOUT;my ($file,$lcTag,@tags);@csvTags or @csvTags=sort keys%csvTags;for$lcTag (@csvTags){push@tags,FormatCSV($csvTags{$lcTag})if$csvTags{$lcTag}}print$fp join($csvDelim,'SourceFile',@tags),"\\n";my$empty=defined($forcePrint)? $forcePrint : '';for$file (@csvFiles){my@vals=(FormatCSV($file));my$csvInfo=$database{$file};for$lcTag (@csvTags){next unless$csvTags{$lcTag};my$val=$$csvInfo{$lcTag};defined$val or push(@vals,$empty),next;push@vals,FormatCSV($val)}print$fp join($csvDelim,@vals),"\\n"}}sub AddGroups($$$$) {my ($val,$grp,$groupHash,$groupList)=@_;my ($key,$val2);if (ref$val eq 'HASH'){for$key (sort keys %$val){if ($key =~ /^(.*?):/ and not $$groupHash{$1}and $grp ne 'JSON'){$$groupHash{$1}=$grp;push @$groupList,$1}AddGroups($$val{$key},$grp,$groupHash,$groupList)if ref $$val{$key}}}elsif (ref$val eq 'ARRAY'){for$val2 (@$val){AddGroups($val2,$grp,$groupHash,$groupList)if ref$val2}}}sub ConvertBinary($) {my$obj=shift;my ($key,$val);if (ref$obj eq 'HASH'){for$key (keys %$obj){next unless ref $$obj{$key};$$obj{$key}=ConvertBinary($$obj{$key});return undef unless defined $$obj{$key}}}elsif (ref$obj eq 'ARRAY'){for$val (@$obj){next unless ref$val;$val=ConvertBinary($val);return undef unless defined$val}}elsif (ref$obj eq 'SCALAR'){return undef if$noBinary;if (defined$binaryOutput){$obj=$$obj;if ($json==1 and ($obj =~ /[^\\x09\\x0a\\x0d\\x20-\\x7e\\x80-\\xf7]/ or Image::ExifTool::IsUTF8(\\$obj)< 0)){$obj='base64:' .Image::ExifTool::XMP::EncodeBase64($obj,1)}}else {my$bOpt=$html ? '' : ', use -b option to extract';if ($$obj =~ /^Binary data \\d+ bytes$/){$obj="($$obj$bOpt)"}else {$obj='(Binary data ' .length($$obj)." bytes$bOpt)"}}}return$obj}sub IsEqual($$) {my ($a,$b)=@_;return 1 if$a eq $b or ref$a eq 'SCALAR';if (ref$a eq 'HASH' and ref$b eq 'HASH'){return 0 if scalar(keys %$a)!=scalar(keys %$b);my$key;for$key (keys %$a){return 0 unless IsEqual($$a{$key},$$b{$key})}}else {return 0 if ref$a ne 'ARRAY' or ref$b ne 'ARRAY' or @$a!=@$b;my$i;for ($i=0;$i<scalar(@$a);++$i){return 0 unless IsEqual($$a[$i],$$b[$i])}}return 1}sub Printable($) {my$val=shift;if (ref$val){if ($structOpt){require Image::ExifTool::XMP;$val=Image::ExifTool::XMP::SerializeStruct($mt,$val)}elsif (ref$val eq 'ARRAY'){$val=join($listSep,@$val)}elsif (ref$val eq 'SCALAR'){$val='(Binary data '.length($$val).' bytes)'}}if ($escapeC){$val =~ s/([\\0-\\x1f\\\\\\x7f])/$escC{$1} || sprintf('\\x%.2x', ord $1)/eg}else {$val =~ tr/\\x01-\\x1f\\x7f/./;$val =~ s/\\x00//g;$val =~ s/\\s+$//}return$val}sub LengthUTF8($) {my$str=shift;return length$str unless$fixLen;local$SIG{'__WARN__'}=sub {};if (not $$mt{OPTIONS}{EncodeHangs}and eval {require Encode}){$str=Encode::decode_utf8($str)}else {$str=pack('U0C*',unpack 'C*',$str)}my$len;if ($fixLen==1){$len=length$str}else {my$gcstr=eval {Unicode::GCString->new($str)};if ($gcstr){$len=$gcstr->columns}else {$len=length$str;delete$SIG{'__WARN__'};Warning($mt,'Unicode::GCString problem.  Columns may be misaligned');$fixLen=1}}return$len}sub AddSetTagsFile($;$) {my ($setFile,$opts)=@_;if ($setTags{$setFile}){$setTagsList{$setFile}or $setTagsList{$setFile}=[];push @{$setTagsList{$setFile}},$setTags{$setFile}}$setTags{$setFile}=[];push@newValues,{SaveCount=>++$saveCount },"TagsFromFile=$setFile";$opts or $opts={};$$opts{ProtectSaved}=$saveCount;push @{$setTags{$setFile}},$opts}sub Infile($;$) {my ($file,$bufferStdin)=@_;if ($file eq '-' and ($bufferStdin or $rafStdin)){if ($rafStdin){$rafStdin->Seek(0)}elsif (open RAF_STDIN,'-'){$rafStdin=File::RandomAccess->new(\\*RAF_STDIN);$rafStdin->BinMode()}return$rafStdin if$rafStdin}return$file}sub Warning($$) {my ($et,$str)=@_;my$noWarn=$et->Options('NoWarning');if (not defined$noWarn or not eval {$str =~ /$noWarn/}){Warn "Warning: $str\\n"}}sub DoSetFromFile($$$) {local $_;my ($et,$file,$setTags)=@_;$verbose and print$vout "Setting new values from $file\\n";my$info=$et->SetNewValuesFromFile(Infile($file,1),@$setTags);my$numSet=scalar(keys %$info);if ($$info{Error}){my@warns=grep /^(Error|Warning)\\b/,keys %$info;$numSet -= scalar(@warns);my$err=$$info{Error};delete $$info{$_}foreach@warns;my$noWarn=$et->Options('NoWarning');$$info{Warning}=$err unless defined$noWarn and eval {$err =~ /$noWarn/}}elsif ($$info{Warning}){my$warns=1;++$warns while $$info{"Warning ($warns)"};$numSet -= $warns}PrintErrors($et,$info,$file)and EFile($file),++$countBadWr,return 0;Warning($et,"No writable tags set from $file")unless$numSet;return 1}sub CleanFilename($) {$_[0]=~ tr/\\\\/\\// if Image::ExifTool::IsPC()}sub HasWildcards($) {my$path=shift;return 0 if $^O eq 'MSWin32' and $path =~ m{^[\\\\/]{2}\\?[\\\\/]};return$path =~ /[*?]/}sub CheckUTF8($$) {my ($file,$enc)=@_;my$isUTF8=0;if ($file =~ /[\\x80-\\xff]/){$isUTF8=Image::ExifTool::IsUTF8(\\$file);if ($isUTF8 < 0){if ($enc){Warn("Invalid filename encoding for $file\\n")}elsif (not defined$enc){WarnOnce(qq{FileName encoding not specified.  Use "-charset FileName=CHARSET"\\n})}}}return$isUTF8}sub SetWindowTitle($) {my$title=shift;if ($curTitle ne $title){$curTitle=$title;if ($^O eq 'MSWin32'){$title =~ s/([&\\/\\?:|"<>])/^$1/g;eval {system qq{title $title}}}else {printf STDERR "\\033]0;%s\\007",$title}}}sub ProcessFiles($;$) {my ($et,$list)=@_;my$enc=$et->Options('CharsetFileName');my$file;for$file (@files){$et->Options(CharsetFileName=>'UTF8')if$utf8FileName{$file};if (defined$progressMax){unless (defined$progressNext){$progressNext=$progressCount + $progressIncr;$progressNext -= $progressNext % $progressIncr;$progressNext=$progressMax if$progressNext > $progressMax}++$progressCount;if ($progress){if ($progressCount >= $progressNext){$progStr=" [$progressCount/$progressMax]"}else {undef$progStr}}}if ($et->IsDirectory($file)and not $listDir){$multiFile=$validFile=1;ScanDir($et,$file,$list)}elsif ($filterFlag and not AcceptFile($file)){if ($et->Exists($file)){$filtered=1;Progress($vout,"-------- $file (wrong extension)")if$verbose}else {Error "Error: File not found - $file\\n";FileNotFound($file)}}else {$validFile=1;if ($list){push(@$list,$file)}else {if (%endDir){my ($d,$f)=Image::ExifTool::SplitFileName($file);next if$endDir{$d}}GetImageInfo($et,$file);$end and Warn("End called - $file\\n");if ($endDir){Warn("EndDir called - $file\\n");my ($d,$f)=Image::ExifTool::SplitFileName($file);$endDir{$d}=1;undef$endDir}}}$et->Options(CharsetFileName=>$enc)if$utf8FileName{$file};last if$end}}sub ScanDir($$;$) {local $_;my ($et,$dir,$list)=@_;my (@fileList,$done,$file,$utf8Name,$winSurrogate,$endThisDir);my$enc=$et->Options('CharsetFileName');if ($enc){unless ($enc eq 'UTF8'){$dir=$et->Decode($dir,$enc,undef,'UTF8');$et->Options(CharsetFileName=>'UTF8')}$utf8Name=1}return if$ignore{$dir};if ($^O eq 'MSWin32' and not HasWildcards($dir)){undef$evalWarning;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};;if (CheckUTF8($dir,$enc)>= 0){if (eval {require Win32::FindFile}){eval {@fileList=Win32::FindFile::ReadDir($dir);$_=$_->cFileName foreach@fileList};$@ and $evalWarning=$@;if ($evalWarning){chomp$evalWarning;$evalWarning =~ s/ at .*//s;Warning($et,"[Win32::FindFile] $evalWarning - $dir");$winSurrogate=1 if$evalWarning =~ /surrogate/}else {$et->Options(CharsetFileName=>'UTF8');$utf8Name=1;$done=1}}else {$done=0}}}unless ($done){unless (opendir(DIR_HANDLE,$dir)){Warn("Error opening directory $dir\\n");return}@fileList=readdir(DIR_HANDLE);closedir(DIR_HANDLE);if (defined$done){for$file ($dir,@fileList){next unless$file =~ /[\\?\\x80-\\xff]/;WarnOnce("Install Win32::FindFile to support Windows Unicode file names in directories\\n");last}}}$dir =~ /\\/$/ or $dir .= '/';for$file (@fileList){next if$file eq '.' or $file eq '..';my$path="$dir$file";if ($et->IsDirectory($path)){next unless$recurse;next if$file =~ /^\\./ and $recurse==1;next if$ignore{$file}or ($ignore{SYMLINKS}and -l $path);ScanDir($et,$path,$list);last if$end;next}next if$endThisDir;next if$ignoreHidden and $file =~ /^\\./;my$accepted;if ($filterFlag){$accepted=AcceptFile($file)or next;$accepted &= 0x01}unless ($accepted){if ($scanWritable){if ($scanWritable eq '1'){next unless CanWrite($file)}else {my$type=GetFileType($file);next unless defined$type and $type eq $scanWritable}}elsif (not GetFileType($file)){next unless$doUnzip;next unless$file =~ /\\.(gz|bz2)$/i}}if ($winSurrogate and $isWriting and (not $overwriteOrig or $overwriteOrig!=2)and not $doSetFileName and $file =~ /~/){Warn("Not writing $path\\n");WarnOnce("Use -overwrite_original_in_place to write files with Unicode surrogate characters\\n");EFile($file);++$countBad;next}$utf8FileName{$path}=1 if$utf8Name;if ($list){push(@$list,$path)}else {GetImageInfo($et,$path);if ($end){Warn("End called - $file\\n");last}if ($endDir){$path =~ s(/$)();Warn("EndDir called - $path\\n");$endDir{$path}=1;$endThisDir=1;undef$endDir}}}++$countDir;$et->Options(CharsetFileName=>$enc)}sub FindFileWindows($$) {my ($et,$wildfile)=@_;my$enc=$et->Options('CharsetFileName');$wildfile=$et->Decode($wildfile,$enc,undef,'UTF8')if$enc and $enc ne 'UTF8';$wildfile =~ tr/\\\\/\\//;my ($dir,$wildname)=($wildfile =~ m{(.*[:/])(.*)})? ($1,$2): ('',$wildfile);if (HasWildcards($dir)){Warn "Wildcards don't work in the directory specification\\n";return ()}CheckUTF8($wildfile,$enc)>= 0 or return ();undef$evalWarning;local$SIG{'__WARN__'}=sub {$evalWarning=$_[0]};my@files;eval {my@names=Win32::FindFile::FindFile($wildfile)or return;@names=sort {uc($a)cmp uc($b)}@names;my ($rname,$nm);($rname=quotemeta$wildname)=~ s/\\\\\\?/./g;$rname =~ s/\\\\\\*/.*/g;for$nm (@names){$nm=$nm->cFileName;next unless$nm =~ /^$rname$/i;next if$nm eq '.' or $nm eq '..';my$file="$dir$nm";push@files,$file;$utf8FileName{$file}=1}};$@ and $evalWarning=$@;if ($evalWarning){chomp$evalWarning;$evalWarning =~ s/ at .*//s;Warn "Error: [Win32::FindFile] $evalWarning - $wildfile\\n";undef@files;EFile($wildfile);++$countBad}return@files}sub FileNotFound($) {my$file=shift;if ($file =~ /^(DIR|FILE)$/){my$type={DIR=>'directory',FILE=>'file' }->{$file};Warn qq{You were meant to enter any valid $type name, not "$file" literally.\\n}}}sub PreserveTime() {local $_;$mt->SetFileTime($_,@{$preserveTime{$_}})foreach keys%preserveTime;undef%preserveTime}sub AbsPath($) {my$file=shift;my$path;if (defined$file){return undef if$file eq '*';if ($^O eq 'MSWin32' and $mt->Options('WindowsLongPath')){$path=$mt->WindowsLongPath($file)}elsif (eval {require Cwd}){local$SIG{'__WARN__'}=sub {};$path=eval {Cwd::abs_path($file)}}$path =~ tr/\\\\/\\// if $^O eq 'MSWin32' and defined$path}return$path}sub MyConvertFileName($$) {my ($et,$file)=@_;my$enc=$et->Options('CharsetFileName');$et->Options(CharsetFileName=>'UTF8')if$utf8FileName{$file};my$convFile=$et->ConvertFileName($file);$et->Options(CharsetFileName=>$enc)if$utf8FileName{$file};return$convFile}sub AddPrintFormat($) {my$expr=shift;my$type;if ($expr =~ /^#/){$expr =~ s/^#\\[(HEAD|SECT|IF|BODY|ENDS|TAIL)\\]// or return;$type=$1}else {$type='BODY'}$printFmt{$type}or $printFmt{$type}=[];push @{$printFmt{$type}},$expr;push@requestTags,$expr =~ /\\$\\{?((?:[-_0-9A-Z]+:)*[-_0-9A-Z?*]+)/ig;$printFmt{SetTags}=1 if$expr =~ /\\bSetTags\\b/}sub SuggestedExtension($$$) {my ($et,$valPt,$tag)=@_;my$ext;if (not $binaryOutput){$ext='txt'}elsif ($$valPt =~ /^\\xff\\xd8\\xff/){$ext='jpg'}elsif ($$valPt =~ /^(\\0\\0\\0\\x0cjP(  |\\x1a\\x1a)\\x0d\\x0a\\x87\\x0a|\\xff\\x4f\\xff\\x51\\0)/){$ext='jp2'}elsif ($$valPt =~ /^(\\x89P|\\x8aM|\\x8bJ)NG\\r\\n\\x1a\\n/){$ext='png'}elsif ($$valPt =~ /^GIF8[79]a/){$ext='gif'}elsif ($$valPt =~ /^<\\?xpacket/ or $tag eq 'XMP'){$ext='xmp'}elsif ($$valPt =~ /^<\\?xml/ or $tag eq 'XML'){$ext='xml'}elsif ($$valPt =~ /^RIFF....WAVE/s){$ext='wav'}elsif ($tag eq 'OriginalRawImage' and defined($ext=$et->GetValue('OriginalRawFileName'))){$ext =~ s/^.*\\.//s;$ext=$ext ? lc($ext): 'raw'}elsif ($tag eq 'EXIF'){$ext='exif'}elsif ($tag eq 'ICC_Profile'){$ext='icc'}elsif ($$valPt =~ /^(MM\\0\\x2a|II\\x2a\\0)/){$ext='tiff'}elsif ($$valPt =~ /^.{4}ftyp(3gp|mp4|f4v|qt  )/s){my%movType=('qt  '=>'mov');$ext=$movType{$1}|| $1}elsif ($$valPt !~ /^.{0,4096}\\0/s){$ext='txt'}elsif ($$valPt =~ /^BM.{15}\\0/s){$ext='bmp'}elsif ($$valPt =~ /^CANON OPTIONAL DATA\\0/){$ext='vrd'}elsif ($$valPt =~ /^IIII\\x04\\0\\x04\\0/){$ext='dr4'}elsif ($$valPt =~ /^(.{10}|.{522})(\\x11\\x01|\\x00\\x11)/s){$ext='pict'}elsif ($$valPt =~ /^\\xff\\x0a|\\0\\0\\0\\x0cJXL \\x0d\\x0a......ftypjxl/s){$ext='jxl'}elsif ($$valPt =~ /^.{4}jumb\\0.{3}jumdc2pa/s){$ext='c2pa'}elsif ($tag eq 'JUMBF'){$ext='jumbf'}else {$ext='dat'}return$ext}sub LoadPrintFormat($;$) {my ($arg,$noNL)=@_;if (not defined$arg){Error "Must specify file or expression for -p option\\n"}elsif ($arg !~ /\\n/ and -f $arg and $mt->Open(\\*FMT_FILE,$arg)){for (<FMT_FILE>){AddPrintFormat($_)}close(FMT_FILE)}else {$arg .= "\\n" unless$noNL;AddPrintFormat($arg)}}sub FilenameSPrintf($;$@) {my ($fmt,$file,@extra)=@_;local $_;return$fmt unless$fmt =~ /%[-+]?\\d*[.:]?\\d*[lu]?[dDfFeEtgso]/;return undef unless defined$file;CleanFilename($file);my%part;@part{qw(d f E)}=($file =~ /^(.*?)([^\\/]*?)(\\.[^.\\/]*)?$/);defined$part{f}or Warn("Error: Bad pattern match for file $file\\n"),return undef;if ($part{E}){$part{e}=substr($part{E},1)}else {@part{qw(e E)}=('','')}$part{F}=$part{f}.$part{E};($part{D}=$part{d})=~ s{/+$}{};@part{qw(t g s o)}=@extra;my ($filename,$pos)=('',0);while ($fmt =~ /(%([-+]?)(\\d*)([.:]?)(\\d*)([lu]?)([dDfFeEtgso]))/g){$filename .= substr($fmt,$pos,pos($fmt)- $pos - length($1));$pos=pos($fmt);my ($sign,$wid,$dot,$skip,$mod,$code)=($2,$3,$4,$5 || 0,$6,$7);my (@path,$part,$len,$groups);if (lc$code eq 'd' and $dot and $dot eq ':'){@path=split '/',$part{$code};$len=scalar@path}else {if ($code eq 'g'){$groups=$part{g}|| []unless defined$groups;$fmt =~ /\\G(\\d?)/g;$part{g}=$$groups[$1 || 0];$pos=pos($fmt)}$part{$code}='' unless defined$part{$code};$len=length$part{$code}}next unless$skip < $len;$wid=$len - $skip if$wid eq '' or $wid + $skip > $len;$skip=$len - $wid - $skip if$sign eq '-';if (@path){$part=join('/',@path[$skip..($skip+$wid-1)]);$part .= '/' unless$code eq 'D'}else {$part=substr($part{$code},$skip,$wid)}$part=($mod eq 'u')? uc($part): lc($part)if$mod;$filename .= $part}$filename .= substr($fmt,$pos);$filename =~ s{(?!^)//}{/}g;return$filename}sub Num2Alpha($) {my$num=shift;my$alpha=chr(97 + ($num % 26));while ($num >= 26){$num=int($num / 26)- 1;$alpha=chr(97 + ($num % 26)).$alpha}return$alpha}sub NextUnusedFilename($;$) {my ($fmt,$okfile)=@_;return$fmt unless$fmt =~ /%[-+]?\\d*[.:]?\\d*[lun]?[cC]/;my%sep=('-'=>'-','+'=>'_');my ($copy,$alpha)=(0,'a');my$lastFile;for (;;){my ($filename,$pos)=('',0);while ($fmt =~ /(%([-+]?)(\\d*)([.:]?)(\\d*)([lun]?)([cC]))/g){$filename .= substr($fmt,$pos,pos($fmt)- $pos - length($1));$pos=pos($fmt);my ($sign,$wid,$dec,$wid2,$mod,$tok)=($2,$3 || 0,$4,$5 || 0,$6,$7);my$seq;if ($tok eq 'C'){$sign eq '-' ? ++$seqFileDir : ++$seqFileNum if$copy and $dec eq ':';$seq=$wid + ($sign eq '-' ? $seqFileDir : $seqFileNum)- 1;$wid=$wid2}else {next unless$dec or $copy;$wid=$wid2 if$wid < $wid2;$filename .= $sep{$sign}if$sign}if ($mod and $mod ne 'n'){my$a=$tok eq 'C' ? Num2Alpha($seq): $alpha;my$str=($wid and $wid > length$a)? 'a' x ($wid - length($a)): '';$str .= $a;$str=uc$str if$mod eq 'u';$filename .= $str}else {my$c=$tok eq 'C' ? $seq : $copy;my$num=$c + ($mod ? 1 : 0);$filename .= $wid ? sprintf("%.\${wid}d",$num): $num}}$filename .= substr($fmt,$pos);return$filename unless ($mt->Exists($filename,1)and not defined$usedFileName{$filename})or $usedFileName{$filename};if (defined$okfile){return$filename if$filename eq $okfile;my ($fn,$ok)=(AbsPath($filename),AbsPath($okfile));return$okfile if defined$fn and defined$ok and $fn eq $ok}return$filename if defined$lastFile and $lastFile eq $filename;$lastFile=$filename;++$copy;++$alpha}}sub CreateDirectory($) {my$file=shift;my$err=$mt->CreateDirectory($file);if (defined$err){$err and Error("$err\\n"),return 0;if ($verbose){my$dir;($dir=$file)=~ s(/[^/]*$)();print$vout "Created directory $dir\\n"}++$countNewDir;return 1}return 0}sub OpenOutputFile($;@) {my ($file,@args)=@_;my ($fp,$outfile,$append);if ($textOut){$outfile=$file;CleanFilename($outfile);if ($textOut =~ /%[-+]?\\d*[.:]?\\d*[lun]?[dDfFeEtgsocC]/ or defined$tagOut){$outfile=FilenameSPrintf($textOut,$file,@args);return ()unless defined$outfile;$outfile=NextUnusedFilename($outfile);CreateDirectory($outfile)}else {$outfile =~ s/\\.[^.\\/]*$//;$outfile .= $textOut}my$mode='>';if ($mt->Exists($outfile,1)){unless ($textOverwrite){Warn "Output file $outfile already exists for $file\\n";return ()}if ($textOverwrite==2 or ($textOverwrite==3 and $created{$outfile})){$mode='>>';$append=1}}unless ($mt->Open(\\*OUTFILE,$outfile,$mode)){my$what=$mode eq '>' ? 'creating' : 'appending to';Error("Error $what $outfile\\n");return ()}binmode(OUTFILE)if$binaryOutput;$fp=\\*OUTFILE}else {$fp=\\*STDOUT}return($fp,$outfile,$append)}sub AcceptFile($) {my$file=shift;my$ext=($file =~ /^.*\\.(.+)$/s)? uc($1): '';return$filterExt{$ext}if defined$filterExt{$ext};return$filterExt{'*'}if defined$filterExt{'*'};return 0 if$filterFlag & 0x02;return 2}sub SlurpFile($$) {my ($file,$buffPt)=@_;$mt->Open(\\*INFILE,$file)or Warn("Error opening file $file\\n"),return 0;binmode(INFILE);undef $$buffPt;my$bsize=1024 * 1024;my$num=read(INFILE,$$buffPt,$bsize);unless (defined$num){close(INFILE);Warn("Error reading $file\\n");return 0}my$bmax=64 * $bsize;while ($num==$bsize){$bsize *= 2 if$bsize < $bmax;my$buff;$num=read(INFILE,$buff,$bsize);last unless$num;$$buffPt .= $buff}close(INFILE);return 1}sub FilterArgfileLine($) {my$arg=shift;if ($arg =~ /^#/){return undef unless$arg =~ s/^#\\[CSTR\\]//;$arg =~ s/[\\x0d\\x0a]+$//s;$arg =~ s{\\\\(.)|(["\\$\\@]|\\\\$)}{'\\\\'.($2 || $1)}sge;my%esc=(a=>"\\a",b=>"\\b",f=>"\\f",n=>"\\n",r=>"\\r",t=>"\\t",'"'=>'"','\\\\'=>'\\\\');$arg =~ s/\\\\(.)/$esc{$1}||'\\\\'.$1/egs}else {$arg =~ s/^\\s+//;$arg =~ s/[\\x0d\\x0a]+$//s;$arg =~ s/^(-[-_0-9A-Z:]+#?)\\s*([-+<]?=) ?/$1$2/i;return undef if$arg eq ''}return$arg}sub ReadStayOpen($) {my$args=shift;my (@newArgs,$processArgs,$result,$optArgs);my$lastOpt='';my$unparsed=length$stayOpenBuff;for (;;){if ($unparsed){$result=$unparsed;undef$unparsed}else {$result=sysread(STAYOPEN,$stayOpenBuff,65536,length($stayOpenBuff))}if ($result){my$pos=0;while ($stayOpenBuff =~ /\\n/g){my$len=pos($stayOpenBuff)- $pos;my$arg=substr($stayOpenBuff,$pos,$len);$pos += $len;$arg=FilterArgfileLine($arg);next unless defined$arg;push@newArgs,$arg;if ($optArgs){undef$optArgs;next unless$lastOpt eq '-stay_open' or $lastOpt eq '-@'}else {$lastOpt=lc$arg;$optArgs=$optArgs{$arg};unless (defined$optArgs){$optArgs=$optArgs{$lastOpt};$optArgs=$optArgs{"$1#$2"}if not defined$optArgs and $lastOpt =~ /^(.*?)\\d+(!?)$/}next unless$lastOpt =~ /^-execute\\d*$/}$processArgs=1;last}next unless$pos;$stayOpenBuff=substr($stayOpenBuff,$pos);if ($processArgs){unshift @$args,@newArgs;last}}elsif ($result==0){select(undef,undef,undef,0.01)}else {Warn "Error reading from ARGFILE\\n";close STAYOPEN;$stayOpen=0;last}}}sub EFile($$) {my$entry=shift;my$efile=$efile[shift || 0];if (defined$efile and length$entry and $entry ne '-'){my$err;CreateDirectory($efile);if ($mt->Open(\\*EFILE_FILE,$efile,'>>')){print EFILE_FILE$entry,"\\n" or Warn("Error writing to $efile\\n"),$err=1;close EFILE_FILE}else {Warn("Error opening '\${efile}' for append\\n");$err=1}if ($err){defined $_ and $_ eq $efile and undef $_ foreach@efile}}}sub Progress($$) {my ($file,$msg)=@_;if (defined$progStr){print$file $msg,$progStr,"\\n";undef$progressNext if defined$progressMax}}sub PrintTagList($@) {my$msg=shift;print$msg,":\\n" unless$quiet;my$tag;if (($outFormat < 0 or $verbose)and $msg =~ /file extensions$/ and @_){for$tag (@_){printf("  %-11s %s\\n",$tag,GetFileType($tag,1))}return}my ($len,$pad)=(0,$quiet ? '' : '  ');for$tag (@_){my$taglen=length($tag);if ($len + $taglen > 77){print "\\n";($len,$pad)=(0,$quiet ? '' : '  ')}print$pad,$tag;$len += $taglen + 1;$pad=' '}@_ or print$pad,'[empty list]';print "\\n"}sub PrintErrors($$$) {my ($et,$info,$file)=@_;my ($tag,$key);for$tag (qw(Warning Error)){next unless $$info{$tag};my@keys=($tag);push@keys,sort(grep /^$tag /,keys %$info)if$et->Options('Duplicates');for$key (@keys){Warn "$tag: $info->{$key} - $file\\n"}}return $$info{Error}}`,ph=mh,M=class gu{static WASI_ESUCCESS=0;static WASI_ERRNO_BADF=8;static WASI_ENOSYS=52;static WASI_CLOCK_REALTIME=0;static WASI_CLOCK_MONOTONIC=1;static WASI_ERRNO_ISDIR=31;static WASI_ERRNO_INVAL=28;static WASI_ERRNO_NOTDIR=54;static WASI_ERRNO_NOENT=44;static WASI_ERRNO_EXIST=20;static WASI_ERRNO_IO=29;static WASI_FILETYPE_CHARACTER_DEVICE=2;static WASI_FILETYPE_DIRECTORY=3;static WASI_FILETYPE_REGULAR_FILE=4;static IMPORT_FUNCTIONS=["args_get","args_sizes_get","clock_res_get","clock_time_get","environ_get","environ_sizes_get","fd_advise","fd_allocate","fd_close","fd_datasync","fd_fdstat_get","fd_fdstat_set_flags","fd_fdstat_set_rights","fd_filestat_get","fd_filestat_set_size","fd_filestat_set_times","fd_pread","fd_prestat_dir_name","fd_prestat_get","fd_pwrite","fd_read","fd_readdir","fd_renumber","fd_seek","fd_sync","fd_tell","fd_write","path_create_directory","path_filestat_get","path_filestat_set_times","path_link","path_open","path_readlink","path_remove_directory","path_rename","path_symlink","path_unlink_file","poll_oneoff","proc_exit","proc_raise","random_get","sched_yield","sock_accept","sock_recv","sock_send","sock_shutdown"];encoder;decoder;constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}writeString(l,r,s){let $=this.encoder.encode(r);return new Uint8Array(l.buffer,s,$.length).set($),$.length}readString(l,r,s){let $=new Uint8Array(l.buffer,r,s);return this.decoder.decode($)}byteLength(l){return this.encoder.encode(l).length}static iovec_t={size:8,bufferOffset:0,lengthOffset:4};iovViews(l,r,s){let $=[],d=r;for(let g=0;g<s;g++){let x=l.getUint32(d+gu.iovec_t.bufferOffset,!0),E=l.getUint32(d+gu.iovec_t.lengthOffset,!0);$.push(new Uint8Array(l.buffer,x,E)),d+=gu.iovec_t.size}return $}writeFilestat(l,r,s){l.setBigUint64(r,BigInt(0),!0),l.setBigUint64(r+8,BigInt(0),!0),l.setUint8(r+16,s),l.setUint32(r+24,0,!0),l.setBigUint64(r+32,BigInt(0),!0),l.setBigUint64(r+40,BigInt(0),!0),l.setBigUint64(r+48,BigInt(0),!0)}writeFdstat(l,r,s,$){l.setUint8(r,s),l.setUint16(r+2,$,!0),l.setBigUint64(r+8,BigInt(0),!0),l.setBigUint64(r+16,BigInt(0),!0)}},sm=class{constructor(o){this.code=o}get exitCode(){return this.code}},kd=class{constructor(o,l){this.handler=o,this.outputBuffers=l}decoder=new TextDecoder("utf-8");writev(o){let l=o.reduce(($,d)=>$+d.byteLength,0),r=0,s=new Uint8Array(l);for(let $ of o)s.set($,r),r+=$.byteLength;if(this.outputBuffers)this.handler(s);else{let $=this.decoder.decode(s);this.handler($)}return s.length}readv(o){return 0}close(){}},gh=class{constructor(o){this.consume=o}encoder=new TextEncoder;pending=null;writev(o){return 0}consumePending(o,l){if(o.byteLength<l)return this.pending=null,o;let r=o.slice(0,l);return this.pending=o.slice(l),r}readv(o){let l=0;for(let r of o){let s=r.byteLength;if(this.pending){let $=this.consumePending(this.pending,s);r.set($,0),s-=$.byteLength,l+=$.byteLength}for(;s>0;){let $=this.consume(),d;if($ instanceof Uint8Array?d=$:d=this.encoder.encode($),d.length===0)return l;d.length>s?(r.set(d.slice(0,s),r.byteLength-s),this.pending=d.slice(s),l+=s,s=0):(r.set(d,r.byteLength-s),l+=d.length,s-=d.length)}}return l}close(){}};function hh(o={}){let l=o.outputBuffers||!1;return[new gh(o.stdin||(()=>"")),new kd(o.stdout||console.log,l),new kd(o.stderr||console.error,l)]}var fm=class{root;preopenPaths=[];constructor(o){if(this.root={type:"dir",entries:{}},this.ensureDir("/dev"),this.setNode("/dev/null",{type:"character",kind:"devnull"}),o)for(let l of Object.keys(o))this.ensureDir(l),this.preopenPaths.push(l);else this.preopenPaths.push("/")}removeFile(o){let l=this.normalizePath(o).split("/").filter(d=>d.length>0),r=l.pop(),s=`/${l.join("/")}`,$=this.ensureDir(s);r&&delete $.entries[r]}addFile(o,l){if(typeof l=="string"){let r=new TextEncoder().encode(l);this.createFile(o,r);return}this.createFile(o,l)}createFile(o,l){let r={type:"file",content:l};return this.setNode(o,r),r}setNode(o,l){let r=this.normalizePath(o).split("/").filter(g=>g.length>0);if(r.length===0){if(l.type!=="dir")throw new Error("Root must be a directory");this.root=l;return}let s=r.pop(),$=`/${r.join("/")}`,d=this.ensureDir($);s&&(d.entries[s]=l)}getDevNull(){let o=this.lookup("/dev/null");if(!o)throw new Error("/dev/null not found");return o}getPreopenPaths(){return[...this.preopenPaths]}lookup(o){let l=this.normalizePath(o);if(l==="/")return this.root;let r=l.split("/").filter($=>$.length>0),s=this.root;for(let $ of r)if(s.type!=="dir"||(s=s.entries[$],!s))return null;return s}resolve(o,l){let r=this.normalizePath(l).split("/").filter($=>$.length>0),s=o;for(let $ of r)if($!=="."){if($===".."){s=this.root;continue}if(s.type!=="dir"||(s=s.entries[$],!s))return null}return s}ensureDir(o){let l=this.normalizePath(o).split("/").filter(s=>s.length>0),r=this.root;for(let s of l){r.entries[s]||(r.entries[s]={type:"dir",entries:{}});let $=r.entries[s];if($.type!=="dir")throw new Error(`"${s}" is not a directory`);r=$}return r}createFileIn(o,l){let r=this.normalizePath(l).split("/").filter(g=>g.length>0);if(r.length===0)throw new Error("Cannot create a file with an empty name");let s=r.pop();if(!s)throw new Error("Cannot create a file with an empty name");let $=o;for(let g of r){$.entries[g]||($.entries[g]={type:"dir",entries:{}});let x=$.entries[g];if(x.type!=="dir")throw new Error(`"${g}" is not a directory`);$=x}let d={type:"file",content:new Uint8Array(0)};return $.entries[s]=d,d}normalizePath(o){if(!o)return"/";let l=(o.startsWith("/")?o:`/${o}`).replace(/\/+/g,"/");return l==="/"?l:l.replace(/\/+$/,"")}};function yh(o={}){return(l,r,s)=>{let $=o.withFileSystem||new fm(l.preopens),d={};hh(o.withStdIo||{}).forEach((D,C)=>{d[C]={node:{type:"character",kind:"stdio",entry:D},position:0,isPreopen:!1,path:`/dev/fd/${C}`,fd:C}});let g=3;for(let D of $.getPreopenPaths()){let C=$.lookup(D);C&&C.type==="dir"&&(d[g]={node:C,position:0,isPreopen:!0,preopenPath:D,path:D,fd:g},g++)}function x(D){for(let C in d){let w=d[C];if(w.path===D)return w}return null}function E(D){return d[D]||null}function b(D){return D.content instanceof Blob?D.content.size:D.content.byteLength}return{fd_read:async(D,C,w,U)=>{let B=s(),X=r.iovViews(B,C,w),G=E(D);if(!G)return M.WASI_ERRNO_BADF;if(G.node.type==="character"&&G.node.kind==="stdio"){let te=G.node.entry.readv(X);return B.setUint32(U,te,!0),M.WASI_ESUCCESS}if(G.node.type==="dir")return M.WASI_ERRNO_ISDIR;if(G.node.type==="character"&&G.node.kind==="devnull")return B.setUint32(U,0,!0),M.WASI_ESUCCESS;let fe=G.node,me=fe.content,se=b(fe)-G.position,ee=0;if(se<=0)return B.setUint32(U,0,!0),M.WASI_ESUCCESS;if(fe.content instanceof Blob){let te=fe.content;for(let K of X){if(G.position>=te.size)break;let k=Math.min(K.byteLength,te.size-G.position);if(k<=0)break;let he=await te.slice(G.position,G.position+k).arrayBuffer();K.set(new Uint8Array(he)),ee+=he.byteLength,G.position+=he.byteLength}}else if(ArrayBuffer.isView(me))for(let te of X){if(G.position>=me.byteLength)break;let K=Math.min(te.byteLength,me.byteLength-G.position);if(K<=0)break;te.set(me.slice(G.position,G.position+K)),ee+=K,G.position+=K}return B.setUint32(U,ee,!0),M.WASI_ESUCCESS},fd_write:(D,C,w,U)=>{let B=s(),X=r.iovViews(B,C,w),G=E(D);if(!G)return M.WASI_ERRNO_BADF;let fe=0;if(G.node.type==="character"&&G.node.kind==="stdio"){let K=G.node.entry.writev(X);return B.setUint32(U,K,!0),M.WASI_ESUCCESS}if(G.node.type==="dir")return M.WASI_ERRNO_ISDIR;if(G.node.type==="character"&&G.node.kind==="devnull"){let K=X.reduce((k,he)=>k+he.byteLength,0);return B.setUint32(U,K,!0),M.WASI_ESUCCESS}if(G.node.content instanceof Blob)return M.WASI_ERRNO_INVAL;let me=G.position,se=X.reduce((K,k)=>K+k.byteLength,0),ee=me+se,te;ee>b(G.node)?(te=new Uint8Array(ee),te.set(G.node.content,0)):te=G.node.content;for(let K of X)te.set(K,me),me+=K.byteLength,fe+=K.byteLength;return G.node.content=te,G.position=me,B.setUint32(U,fe,!0),M.WASI_ESUCCESS},fd_close:D=>{let C=E(D);return C?C.node.type==="character"&&C.node.kind==="stdio"?(C.node.entry.close(),M.WASI_ESUCCESS):(delete d[D],M.WASI_ESUCCESS):M.WASI_ERRNO_BADF},fd_seek:(D,C,w,U)=>{let B=s();if(D<3)return M.WASI_ERRNO_BADF;let X=E(D);if(!X||X.node.type!=="file")return M.WASI_ERRNO_BADF;let G=X.position,fe=b(X.node);switch(w){case 0:G=Number(C);break;case 1:G=G+Number(C);break;case 2:G=fe+Number(C);break;default:return M.WASI_ERRNO_INVAL}return G<0&&(G=0),X.position=G,B.setUint32(U,G,!0),M.WASI_ESUCCESS},fd_tell:(D,C)=>{let w=s();if(D<3)return M.WASI_ERRNO_BADF;let U=E(D);return U?(w.setBigUint64(C,BigInt(U.position),!0),M.WASI_ESUCCESS):M.WASI_ERRNO_BADF},fd_fdstat_get:(D,C)=>{let w=s(),U=E(D);if(!U)return M.WASI_ERRNO_BADF;let B;switch(U.node.type){case"character":B=M.WASI_FILETYPE_CHARACTER_DEVICE;break;case"dir":B=M.WASI_FILETYPE_DIRECTORY;break;case"file":B=M.WASI_FILETYPE_REGULAR_FILE;break}return r.writeFdstat(w,C,B,0),M.WASI_ESUCCESS},fd_filestat_get:(D,C)=>{let w=s(),U=E(D);if(!U)return M.WASI_ERRNO_BADF;let B,X=0;switch(U.node.type){case"character":B=M.WASI_FILETYPE_CHARACTER_DEVICE;break;case"dir":B=M.WASI_FILETYPE_DIRECTORY;break;case"file":B=M.WASI_FILETYPE_REGULAR_FILE,X=b(U.node);break}return r.writeFilestat(w,C,B),w.setBigUint64(C+32,BigInt(X),!0),M.WASI_ESUCCESS},fd_prestat_get:(D,C)=>{let w=s();if(D<3)return M.WASI_ERRNO_BADF;let U=E(D);if(!U||!U.isPreopen)return M.WASI_ERRNO_BADF;w.setUint8(C,0);let B=U.preopenPath||"";return w.setUint32(C+4,B.length,!0),M.WASI_ESUCCESS},fd_prestat_dir_name:(D,C,w)=>{if(D<3)return M.WASI_ERRNO_BADF;let U=E(D);if(!U||!U.isPreopen)return M.WASI_ERRNO_BADF;let B=U.preopenPath||"";if(B.length!==w)return M.WASI_ERRNO_INVAL;let X=s();for(let G=0;G<B.length;G++)X.setUint8(C+G,B.charCodeAt(G));return M.WASI_ESUCCESS},fd_open:(D,C,w,U,B,X,G,fe)=>{let me=s();if(D<3)return M.WASI_ERRNO_NOTDIR;let se=E(D);if(!se||se.node.type!=="dir")return M.WASI_ERRNO_NOTDIR;let ee=r.readString(me,C,w),te=(se.path.endsWith("/")?se.path:`${se.path}/`)+ee,K=x(te);if(K)return me.setUint32(fe,K.fd,!0),M.WASI_ESUCCESS;let k=$.resolve(se.node,ee),he=1,Je=2,Lt=4;if(k){if(U&Je)return M.WASI_ERRNO_EXIST;if(U&Lt){if(k.type!=="file")return M.WASI_ERRNO_INVAL;k.content=new Uint8Array(0)}}else{if(!(U&he))return M.WASI_ERRNO_NOENT;k=$.createFileIn(se.node,ee)}return d[g]={node:k,position:0,isPreopen:!1,path:te,fd:g},me.setUint32(fe,g,!0),g++,M.WASI_ESUCCESS},path_open:(D,C,w,U,B,X,G,fe,me)=>{let se=s();if(D<3)return M.WASI_ERRNO_NOTDIR;let ee=E(D);if(!ee||ee.node.type!=="dir")return M.WASI_ERRNO_NOTDIR;let te=r.readString(se,w,U),K=(ee.path.endsWith("/")?ee.path:`${ee.path}/`)+te,k=x(K);if(k)return se.setUint32(me,k.fd,!0),M.WASI_ESUCCESS;let he=$.resolve(ee.node,te),Je=1,Lt=2,vt=4;if(he){if(B&Lt)return M.WASI_ERRNO_EXIST;if(B&vt){if(he.type!=="file")return M.WASI_ERRNO_INVAL;he.content=new Uint8Array(0)}}else{if(!(B&Je))return M.WASI_ERRNO_NOENT;he=$.createFileIn(ee.node,te)}return d[g]={node:he,position:0,isPreopen:!1,path:K,fd:g},se.setUint32(me,g,!0),g++,M.WASI_ESUCCESS},path_filestat_get:(D,C,w,U,B)=>{let X=s(),G=E(D);if(!G)return M.WASI_ERRNO_BADF;if(G.node.type!=="dir")return M.WASI_ERRNO_NOTDIR;let fe=r.readString(X,w,U),me=G.path,se=me.endsWith("/")?me+fe:`${me}/${fe}`,ee=$.lookup(se);if(!ee)return M.WASI_ERRNO_NOENT;if(ee.type==="character"&&ee.kind==="stdio")return M.WASI_ERRNO_INVAL;let te,K=0;return ee.type==="dir"?te=M.WASI_FILETYPE_DIRECTORY:ee.type==="character"&&ee.kind==="devnull"?te=M.WASI_FILETYPE_CHARACTER_DEVICE:(te=M.WASI_FILETYPE_REGULAR_FILE,K=b(ee)),r.writeFilestat(X,B,te),X.setBigUint64(B+32,BigInt(K),!0),M.WASI_ESUCCESS}}}}function vh(o,l,r){let s=o.args||[];return{args_get:($,d)=>{let g=$,x=d,E=r();for(let b of s)E.setUint32(g,x,!0),g+=4,x+=l.writeString(E,`${b}\0`,x);return M.WASI_ESUCCESS},args_sizes_get:($,d)=>{let g=r();g.setUint32($,s.length,!0);let x=s.reduce((E,b)=>E+l.byteLength(b)+1,0);return g.setUint32(d,x,!0),M.WASI_ESUCCESS}}}function Sh(o,l,r){return{clock_res_get:(s,$)=>{let d;switch(s){case M.WASI_CLOCK_MONOTONIC:{d=5e3;break}case M.WASI_CLOCK_REALTIME:{d=1e3;break}default:return M.WASI_ENOSYS}return r().setUint32($,d,!0),M.WASI_ESUCCESS},clock_time_get:(s,$,d)=>{let g=0;switch(s){case M.WASI_CLOCK_MONOTONIC:{g=performance.now();break}case M.WASI_CLOCK_REALTIME:{g=Date.now();break}default:return M.WASI_ENOSYS}let x=r();if(BigInt){let E=BigInt((b=>{let D=Math.trunc(b),C=BigInt(Math.round((b-D)*1e6));return BigInt(D)*BigInt(1e6)+C})(g));x.setBigUint64(d,E,!0)}else{let E=Date.now()*1e6;x.setUint32(d,E&65535,!0),x.setUint32(d+4,E&4294901760,!0)}return M.WASI_ESUCCESS}}}function bh(o,l,r){return{environ_get:(s,$)=>{let d=s,g=$,x=r();for(let E in o.env){let b=o.env[E];x.setUint32(d,g,!0),d+=4,g+=l.writeString(x,`${E}=${b}\0`,g)}return M.WASI_ESUCCESS},environ_sizes_get:(s,$)=>{let d=r();return d.setUint32(s,Object.keys(o.env||{}).length,!0),d.setUint32($,Object.entries(o.env||{}).reduce((g,[x,E])=>g+l.byteLength(x)+1+l.byteLength(E)+1,0),!0),M.WASI_ESUCCESS}}}function Th(o,l,r){return{proc_exit:s=>{throw new sm(s)},proc_raise:s=>M.WASI_ESUCCESS}}function Eh(o,l,r){return{random_get:(s,$)=>{let d=r(),g=new Uint8Array(d.buffer,s,$);return crypto.getRandomValues(g),M.WASI_ESUCCESS}}}var xh=class{wasiImport;instance=null;isStarted=!1;abi;constructor(o){if(this.wasiImport={},this.abi=new M,o?.features){let l={};for(let r of o.features){let s=r.name||"Unknown feature",$=r(o,this.abi,this.view.bind(this));for(let d in $){if(d in this.wasiImport){let g=l[d]||"Unknown feature";throw new Error(`Import conflict: Function '${d}' is already provided by '${g}' and is being redefined by '${s}'`)}l[d]=s}this.wasiImport={...this.wasiImport,...$}}}for(let l of M.IMPORT_FUNCTIONS)l in this.wasiImport||(this.wasiImport[l]=()=>M.WASI_ENOSYS)}view(){if(!this.instance)throw new Error("wasi.start() or wasi.initialize() has not been called");if(!this.instance.exports.memory)throw new Error("instance.exports.memory is undefined");if(!(this.instance.exports.memory instanceof WebAssembly.Memory))throw new Error("instance.exports.memory is not a WebAssembly.Memory");return new DataView(this.instance.exports.memory.buffer)}async start(o){if(this.isStarted)throw new Error("wasi.start() or wasi.initialize() has already been called");if(this.isStarted=!0,this.instance=o,!this.instance.exports._start)throw new Error("instance.exports._start is undefined");if(typeof this.instance.exports._start!="function")throw new Error("instance.exports._start is not a function");try{return await this.instance.exports._start(),M.WASI_ESUCCESS}catch(l){if(l instanceof sm)return l.code;throw l}}},hu=new WeakMap;function Oh(o){return!!o&&(typeof o=="object"||typeof o=="function")&&typeof o.then=="function"}function jd(o,l){return new Proxy(o,{get:(r,s)=>l(r[s])})}var om=class{value=void 0;exports=null;getState(){if(!this.exports)throw new Error("Exports not initialized");return this.exports.asyncify_get_state()}assertNoneState(){let o=this.getState();if(o!==0)throw new Error(`Invalid async state ${o}, expected 0.`)}wrapImportFn(o){return(...l)=>{if(this.getState()===2){if(!this.exports)throw new Error("Exports not initialized");return this.exports.asyncify_stop_rewind(),this.value}this.assertNoneState();let r=o(...l);if(!Oh(r))return r;if(!this.exports)throw new Error("Exports not initialized");this.exports.asyncify_start_unwind(16),this.value=r}}wrapModuleImports(o){return jd(o,l=>typeof l=="function"?this.wrapImportFn(l):l)}wrapImports(o){if(o!==void 0)return jd(o,(l=Object.create(null))=>this.wrapModuleImports(l))}wrapExportFn(o){let l=hu.get(o);return l!==void 0||(l=async(...r)=>{this.assertNoneState();let s=o(...r);for(;this.getState()===1;){if(!this.exports)throw new Error("Exports not initialized");this.exports.asyncify_stop_unwind(),this.value=await this.value,this.assertNoneState(),this.exports.asyncify_start_rewind(16),s=o(...r)}return this.assertNoneState(),s},hu.set(o,l)),l}wrapExports(o){let l=Object.create(null);for(let r in o){let s=o[r];typeof s=="function"&&!r.startsWith("asyncify_")&&(s=this.wrapExportFn(s)),Object.defineProperty(l,r,{enumerable:!0,value:s})}return hu.set(o,l),l}init(o,l){let r=o.exports,s=r.memory||l?.env&&l.env.memory;if(!s)throw new Error("Memory not found in exports or imports.env");new Int32Array(s.buffer,16).set([24,1024]),this.exports=this.wrapExports(r),Object.setPrototypeOf(o,$m.prototype)}},$m=class extends WebAssembly.Instance{constructor(o,l){let r=new om;super(o,r.wrapImports(l)),r.init(this,l)}get exports(){return hu.get(super.exports)}};Object.defineProperty($m.prototype,"exports",{enumerable:!0});async function Ch(o,l){let r=new om,s=await WebAssembly.instantiateStreaming(o,r.wrapImports(l));return r.init(s.instance,l),s}var du=class{parts;constructor(o=""){this.parts=o?[o]:[]}append(o){return this.parts.push(o),this}appendLine(o=""){return this.parts.push(`${o}
`),this}get length(){return this.toString().length}toString(){return this.parts.join("")}static isMultiline(o){let l=0;for(let r=0;r<o.length;r++)(o[r]===`
`||o[r]==="\r"&&(r===o.length-1||o[r+1]!==`
`))&&l++;return l>0}},Ah="https://perl.objex.ai/zeroperl-1.0.1.wasm",Wd=new TextDecoder;async function Dh(o,l={}){let r=new fm({"/":""});r.addFile("/exiftool",ph),o instanceof File?r.addFile(`/${o.name}`,o):r.addFile(`/${o.name}`,o.data),l.config&&(l.config instanceof File?r.addFile(`/${l.config.name}`,l.config):r.addFile(`/${l.config.name}`,l.config.data),l.args=l.args||[],l.args.push(`-config=${l.config.name}`));let s=new du,$=new du,d=["zeroperl","exiftool"].concat(l.args||[]);d.push(`/${o.name}`);let g={env:{LC_ALL:"C",PERL_UNICODE:"SAD"},args:d,features:[bh,vh,Eh,Sh,Th,yh({withFileSystem:r,withStdIo:{stdout:w=>{let U;ArrayBuffer.isView(w)?U=Wd.decode(w):U=w,du.isMultiline(U)?s.append(U):s.appendLine(U)},stderr:w=>{let U;ArrayBuffer.isView(w)?U=Wd.decode(w):U=w,du.isMultiline(U)?$.append(U):$.appendLine(U)}}})]},x=new xh(g),E=l.fetch??fetch,{instance:b}=await Ch(E(Ah),{wasi_snapshot_preview1:x.wasiImport}),D=await x.start(b);if(D!==0)return{success:!1,data:void 0,error:$.toString(),exitCode:D};let C;return l.transform?C=l.transform(s.toString()):C=s.toString(),{success:!0,data:C,error:$.toString(),exitCode:D}}class _h{parseExiftoolOutput(l){const r=l.split(`
`).filter($=>$.trim()),s={};for(const $ of r){const d=$.indexOf(":");if(d===-1)continue;const g=$.substring(0,d).trim();let x=$.substring(d+1).trim();try{x.includes("")&&x.includes("")&&x.includes("")&&(x=decodeURIComponent(escape(x)))}catch{}g&&(s[g]=x||"")}return s}fixFileTimestamps(l,r){const d=new Date(r.lastModified).toISOString().replace("T"," ").replace(/\.\d{3}Z$/,"+09:00").replace(/-/g,":").substring(0,19),g={...l};return g["File Modification Date/Time"]==="0000:00:00 00:00:00"&&(g["File Modification Date/Time"]=d+"+09:00"),g["File Access Date/Time"]==="0000:00:00 00:00:00"&&(g["File Access Date/Time"]=d+"+09:00"),g["File Inode Change Date/Time"]?.startsWith("1970:01:01")&&(g["File Inode Change Date/Time"]=d+"+09:00"),g}async extractExif(l){if(!Yd.includes(l.type))throw new Error(Mt.FILE_TYPE_ERROR);if(l.size>Xd)throw new Error(Mt.FILE_SIZE_ERROR);try{const r=await Dh(l);if(!r.success)throw new Error(r.error||Mt.PARSE_ERROR);if(!r.data)throw new Error(Mt.NO_EXIF_ERROR);let s;if(typeof r.data=="string")s=this.parseExiftoolOutput(r.data);else if(r.data&&typeof r.data=="object")s=r.data;else throw new Error(Mt.NO_EXIF_ERROR);if(Object.keys(s).length===0)throw new Error(Mt.NO_EXIF_ERROR);return{raw:this.fixFileTimestamps(s,l)}}catch(r){throw r instanceof Error?r.message===Mt.NO_EXIF_ERROR?r:new Error(Mt.PARSE_ERROR):new Error(Mt.READ_ERROR)}}}class Nh{extractor;constructor(){this.extractor=new _h}async extractExif(l){try{return await this.extractor.extractExif(l)}catch(r){throw r instanceof Error?r:new Error("An unexpected error occurred")}}}const Rh=new Nh;function Fh(){const[o,l]=Fi.useState(null),[r,s]=Fi.useState(""),[$,d]=Fi.useState(!1),[g,x]=Fi.useState(""),E=async D=>{d(!0),x(""),l(null);try{const C=await Rh.extractExif(D);l(C),s(D.name)}catch(C){C instanceof Error?x(C.message):x("An unexpected error occurred")}finally{d(!1)}},b=D=>{x(D)};return _e.jsxs("div",{className:"app",children:[_e.jsxs("header",{className:"app-header",children:[_e.jsx("h1",{children:"EXIF Viewer"}),_e.jsx("p",{children:"View EXIF information from your images"})]}),_e.jsxs("main",{className:"app-main",children:[_e.jsx(jg,{onFileSelect:E,onError:b}),g&&_e.jsx("div",{className:"error-message",children:g}),$&&_e.jsx("div",{className:"loading",children:"Loading..."}),o&&!$&&_e.jsx(Wg,{exifData:o.raw,fileName:r})]})]})}kg.createRoot(document.getElementById("root")).render(_e.jsx(Fi.StrictMode,{children:_e.jsx(Fh,{})}));
